function Lp(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();function Ip(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xd={exports:{}},Xi={},gd={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Es=Symbol.for("react.element"),Fp=Symbol.for("react.portal"),Mp=Symbol.for("react.fragment"),Bp=Symbol.for("react.strict_mode"),Up=Symbol.for("react.profiler"),$p=Symbol.for("react.provider"),zp=Symbol.for("react.context"),Hp=Symbol.for("react.forward_ref"),Vp=Symbol.for("react.suspense"),qp=Symbol.for("react.memo"),Wp=Symbol.for("react.lazy"),Nc=Symbol.iterator;function Kp(e){return e===null||typeof e!="object"?null:(e=Nc&&e[Nc]||e["@@iterator"],typeof e=="function"?e:null)}var yd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wd=Object.assign,vd={};function _n(e,t,r){this.props=e,this.context=t,this.refs=vd,this.updater=r||yd}_n.prototype.isReactComponent={};_n.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_n.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bd(){}bd.prototype=_n.prototype;function pa(e,t,r){this.props=e,this.context=t,this.refs=vd,this.updater=r||yd}var ma=pa.prototype=new bd;ma.constructor=pa;wd(ma,_n.prototype);ma.isPureReactComponent=!0;var kc=Array.isArray,jd=Object.prototype.hasOwnProperty,xa={current:null},Nd={key:!0,ref:!0,__self:!0,__source:!0};function kd(e,t,r){var n,s={},o=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(o=""+t.key),t)jd.call(t,n)&&!Nd.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Es,type:e,key:o,ref:l,props:s,_owner:xa.current}}function Qp(e,t){return{$$typeof:Es,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ga(e){return typeof e=="object"&&e!==null&&e.$$typeof===Es}function Jp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Sc=/\/+/g;function ko(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Jp(""+e.key):t.toString(36)}function li(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Es:case Fp:l=!0}}if(l)return l=e,s=s(l),e=n===""?"."+ko(l,0):n,kc(s)?(r="",e!=null&&(r=e.replace(Sc,"$&/")+"/"),li(s,t,r,"",function(u){return u})):s!=null&&(ga(s)&&(s=Qp(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(Sc,"$&/")+"/")+e)),t.push(s)),1;if(l=0,n=n===""?".":n+":",kc(e))for(var a=0;a<e.length;a++){o=e[a];var c=n+ko(o,a);l+=li(o,t,r,c,s)}else if(c=Kp(e),typeof c=="function")for(e=c.call(e),a=0;!(o=e.next()).done;)o=o.value,c=n+ko(o,a++),l+=li(o,t,r,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Us(e,t,r){if(e==null)return e;var n=[],s=0;return li(e,n,"","",function(o){return t.call(r,o,s++)}),n}function Yp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var et={current:null},ai={transition:null},Gp={ReactCurrentDispatcher:et,ReactCurrentBatchConfig:ai,ReactCurrentOwner:xa};function Sd(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:Us,forEach:function(e,t,r){Us(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Us(e,function(){t++}),t},toArray:function(e){return Us(e,function(t){return t})||[]},only:function(e){if(!ga(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};X.Component=_n;X.Fragment=Mp;X.Profiler=Up;X.PureComponent=pa;X.StrictMode=Bp;X.Suspense=Vp;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gp;X.act=Sd;X.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=wd({},e.props),s=e.key,o=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,l=xa.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)jd.call(t,c)&&!Nd.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Es,type:e.type,key:s,ref:o,props:n,_owner:l}};X.createContext=function(e){return e={$$typeof:zp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:$p,_context:e},e.Consumer=e};X.createElement=kd;X.createFactory=function(e){var t=kd.bind(null,e);return t.type=e,t};X.createRef=function(){return{current:null}};X.forwardRef=function(e){return{$$typeof:Hp,render:e}};X.isValidElement=ga;X.lazy=function(e){return{$$typeof:Wp,_payload:{_status:-1,_result:e},_init:Yp}};X.memo=function(e,t){return{$$typeof:qp,type:e,compare:t===void 0?null:t}};X.startTransition=function(e){var t=ai.transition;ai.transition={};try{e()}finally{ai.transition=t}};X.unstable_act=Sd;X.useCallback=function(e,t){return et.current.useCallback(e,t)};X.useContext=function(e){return et.current.useContext(e)};X.useDebugValue=function(){};X.useDeferredValue=function(e){return et.current.useDeferredValue(e)};X.useEffect=function(e,t){return et.current.useEffect(e,t)};X.useId=function(){return et.current.useId()};X.useImperativeHandle=function(e,t,r){return et.current.useImperativeHandle(e,t,r)};X.useInsertionEffect=function(e,t){return et.current.useInsertionEffect(e,t)};X.useLayoutEffect=function(e,t){return et.current.useLayoutEffect(e,t)};X.useMemo=function(e,t){return et.current.useMemo(e,t)};X.useReducer=function(e,t,r){return et.current.useReducer(e,t,r)};X.useRef=function(e){return et.current.useRef(e)};X.useState=function(e){return et.current.useState(e)};X.useSyncExternalStore=function(e,t,r){return et.current.useSyncExternalStore(e,t,r)};X.useTransition=function(){return et.current.useTransition()};X.version="18.3.1";gd.exports=X;var x=gd.exports;const Cd=Ip(x),Xp=Lp({__proto__:null,default:Cd},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp=x,em=Symbol.for("react.element"),tm=Symbol.for("react.fragment"),rm=Object.prototype.hasOwnProperty,nm=Zp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sm={key:!0,ref:!0,__self:!0,__source:!0};function Ed(e,t,r){var n,s={},o=null,l=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)rm.call(t,n)&&!sm.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:em,type:e,key:o,ref:l,props:s,_owner:nm.current}}Xi.Fragment=tm;Xi.jsx=Ed;Xi.jsxs=Ed;xd.exports=Xi;var i=xd.exports,ol={},_d={exports:{}},wt={},Td={exports:{}},Rd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,B){var V=A.length;A.push(B);e:for(;0<V;){var T=V-1>>>1,q=A[T];if(0<s(q,B))A[T]=B,A[V]=q,V=T;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var B=A[0],V=A.pop();if(V!==B){A[0]=V;e:for(var T=0,q=A.length,K=q>>>1;T<K;){var ee=2*(T+1)-1,Fe=A[ee],se=ee+1,P=A[se];if(0>s(Fe,V))se<q&&0>s(P,Fe)?(A[T]=P,A[se]=V,T=se):(A[T]=Fe,A[ee]=V,T=ee);else if(se<q&&0>s(P,V))A[T]=P,A[se]=V,T=se;else break e}}return B}function s(A,B){var V=A.sortIndex-B.sortIndex;return V!==0?V:A.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,a=l.now();e.unstable_now=function(){return l.now()-a}}var c=[],u=[],d=1,f=null,p=3,j=!1,m=!1,w=!1,N=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(A){for(var B=r(u);B!==null;){if(B.callback===null)n(u);else if(B.startTime<=A)n(u),B.sortIndex=B.expirationTime,t(c,B);else break;B=r(u)}}function k(A){if(w=!1,y(A),!m)if(r(c)!==null)m=!0,ue(C);else{var B=r(u);B!==null&&de(k,B.startTime-A)}}function C(A,B){m=!1,w&&(w=!1,g(b),b=-1),j=!0;var V=p;try{for(y(B),f=r(c);f!==null&&(!(f.expirationTime>B)||A&&!H());){var T=f.callback;if(typeof T=="function"){f.callback=null,p=f.priorityLevel;var q=T(f.expirationTime<=B);B=e.unstable_now(),typeof q=="function"?f.callback=q:f===r(c)&&n(c),y(B)}else n(c);f=r(c)}if(f!==null)var K=!0;else{var ee=r(u);ee!==null&&de(k,ee.startTime-B),K=!1}return K}finally{f=null,p=V,j=!1}}var _=!1,R=null,b=-1,O=5,D=-1;function H(){return!(e.unstable_now()-D<O)}function Z(){if(R!==null){var A=e.unstable_now();D=A;var B=!0;try{B=R(!0,A)}finally{B?re():(_=!1,R=null)}}else _=!1}var re;if(typeof h=="function")re=function(){h(Z)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,Se=le.port2;le.port1.onmessage=Z,re=function(){Se.postMessage(null)}}else re=function(){N(Z,0)};function ue(A){R=A,_||(_=!0,re())}function de(A,B){b=N(function(){A(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){m||j||(m=!0,ue(C))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(A){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var V=p;p=B;try{return A()}finally{p=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,B){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var V=p;p=A;try{return B()}finally{p=V}},e.unstable_scheduleCallback=function(A,B,V){var T=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?T+V:T):V=T,A){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=V+q,A={id:d++,callback:B,priorityLevel:A,startTime:V,expirationTime:q,sortIndex:-1},V>T?(A.sortIndex=V,t(u,A),r(c)===null&&A===r(u)&&(w?(g(b),b=-1):w=!0,de(k,V-T))):(A.sortIndex=q,t(c,A),m||j||(m=!0,ue(C))),A},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(A){var B=p;return function(){var V=p;p=B;try{return A.apply(this,arguments)}finally{p=V}}}})(Rd);Td.exports=Rd;var im=Td.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var om=x,yt=im;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Pd=new Set,as={};function Wr(e,t){vn(e,t),vn(e+"Capture",t)}function vn(e,t){for(as[e]=t,e=0;e<t.length;e++)Pd.add(t[e])}var Zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ll=Object.prototype.hasOwnProperty,lm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cc={},Ec={};function am(e){return ll.call(Ec,e)?!0:ll.call(Cc,e)?!1:lm.test(e)?Ec[e]=!0:(Cc[e]=!0,!1)}function cm(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function um(e,t,r,n){if(t===null||typeof t>"u"||cm(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function tt(e,t,r,n,s,o,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qe[e]=new tt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qe[t]=new tt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qe[e]=new tt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qe[e]=new tt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qe[e]=new tt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qe[e]=new tt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qe[e]=new tt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qe[e]=new tt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qe[e]=new tt(e,5,!1,e.toLowerCase(),null,!1,!1)});var ya=/[\-:]([a-z])/g;function wa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ya,wa);qe[t]=new tt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ya,wa);qe[t]=new tt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ya,wa);qe[t]=new tt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qe[e]=new tt(e,1,!1,e.toLowerCase(),null,!1,!1)});qe.xlinkHref=new tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qe[e]=new tt(e,1,!1,e.toLowerCase(),null,!0,!0)});function va(e,t,r,n){var s=qe.hasOwnProperty(t)?qe[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(um(t,r,s,n)&&(r=null),n||s===null?am(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var nr=om.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$s=Symbol.for("react.element"),tn=Symbol.for("react.portal"),rn=Symbol.for("react.fragment"),ba=Symbol.for("react.strict_mode"),al=Symbol.for("react.profiler"),Dd=Symbol.for("react.provider"),Ad=Symbol.for("react.context"),ja=Symbol.for("react.forward_ref"),cl=Symbol.for("react.suspense"),ul=Symbol.for("react.suspense_list"),Na=Symbol.for("react.memo"),or=Symbol.for("react.lazy"),Od=Symbol.for("react.offscreen"),_c=Symbol.iterator;function In(e){return e===null||typeof e!="object"?null:(e=_c&&e[_c]||e["@@iterator"],typeof e=="function"?e:null)}var ke=Object.assign,So;function Qn(e){if(So===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);So=t&&t[1]||""}return`
`+So+e}var Co=!1;function Eo(e,t){if(!e||Co)return"";Co=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=n.stack.split(`
`),l=s.length-1,a=o.length-1;1<=l&&0<=a&&s[l]!==o[a];)a--;for(;1<=l&&0<=a;l--,a--)if(s[l]!==o[a]){if(l!==1||a!==1)do if(l--,a--,0>a||s[l]!==o[a]){var c=`
`+s[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=a);break}}}finally{Co=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Qn(e):""}function dm(e){switch(e.tag){case 5:return Qn(e.type);case 16:return Qn("Lazy");case 13:return Qn("Suspense");case 19:return Qn("SuspenseList");case 0:case 2:case 15:return e=Eo(e.type,!1),e;case 11:return e=Eo(e.type.render,!1),e;case 1:return e=Eo(e.type,!0),e;default:return""}}function dl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rn:return"Fragment";case tn:return"Portal";case al:return"Profiler";case ba:return"StrictMode";case cl:return"Suspense";case ul:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ad:return(e.displayName||"Context")+".Consumer";case Dd:return(e._context.displayName||"Context")+".Provider";case ja:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Na:return t=e.displayName||null,t!==null?t:dl(e.type)||"Memo";case or:t=e._payload,e=e._init;try{return dl(e(t))}catch{}}return null}function hm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dl(t);case 8:return t===ba?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Nr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ld(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fm(e){var t=Ld(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){n=""+l,o.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zs(e){e._valueTracker||(e._valueTracker=fm(e))}function Id(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Ld(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function hl(e,t){var r=t.checked;return ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Tc(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Nr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Fd(e,t){t=t.checked,t!=null&&va(e,"checked",t,!1)}function fl(e,t){Fd(e,t);var r=Nr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?pl(e,t.type,r):t.hasOwnProperty("defaultValue")&&pl(e,t.type,Nr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Rc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function pl(e,t,r){(t!=="number"||Ci(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Jn=Array.isArray;function pn(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Nr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ml(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(L(92));if(Jn(r)){if(1<r.length)throw Error(L(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Nr(r)}}function Md(e,t){var r=Nr(t.value),n=Nr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Dc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Bd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Bd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hs,Ud=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hs=Hs||document.createElement("div"),Hs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function cs(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Zn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pm=["Webkit","ms","Moz","O"];Object.keys(Zn).forEach(function(e){pm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zn[t]=Zn[e]})});function $d(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Zn.hasOwnProperty(e)&&Zn[e]?(""+t).trim():t+"px"}function zd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=$d(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var mm=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gl(e,t){if(t){if(mm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function yl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wl=null;function ka(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vl=null,mn=null,xn=null;function Ac(e){if(e=Rs(e)){if(typeof vl!="function")throw Error(L(280));var t=e.stateNode;t&&(t=no(t),vl(e.stateNode,e.type,t))}}function Hd(e){mn?xn?xn.push(e):xn=[e]:mn=e}function Vd(){if(mn){var e=mn,t=xn;if(xn=mn=null,Ac(e),t)for(e=0;e<t.length;e++)Ac(t[e])}}function qd(e,t){return e(t)}function Wd(){}var _o=!1;function Kd(e,t,r){if(_o)return e(t,r);_o=!0;try{return qd(e,t,r)}finally{_o=!1,(mn!==null||xn!==null)&&(Wd(),Vd())}}function us(e,t){var r=e.stateNode;if(r===null)return null;var n=no(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(L(231,t,typeof r));return r}var bl=!1;if(Zt)try{var Fn={};Object.defineProperty(Fn,"passive",{get:function(){bl=!0}}),window.addEventListener("test",Fn,Fn),window.removeEventListener("test",Fn,Fn)}catch{bl=!1}function xm(e,t,r,n,s,o,l,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var es=!1,Ei=null,_i=!1,jl=null,gm={onError:function(e){es=!0,Ei=e}};function ym(e,t,r,n,s,o,l,a,c){es=!1,Ei=null,xm.apply(gm,arguments)}function wm(e,t,r,n,s,o,l,a,c){if(ym.apply(this,arguments),es){if(es){var u=Ei;es=!1,Ei=null}else throw Error(L(198));_i||(_i=!0,jl=u)}}function Kr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Qd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Oc(e){if(Kr(e)!==e)throw Error(L(188))}function vm(e){var t=e.alternate;if(!t){if(t=Kr(e),t===null)throw Error(L(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return Oc(s),e;if(o===n)return Oc(s),t;o=o.sibling}throw Error(L(188))}if(r.return!==n.return)r=s,n=o;else{for(var l=!1,a=s.child;a;){if(a===r){l=!0,r=s,n=o;break}if(a===n){l=!0,n=s,r=o;break}a=a.sibling}if(!l){for(a=o.child;a;){if(a===r){l=!0,r=o,n=s;break}if(a===n){l=!0,n=o,r=s;break}a=a.sibling}if(!l)throw Error(L(189))}}if(r.alternate!==n)throw Error(L(190))}if(r.tag!==3)throw Error(L(188));return r.stateNode.current===r?e:t}function Jd(e){return e=vm(e),e!==null?Yd(e):null}function Yd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Yd(e);if(t!==null)return t;e=e.sibling}return null}var Gd=yt.unstable_scheduleCallback,Lc=yt.unstable_cancelCallback,bm=yt.unstable_shouldYield,jm=yt.unstable_requestPaint,Te=yt.unstable_now,Nm=yt.unstable_getCurrentPriorityLevel,Sa=yt.unstable_ImmediatePriority,Xd=yt.unstable_UserBlockingPriority,Ti=yt.unstable_NormalPriority,km=yt.unstable_LowPriority,Zd=yt.unstable_IdlePriority,Zi=null,Ht=null;function Sm(e){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Zi,e,void 0,(e.current.flags&128)===128)}catch{}}var Lt=Math.clz32?Math.clz32:_m,Cm=Math.log,Em=Math.LN2;function _m(e){return e>>>=0,e===0?32:31-(Cm(e)/Em|0)|0}var Vs=64,qs=4194304;function Yn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ri(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,l=r&268435455;if(l!==0){var a=l&~s;a!==0?n=Yn(a):(o&=l,o!==0&&(n=Yn(o)))}else l=r&~s,l!==0?n=Yn(l):o!==0&&(n=Yn(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Lt(t),s=1<<r,n|=e[r],t&=~s;return n}function Tm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rm(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-Lt(o),a=1<<l,c=s[l];c===-1?(!(a&r)||a&n)&&(s[l]=Tm(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}function Nl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function eh(){var e=Vs;return Vs<<=1,!(Vs&4194240)&&(Vs=64),e}function To(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function _s(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Lt(t),e[t]=r}function Pm(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Lt(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function Ca(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Lt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var fe=0;function th(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var rh,Ea,nh,sh,ih,kl=!1,Ws=[],fr=null,pr=null,mr=null,ds=new Map,hs=new Map,ar=[],Dm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ic(e,t){switch(e){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":ds.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hs.delete(t.pointerId)}}function Mn(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Rs(t),t!==null&&Ea(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Am(e,t,r,n,s){switch(t){case"focusin":return fr=Mn(fr,e,t,r,n,s),!0;case"dragenter":return pr=Mn(pr,e,t,r,n,s),!0;case"mouseover":return mr=Mn(mr,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return ds.set(o,Mn(ds.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,hs.set(o,Mn(hs.get(o)||null,e,t,r,n,s)),!0}return!1}function oh(e){var t=Ar(e.target);if(t!==null){var r=Kr(t);if(r!==null){if(t=r.tag,t===13){if(t=Qd(r),t!==null){e.blockedOn=t,ih(e.priority,function(){nh(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ci(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Sl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);wl=n,r.target.dispatchEvent(n),wl=null}else return t=Rs(r),t!==null&&Ea(t),e.blockedOn=r,!1;t.shift()}return!0}function Fc(e,t,r){ci(e)&&r.delete(t)}function Om(){kl=!1,fr!==null&&ci(fr)&&(fr=null),pr!==null&&ci(pr)&&(pr=null),mr!==null&&ci(mr)&&(mr=null),ds.forEach(Fc),hs.forEach(Fc)}function Bn(e,t){e.blockedOn===t&&(e.blockedOn=null,kl||(kl=!0,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,Om)))}function fs(e){function t(s){return Bn(s,e)}if(0<Ws.length){Bn(Ws[0],e);for(var r=1;r<Ws.length;r++){var n=Ws[r];n.blockedOn===e&&(n.blockedOn=null)}}for(fr!==null&&Bn(fr,e),pr!==null&&Bn(pr,e),mr!==null&&Bn(mr,e),ds.forEach(t),hs.forEach(t),r=0;r<ar.length;r++)n=ar[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ar.length&&(r=ar[0],r.blockedOn===null);)oh(r),r.blockedOn===null&&ar.shift()}var gn=nr.ReactCurrentBatchConfig,Pi=!0;function Lm(e,t,r,n){var s=fe,o=gn.transition;gn.transition=null;try{fe=1,_a(e,t,r,n)}finally{fe=s,gn.transition=o}}function Im(e,t,r,n){var s=fe,o=gn.transition;gn.transition=null;try{fe=4,_a(e,t,r,n)}finally{fe=s,gn.transition=o}}function _a(e,t,r,n){if(Pi){var s=Sl(e,t,r,n);if(s===null)Bo(e,t,n,Di,r),Ic(e,n);else if(Am(s,e,t,r,n))n.stopPropagation();else if(Ic(e,n),t&4&&-1<Dm.indexOf(e)){for(;s!==null;){var o=Rs(s);if(o!==null&&rh(o),o=Sl(e,t,r,n),o===null&&Bo(e,t,n,Di,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else Bo(e,t,n,null,r)}}var Di=null;function Sl(e,t,r,n){if(Di=null,e=ka(n),e=Ar(e),e!==null)if(t=Kr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Qd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Di=e,null}function lh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nm()){case Sa:return 1;case Xd:return 4;case Ti:case km:return 16;case Zd:return 536870912;default:return 16}default:return 16}}var ur=null,Ta=null,ui=null;function ah(){if(ui)return ui;var e,t=Ta,r=t.length,n,s="value"in ur?ur.value:ur.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===s[o-n];n++);return ui=s.slice(e,1<n?1-n:void 0)}function di(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ks(){return!0}function Mc(){return!1}function vt(e){function t(r,n,s,o,l){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ks:Mc,this.isPropagationStopped=Mc,this}return ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ks)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ks)},persist:function(){},isPersistent:Ks}),t}var Tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ra=vt(Tn),Ts=ke({},Tn,{view:0,detail:0}),Fm=vt(Ts),Ro,Po,Un,eo=ke({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Un&&(Un&&e.type==="mousemove"?(Ro=e.screenX-Un.screenX,Po=e.screenY-Un.screenY):Po=Ro=0,Un=e),Ro)},movementY:function(e){return"movementY"in e?e.movementY:Po}}),Bc=vt(eo),Mm=ke({},eo,{dataTransfer:0}),Bm=vt(Mm),Um=ke({},Ts,{relatedTarget:0}),Do=vt(Um),$m=ke({},Tn,{animationName:0,elapsedTime:0,pseudoElement:0}),zm=vt($m),Hm=ke({},Tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Vm=vt(Hm),qm=ke({},Tn,{data:0}),Uc=vt(qm),Wm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Km={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Qm[e])?!!t[e]:!1}function Pa(){return Jm}var Ym=ke({},Ts,{key:function(e){if(e.key){var t=Wm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=di(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Km[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pa,charCode:function(e){return e.type==="keypress"?di(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?di(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gm=vt(Ym),Xm=ke({},eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$c=vt(Xm),Zm=ke({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pa}),ex=vt(Zm),tx=ke({},Tn,{propertyName:0,elapsedTime:0,pseudoElement:0}),rx=vt(tx),nx=ke({},eo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sx=vt(nx),ix=[9,13,27,32],Da=Zt&&"CompositionEvent"in window,ts=null;Zt&&"documentMode"in document&&(ts=document.documentMode);var ox=Zt&&"TextEvent"in window&&!ts,ch=Zt&&(!Da||ts&&8<ts&&11>=ts),zc=" ",Hc=!1;function uh(e,t){switch(e){case"keyup":return ix.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var nn=!1;function lx(e,t){switch(e){case"compositionend":return dh(t);case"keypress":return t.which!==32?null:(Hc=!0,zc);case"textInput":return e=t.data,e===zc&&Hc?null:e;default:return null}}function ax(e,t){if(nn)return e==="compositionend"||!Da&&uh(e,t)?(e=ah(),ui=Ta=ur=null,nn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ch&&t.locale!=="ko"?null:t.data;default:return null}}var cx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cx[e.type]:t==="textarea"}function hh(e,t,r,n){Hd(n),t=Ai(t,"onChange"),0<t.length&&(r=new Ra("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var rs=null,ps=null;function ux(e){Nh(e,0)}function to(e){var t=ln(e);if(Id(t))return e}function dx(e,t){if(e==="change")return t}var fh=!1;if(Zt){var Ao;if(Zt){var Oo="oninput"in document;if(!Oo){var qc=document.createElement("div");qc.setAttribute("oninput","return;"),Oo=typeof qc.oninput=="function"}Ao=Oo}else Ao=!1;fh=Ao&&(!document.documentMode||9<document.documentMode)}function Wc(){rs&&(rs.detachEvent("onpropertychange",ph),ps=rs=null)}function ph(e){if(e.propertyName==="value"&&to(ps)){var t=[];hh(t,ps,e,ka(e)),Kd(ux,t)}}function hx(e,t,r){e==="focusin"?(Wc(),rs=t,ps=r,rs.attachEvent("onpropertychange",ph)):e==="focusout"&&Wc()}function fx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return to(ps)}function px(e,t){if(e==="click")return to(t)}function mx(e,t){if(e==="input"||e==="change")return to(t)}function xx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ft=typeof Object.is=="function"?Object.is:xx;function ms(e,t){if(Ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!ll.call(t,s)||!Ft(e[s],t[s]))return!1}return!0}function Kc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qc(e,t){var r=Kc(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Kc(r)}}function mh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?mh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xh(){for(var e=window,t=Ci();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ci(e.document)}return t}function Aa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function gx(e){var t=xh(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&mh(r.ownerDocument.documentElement,r)){if(n!==null&&Aa(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=Qc(r,o);var l=Qc(r,n);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yx=Zt&&"documentMode"in document&&11>=document.documentMode,sn=null,Cl=null,ns=null,El=!1;function Jc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;El||sn==null||sn!==Ci(n)||(n=sn,"selectionStart"in n&&Aa(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ns&&ms(ns,n)||(ns=n,n=Ai(Cl,"onSelect"),0<n.length&&(t=new Ra("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=sn)))}function Qs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var on={animationend:Qs("Animation","AnimationEnd"),animationiteration:Qs("Animation","AnimationIteration"),animationstart:Qs("Animation","AnimationStart"),transitionend:Qs("Transition","TransitionEnd")},Lo={},gh={};Zt&&(gh=document.createElement("div").style,"AnimationEvent"in window||(delete on.animationend.animation,delete on.animationiteration.animation,delete on.animationstart.animation),"TransitionEvent"in window||delete on.transitionend.transition);function ro(e){if(Lo[e])return Lo[e];if(!on[e])return e;var t=on[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in gh)return Lo[e]=t[r];return e}var yh=ro("animationend"),wh=ro("animationiteration"),vh=ro("animationstart"),bh=ro("transitionend"),jh=new Map,Yc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){jh.set(e,t),Wr(t,[e])}for(var Io=0;Io<Yc.length;Io++){var Fo=Yc[Io],wx=Fo.toLowerCase(),vx=Fo[0].toUpperCase()+Fo.slice(1);Sr(wx,"on"+vx)}Sr(yh,"onAnimationEnd");Sr(wh,"onAnimationIteration");Sr(vh,"onAnimationStart");Sr("dblclick","onDoubleClick");Sr("focusin","onFocus");Sr("focusout","onBlur");Sr(bh,"onTransitionEnd");vn("onMouseEnter",["mouseout","mouseover"]);vn("onMouseLeave",["mouseout","mouseover"]);vn("onPointerEnter",["pointerout","pointerover"]);vn("onPointerLeave",["pointerout","pointerover"]);Wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gn));function Gc(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,wm(n,t,void 0,e),e.currentTarget=null}function Nh(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var l=n.length-1;0<=l;l--){var a=n[l],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==o&&s.isPropagationStopped())break e;Gc(s,a,u),o=c}else for(l=0;l<n.length;l++){if(a=n[l],c=a.instance,u=a.currentTarget,a=a.listener,c!==o&&s.isPropagationStopped())break e;Gc(s,a,u),o=c}}}if(_i)throw e=jl,_i=!1,jl=null,e}function xe(e,t){var r=t[Dl];r===void 0&&(r=t[Dl]=new Set);var n=e+"__bubble";r.has(n)||(kh(t,e,2,!1),r.add(n))}function Mo(e,t,r){var n=0;t&&(n|=4),kh(r,e,n,t)}var Js="_reactListening"+Math.random().toString(36).slice(2);function xs(e){if(!e[Js]){e[Js]=!0,Pd.forEach(function(r){r!=="selectionchange"&&(bx.has(r)||Mo(r,!1,e),Mo(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Js]||(t[Js]=!0,Mo("selectionchange",!1,t))}}function kh(e,t,r,n){switch(lh(t)){case 1:var s=Lm;break;case 4:s=Im;break;default:s=_a}r=s.bind(null,t,r,e),s=void 0,!bl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Bo(e,t,r,n,s){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;l=l.return}for(;a!==null;){if(l=Ar(a),l===null)return;if(c=l.tag,c===5||c===6){n=o=l;continue e}a=a.parentNode}}n=n.return}Kd(function(){var u=o,d=ka(r),f=[];e:{var p=jh.get(e);if(p!==void 0){var j=Ra,m=e;switch(e){case"keypress":if(di(r)===0)break e;case"keydown":case"keyup":j=Gm;break;case"focusin":m="focus",j=Do;break;case"focusout":m="blur",j=Do;break;case"beforeblur":case"afterblur":j=Do;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Bc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Bm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=ex;break;case yh:case wh:case vh:j=zm;break;case bh:j=rx;break;case"scroll":j=Fm;break;case"wheel":j=sx;break;case"copy":case"cut":case"paste":j=Vm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=$c}var w=(t&4)!==0,N=!w&&e==="scroll",g=w?p!==null?p+"Capture":null:p;w=[];for(var h=u,y;h!==null;){y=h;var k=y.stateNode;if(y.tag===5&&k!==null&&(y=k,g!==null&&(k=us(h,g),k!=null&&w.push(gs(h,k,y)))),N)break;h=h.return}0<w.length&&(p=new j(p,m,null,r,d),f.push({event:p,listeners:w}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",p&&r!==wl&&(m=r.relatedTarget||r.fromElement)&&(Ar(m)||m[er]))break e;if((j||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,j?(m=r.relatedTarget||r.toElement,j=u,m=m?Ar(m):null,m!==null&&(N=Kr(m),m!==N||m.tag!==5&&m.tag!==6)&&(m=null)):(j=null,m=u),j!==m)){if(w=Bc,k="onMouseLeave",g="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(w=$c,k="onPointerLeave",g="onPointerEnter",h="pointer"),N=j==null?p:ln(j),y=m==null?p:ln(m),p=new w(k,h+"leave",j,r,d),p.target=N,p.relatedTarget=y,k=null,Ar(d)===u&&(w=new w(g,h+"enter",m,r,d),w.target=y,w.relatedTarget=N,k=w),N=k,j&&m)t:{for(w=j,g=m,h=0,y=w;y;y=Yr(y))h++;for(y=0,k=g;k;k=Yr(k))y++;for(;0<h-y;)w=Yr(w),h--;for(;0<y-h;)g=Yr(g),y--;for(;h--;){if(w===g||g!==null&&w===g.alternate)break t;w=Yr(w),g=Yr(g)}w=null}else w=null;j!==null&&Xc(f,p,j,w,!1),m!==null&&N!==null&&Xc(f,N,m,w,!0)}}e:{if(p=u?ln(u):window,j=p.nodeName&&p.nodeName.toLowerCase(),j==="select"||j==="input"&&p.type==="file")var C=dx;else if(Vc(p))if(fh)C=mx;else{C=fx;var _=hx}else(j=p.nodeName)&&j.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=px);if(C&&(C=C(e,u))){hh(f,C,r,d);break e}_&&_(e,p,u),e==="focusout"&&(_=p._wrapperState)&&_.controlled&&p.type==="number"&&pl(p,"number",p.value)}switch(_=u?ln(u):window,e){case"focusin":(Vc(_)||_.contentEditable==="true")&&(sn=_,Cl=u,ns=null);break;case"focusout":ns=Cl=sn=null;break;case"mousedown":El=!0;break;case"contextmenu":case"mouseup":case"dragend":El=!1,Jc(f,r,d);break;case"selectionchange":if(yx)break;case"keydown":case"keyup":Jc(f,r,d)}var R;if(Da)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else nn?uh(e,r)&&(b="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(b="onCompositionStart");b&&(ch&&r.locale!=="ko"&&(nn||b!=="onCompositionStart"?b==="onCompositionEnd"&&nn&&(R=ah()):(ur=d,Ta="value"in ur?ur.value:ur.textContent,nn=!0)),_=Ai(u,b),0<_.length&&(b=new Uc(b,e,null,r,d),f.push({event:b,listeners:_}),R?b.data=R:(R=dh(r),R!==null&&(b.data=R)))),(R=ox?lx(e,r):ax(e,r))&&(u=Ai(u,"onBeforeInput"),0<u.length&&(d=new Uc("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=R))}Nh(f,t)})}function gs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ai(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=us(e,r),o!=null&&n.unshift(gs(e,o,s)),o=us(e,t),o!=null&&n.push(gs(e,o,s))),e=e.return}return n}function Yr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Xc(e,t,r,n,s){for(var o=t._reactName,l=[];r!==null&&r!==n;){var a=r,c=a.alternate,u=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&u!==null&&(a=u,s?(c=us(r,o),c!=null&&l.unshift(gs(r,c,a))):s||(c=us(r,o),c!=null&&l.push(gs(r,c,a)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var jx=/\r\n?/g,Nx=/\u0000|\uFFFD/g;function Zc(e){return(typeof e=="string"?e:""+e).replace(jx,`
`).replace(Nx,"")}function Ys(e,t,r){if(t=Zc(t),Zc(e)!==t&&r)throw Error(L(425))}function Oi(){}var _l=null,Tl=null;function Rl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pl=typeof setTimeout=="function"?setTimeout:void 0,kx=typeof clearTimeout=="function"?clearTimeout:void 0,eu=typeof Promise=="function"?Promise:void 0,Sx=typeof queueMicrotask=="function"?queueMicrotask:typeof eu<"u"?function(e){return eu.resolve(null).then(e).catch(Cx)}:Pl;function Cx(e){setTimeout(function(){throw e})}function Uo(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),fs(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);fs(t)}function xr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function tu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Rn=Math.random().toString(36).slice(2),zt="__reactFiber$"+Rn,ys="__reactProps$"+Rn,er="__reactContainer$"+Rn,Dl="__reactEvents$"+Rn,Ex="__reactListeners$"+Rn,_x="__reactHandles$"+Rn;function Ar(e){var t=e[zt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[er]||r[zt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=tu(e);e!==null;){if(r=e[zt])return r;e=tu(e)}return t}e=r,r=e.parentNode}return null}function Rs(e){return e=e[zt]||e[er],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ln(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function no(e){return e[ys]||null}var Al=[],an=-1;function Cr(e){return{current:e}}function ge(e){0>an||(e.current=Al[an],Al[an]=null,an--)}function pe(e,t){an++,Al[an]=e.current,e.current=t}var kr={},Ge=Cr(kr),at=Cr(!1),Ur=kr;function bn(e,t){var r=e.type.contextTypes;if(!r)return kr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ct(e){return e=e.childContextTypes,e!=null}function Li(){ge(at),ge(Ge)}function ru(e,t,r){if(Ge.current!==kr)throw Error(L(168));pe(Ge,t),pe(at,r)}function Sh(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(L(108,hm(e)||"Unknown",s));return ke({},r,n)}function Ii(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kr,Ur=Ge.current,pe(Ge,e),pe(at,at.current),!0}function nu(e,t,r){var n=e.stateNode;if(!n)throw Error(L(169));r?(e=Sh(e,t,Ur),n.__reactInternalMemoizedMergedChildContext=e,ge(at),ge(Ge),pe(Ge,e)):ge(at),pe(at,r)}var Qt=null,so=!1,$o=!1;function Ch(e){Qt===null?Qt=[e]:Qt.push(e)}function Tx(e){so=!0,Ch(e)}function Er(){if(!$o&&Qt!==null){$o=!0;var e=0,t=fe;try{var r=Qt;for(fe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Qt=null,so=!1}catch(s){throw Qt!==null&&(Qt=Qt.slice(e+1)),Gd(Sa,Er),s}finally{fe=t,$o=!1}}return null}var cn=[],un=0,Fi=null,Mi=0,Nt=[],kt=0,$r=null,Jt=1,Yt="";function Pr(e,t){cn[un++]=Mi,cn[un++]=Fi,Fi=e,Mi=t}function Eh(e,t,r){Nt[kt++]=Jt,Nt[kt++]=Yt,Nt[kt++]=$r,$r=e;var n=Jt;e=Yt;var s=32-Lt(n)-1;n&=~(1<<s),r+=1;var o=32-Lt(t)+s;if(30<o){var l=s-s%5;o=(n&(1<<l)-1).toString(32),n>>=l,s-=l,Jt=1<<32-Lt(t)+s|r<<s|n,Yt=o+e}else Jt=1<<o|r<<s|n,Yt=e}function Oa(e){e.return!==null&&(Pr(e,1),Eh(e,1,0))}function La(e){for(;e===Fi;)Fi=cn[--un],cn[un]=null,Mi=cn[--un],cn[un]=null;for(;e===$r;)$r=Nt[--kt],Nt[kt]=null,Yt=Nt[--kt],Nt[kt]=null,Jt=Nt[--kt],Nt[kt]=null}var gt=null,xt=null,ve=!1,Ot=null;function _h(e,t){var r=Ct(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function su(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gt=e,xt=xr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gt=e,xt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=$r!==null?{id:Jt,overflow:Yt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ct(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,gt=e,xt=null,!0):!1;default:return!1}}function Ol(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ll(e){if(ve){var t=xt;if(t){var r=t;if(!su(e,t)){if(Ol(e))throw Error(L(418));t=xr(r.nextSibling);var n=gt;t&&su(e,t)?_h(n,r):(e.flags=e.flags&-4097|2,ve=!1,gt=e)}}else{if(Ol(e))throw Error(L(418));e.flags=e.flags&-4097|2,ve=!1,gt=e}}}function iu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gt=e}function Gs(e){if(e!==gt)return!1;if(!ve)return iu(e),ve=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Rl(e.type,e.memoizedProps)),t&&(t=xt)){if(Ol(e))throw Th(),Error(L(418));for(;t;)_h(e,t),t=xr(t.nextSibling)}if(iu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){xt=xr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}xt=null}}else xt=gt?xr(e.stateNode.nextSibling):null;return!0}function Th(){for(var e=xt;e;)e=xr(e.nextSibling)}function jn(){xt=gt=null,ve=!1}function Ia(e){Ot===null?Ot=[e]:Ot.push(e)}var Rx=nr.ReactCurrentBatchConfig;function $n(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(L(309));var n=r.stateNode}if(!n)throw Error(L(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(l){var a=s.refs;l===null?delete a[o]:a[o]=l},t._stringRef=o,t)}if(typeof e!="string")throw Error(L(284));if(!r._owner)throw Error(L(290,e))}return e}function Xs(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ou(e){var t=e._init;return t(e._payload)}function Rh(e){function t(g,h){if(e){var y=g.deletions;y===null?(g.deletions=[h],g.flags|=16):y.push(h)}}function r(g,h){if(!e)return null;for(;h!==null;)t(g,h),h=h.sibling;return null}function n(g,h){for(g=new Map;h!==null;)h.key!==null?g.set(h.key,h):g.set(h.index,h),h=h.sibling;return g}function s(g,h){return g=vr(g,h),g.index=0,g.sibling=null,g}function o(g,h,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<h?(g.flags|=2,h):y):(g.flags|=2,h)):(g.flags|=1048576,h)}function l(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,h,y,k){return h===null||h.tag!==6?(h=Qo(y,g.mode,k),h.return=g,h):(h=s(h,y),h.return=g,h)}function c(g,h,y,k){var C=y.type;return C===rn?d(g,h,y.props.children,k,y.key):h!==null&&(h.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===or&&ou(C)===h.type)?(k=s(h,y.props),k.ref=$n(g,h,y),k.return=g,k):(k=yi(y.type,y.key,y.props,null,g.mode,k),k.ref=$n(g,h,y),k.return=g,k)}function u(g,h,y,k){return h===null||h.tag!==4||h.stateNode.containerInfo!==y.containerInfo||h.stateNode.implementation!==y.implementation?(h=Jo(y,g.mode,k),h.return=g,h):(h=s(h,y.children||[]),h.return=g,h)}function d(g,h,y,k,C){return h===null||h.tag!==7?(h=Mr(y,g.mode,k,C),h.return=g,h):(h=s(h,y),h.return=g,h)}function f(g,h,y){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Qo(""+h,g.mode,y),h.return=g,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case $s:return y=yi(h.type,h.key,h.props,null,g.mode,y),y.ref=$n(g,null,h),y.return=g,y;case tn:return h=Jo(h,g.mode,y),h.return=g,h;case or:var k=h._init;return f(g,k(h._payload),y)}if(Jn(h)||In(h))return h=Mr(h,g.mode,y,null),h.return=g,h;Xs(g,h)}return null}function p(g,h,y,k){var C=h!==null?h.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return C!==null?null:a(g,h,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case $s:return y.key===C?c(g,h,y,k):null;case tn:return y.key===C?u(g,h,y,k):null;case or:return C=y._init,p(g,h,C(y._payload),k)}if(Jn(y)||In(y))return C!==null?null:d(g,h,y,k,null);Xs(g,y)}return null}function j(g,h,y,k,C){if(typeof k=="string"&&k!==""||typeof k=="number")return g=g.get(y)||null,a(h,g,""+k,C);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case $s:return g=g.get(k.key===null?y:k.key)||null,c(h,g,k,C);case tn:return g=g.get(k.key===null?y:k.key)||null,u(h,g,k,C);case or:var _=k._init;return j(g,h,y,_(k._payload),C)}if(Jn(k)||In(k))return g=g.get(y)||null,d(h,g,k,C,null);Xs(h,k)}return null}function m(g,h,y,k){for(var C=null,_=null,R=h,b=h=0,O=null;R!==null&&b<y.length;b++){R.index>b?(O=R,R=null):O=R.sibling;var D=p(g,R,y[b],k);if(D===null){R===null&&(R=O);break}e&&R&&D.alternate===null&&t(g,R),h=o(D,h,b),_===null?C=D:_.sibling=D,_=D,R=O}if(b===y.length)return r(g,R),ve&&Pr(g,b),C;if(R===null){for(;b<y.length;b++)R=f(g,y[b],k),R!==null&&(h=o(R,h,b),_===null?C=R:_.sibling=R,_=R);return ve&&Pr(g,b),C}for(R=n(g,R);b<y.length;b++)O=j(R,g,b,y[b],k),O!==null&&(e&&O.alternate!==null&&R.delete(O.key===null?b:O.key),h=o(O,h,b),_===null?C=O:_.sibling=O,_=O);return e&&R.forEach(function(H){return t(g,H)}),ve&&Pr(g,b),C}function w(g,h,y,k){var C=In(y);if(typeof C!="function")throw Error(L(150));if(y=C.call(y),y==null)throw Error(L(151));for(var _=C=null,R=h,b=h=0,O=null,D=y.next();R!==null&&!D.done;b++,D=y.next()){R.index>b?(O=R,R=null):O=R.sibling;var H=p(g,R,D.value,k);if(H===null){R===null&&(R=O);break}e&&R&&H.alternate===null&&t(g,R),h=o(H,h,b),_===null?C=H:_.sibling=H,_=H,R=O}if(D.done)return r(g,R),ve&&Pr(g,b),C;if(R===null){for(;!D.done;b++,D=y.next())D=f(g,D.value,k),D!==null&&(h=o(D,h,b),_===null?C=D:_.sibling=D,_=D);return ve&&Pr(g,b),C}for(R=n(g,R);!D.done;b++,D=y.next())D=j(R,g,b,D.value,k),D!==null&&(e&&D.alternate!==null&&R.delete(D.key===null?b:D.key),h=o(D,h,b),_===null?C=D:_.sibling=D,_=D);return e&&R.forEach(function(Z){return t(g,Z)}),ve&&Pr(g,b),C}function N(g,h,y,k){if(typeof y=="object"&&y!==null&&y.type===rn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case $s:e:{for(var C=y.key,_=h;_!==null;){if(_.key===C){if(C=y.type,C===rn){if(_.tag===7){r(g,_.sibling),h=s(_,y.props.children),h.return=g,g=h;break e}}else if(_.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===or&&ou(C)===_.type){r(g,_.sibling),h=s(_,y.props),h.ref=$n(g,_,y),h.return=g,g=h;break e}r(g,_);break}else t(g,_);_=_.sibling}y.type===rn?(h=Mr(y.props.children,g.mode,k,y.key),h.return=g,g=h):(k=yi(y.type,y.key,y.props,null,g.mode,k),k.ref=$n(g,h,y),k.return=g,g=k)}return l(g);case tn:e:{for(_=y.key;h!==null;){if(h.key===_)if(h.tag===4&&h.stateNode.containerInfo===y.containerInfo&&h.stateNode.implementation===y.implementation){r(g,h.sibling),h=s(h,y.children||[]),h.return=g,g=h;break e}else{r(g,h);break}else t(g,h);h=h.sibling}h=Jo(y,g.mode,k),h.return=g,g=h}return l(g);case or:return _=y._init,N(g,h,_(y._payload),k)}if(Jn(y))return m(g,h,y,k);if(In(y))return w(g,h,y,k);Xs(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,h!==null&&h.tag===6?(r(g,h.sibling),h=s(h,y),h.return=g,g=h):(r(g,h),h=Qo(y,g.mode,k),h.return=g,g=h),l(g)):r(g,h)}return N}var Nn=Rh(!0),Ph=Rh(!1),Bi=Cr(null),Ui=null,dn=null,Fa=null;function Ma(){Fa=dn=Ui=null}function Ba(e){var t=Bi.current;ge(Bi),e._currentValue=t}function Il(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function yn(e,t){Ui=e,Fa=dn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(lt=!0),e.firstContext=null)}function _t(e){var t=e._currentValue;if(Fa!==e)if(e={context:e,memoizedValue:t,next:null},dn===null){if(Ui===null)throw Error(L(308));dn=e,Ui.dependencies={lanes:0,firstContext:e}}else dn=dn.next=e;return t}var Or=null;function Ua(e){Or===null?Or=[e]:Or.push(e)}function Dh(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Ua(t)):(r.next=s.next,s.next=r),t.interleaved=r,tr(e,n)}function tr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var lr=!1;function $a(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ah(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Gt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,oe&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,tr(e,r)}return s=n.interleaved,s===null?(t.next=t,Ua(n)):(t.next=s.next,s.next=t),n.interleaved=t,tr(e,r)}function hi(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ca(e,r)}}function lu(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=l:o=o.next=l,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function $i(e,t,r,n){var s=e.updateQueue;lr=!1;var o=s.firstBaseUpdate,l=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,l===null?o=u:l.next=u,l=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==l&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;l=0,d=u=c=null,a=o;do{var p=a.lane,j=a.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:j,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,w=a;switch(p=t,j=r,w.tag){case 1:if(m=w.payload,typeof m=="function"){f=m.call(j,f,p);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=w.payload,p=typeof m=="function"?m.call(j,f,p):m,p==null)break e;f=ke({},f,p);break e;case 2:lr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else j={eventTime:j,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=j,c=f):d=d.next=j,l|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Hr|=l,e.lanes=l,e.memoizedState=f}}function au(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(L(191,s));s.call(n)}}}var Ps={},Vt=Cr(Ps),ws=Cr(Ps),vs=Cr(Ps);function Lr(e){if(e===Ps)throw Error(L(174));return e}function za(e,t){switch(pe(vs,t),pe(ws,e),pe(Vt,Ps),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xl(t,e)}ge(Vt),pe(Vt,t)}function kn(){ge(Vt),ge(ws),ge(vs)}function Oh(e){Lr(vs.current);var t=Lr(Vt.current),r=xl(t,e.type);t!==r&&(pe(ws,e),pe(Vt,r))}function Ha(e){ws.current===e&&(ge(Vt),ge(ws))}var je=Cr(0);function zi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zo=[];function Va(){for(var e=0;e<zo.length;e++)zo[e]._workInProgressVersionPrimary=null;zo.length=0}var fi=nr.ReactCurrentDispatcher,Ho=nr.ReactCurrentBatchConfig,zr=0,Ne=null,Le=null,Ue=null,Hi=!1,ss=!1,bs=0,Px=0;function We(){throw Error(L(321))}function qa(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ft(e[r],t[r]))return!1;return!0}function Wa(e,t,r,n,s,o){if(zr=o,Ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fi.current=e===null||e.memoizedState===null?Lx:Ix,e=r(n,s),ss){o=0;do{if(ss=!1,bs=0,25<=o)throw Error(L(301));o+=1,Ue=Le=null,t.updateQueue=null,fi.current=Fx,e=r(n,s)}while(ss)}if(fi.current=Vi,t=Le!==null&&Le.next!==null,zr=0,Ue=Le=Ne=null,Hi=!1,t)throw Error(L(300));return e}function Ka(){var e=bs!==0;return bs=0,e}function $t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?Ne.memoizedState=Ue=e:Ue=Ue.next=e,Ue}function Tt(){if(Le===null){var e=Ne.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=Ue===null?Ne.memoizedState:Ue.next;if(t!==null)Ue=t,Le=e;else{if(e===null)throw Error(L(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Ue===null?Ne.memoizedState=Ue=e:Ue=Ue.next=e}return Ue}function js(e,t){return typeof t=="function"?t(e):t}function Vo(e){var t=Tt(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=Le,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var l=s.next;s.next=o.next,o.next=l}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var a=l=null,c=null,u=o;do{var d=u.lane;if((zr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,l=n):c=c.next=f,Ne.lanes|=d,Hr|=d}u=u.next}while(u!==null&&u!==o);c===null?l=n:c.next=a,Ft(n,t.memoizedState)||(lt=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,Ne.lanes|=o,Hr|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function qo(e){var t=Tt(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var l=s=s.next;do o=e(o,l.action),l=l.next;while(l!==s);Ft(o,t.memoizedState)||(lt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Lh(){}function Ih(e,t){var r=Ne,n=Tt(),s=t(),o=!Ft(n.memoizedState,s);if(o&&(n.memoizedState=s,lt=!0),n=n.queue,Qa(Bh.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Ue!==null&&Ue.memoizedState.tag&1){if(r.flags|=2048,Ns(9,Mh.bind(null,r,n,s,t),void 0,null),$e===null)throw Error(L(349));zr&30||Fh(r,t,s)}return s}function Fh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ne.updateQueue,t===null?(t={lastEffect:null,stores:null},Ne.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Mh(e,t,r,n){t.value=r,t.getSnapshot=n,Uh(t)&&$h(e)}function Bh(e,t,r){return r(function(){Uh(t)&&$h(e)})}function Uh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ft(e,r)}catch{return!0}}function $h(e){var t=tr(e,1);t!==null&&It(t,e,1,-1)}function cu(e){var t=$t();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:e},t.queue=e,e=e.dispatch=Ox.bind(null,Ne,e),[t.memoizedState,e]}function Ns(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ne.updateQueue,t===null?(t={lastEffect:null,stores:null},Ne.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function zh(){return Tt().memoizedState}function pi(e,t,r,n){var s=$t();Ne.flags|=e,s.memoizedState=Ns(1|t,r,void 0,n===void 0?null:n)}function io(e,t,r,n){var s=Tt();n=n===void 0?null:n;var o=void 0;if(Le!==null){var l=Le.memoizedState;if(o=l.destroy,n!==null&&qa(n,l.deps)){s.memoizedState=Ns(t,r,o,n);return}}Ne.flags|=e,s.memoizedState=Ns(1|t,r,o,n)}function uu(e,t){return pi(8390656,8,e,t)}function Qa(e,t){return io(2048,8,e,t)}function Hh(e,t){return io(4,2,e,t)}function Vh(e,t){return io(4,4,e,t)}function qh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Wh(e,t,r){return r=r!=null?r.concat([e]):null,io(4,4,qh.bind(null,t,e),r)}function Ja(){}function Kh(e,t){var r=Tt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&qa(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Qh(e,t){var r=Tt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&qa(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Jh(e,t,r){return zr&21?(Ft(r,t)||(r=eh(),Ne.lanes|=r,Hr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,lt=!0),e.memoizedState=r)}function Dx(e,t){var r=fe;fe=r!==0&&4>r?r:4,e(!0);var n=Ho.transition;Ho.transition={};try{e(!1),t()}finally{fe=r,Ho.transition=n}}function Yh(){return Tt().memoizedState}function Ax(e,t,r){var n=wr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Gh(e))Xh(t,r);else if(r=Dh(e,t,r,n),r!==null){var s=Ze();It(r,e,n,s),Zh(r,t,n)}}function Ox(e,t,r){var n=wr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Gh(e))Xh(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var l=t.lastRenderedState,a=o(l,r);if(s.hasEagerState=!0,s.eagerState=a,Ft(a,l)){var c=t.interleaved;c===null?(s.next=s,Ua(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Dh(e,t,s,n),r!==null&&(s=Ze(),It(r,e,n,s),Zh(r,t,n))}}function Gh(e){var t=e.alternate;return e===Ne||t!==null&&t===Ne}function Xh(e,t){ss=Hi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Zh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ca(e,r)}}var Vi={readContext:_t,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},Lx={readContext:_t,useCallback:function(e,t){return $t().memoizedState=[e,t===void 0?null:t],e},useContext:_t,useEffect:uu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,pi(4194308,4,qh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return pi(4194308,4,e,t)},useInsertionEffect:function(e,t){return pi(4,2,e,t)},useMemo:function(e,t){var r=$t();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=$t();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Ax.bind(null,Ne,e),[n.memoizedState,e]},useRef:function(e){var t=$t();return e={current:e},t.memoizedState=e},useState:cu,useDebugValue:Ja,useDeferredValue:function(e){return $t().memoizedState=e},useTransition:function(){var e=cu(!1),t=e[0];return e=Dx.bind(null,e[1]),$t().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ne,s=$t();if(ve){if(r===void 0)throw Error(L(407));r=r()}else{if(r=t(),$e===null)throw Error(L(349));zr&30||Fh(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,uu(Bh.bind(null,n,o,e),[e]),n.flags|=2048,Ns(9,Mh.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=$t(),t=$e.identifierPrefix;if(ve){var r=Yt,n=Jt;r=(n&~(1<<32-Lt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=bs++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Px++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ix={readContext:_t,useCallback:Kh,useContext:_t,useEffect:Qa,useImperativeHandle:Wh,useInsertionEffect:Hh,useLayoutEffect:Vh,useMemo:Qh,useReducer:Vo,useRef:zh,useState:function(){return Vo(js)},useDebugValue:Ja,useDeferredValue:function(e){var t=Tt();return Jh(t,Le.memoizedState,e)},useTransition:function(){var e=Vo(js)[0],t=Tt().memoizedState;return[e,t]},useMutableSource:Lh,useSyncExternalStore:Ih,useId:Yh,unstable_isNewReconciler:!1},Fx={readContext:_t,useCallback:Kh,useContext:_t,useEffect:Qa,useImperativeHandle:Wh,useInsertionEffect:Hh,useLayoutEffect:Vh,useMemo:Qh,useReducer:qo,useRef:zh,useState:function(){return qo(js)},useDebugValue:Ja,useDeferredValue:function(e){var t=Tt();return Le===null?t.memoizedState=e:Jh(t,Le.memoizedState,e)},useTransition:function(){var e=qo(js)[0],t=Tt().memoizedState;return[e,t]},useMutableSource:Lh,useSyncExternalStore:Ih,useId:Yh,unstable_isNewReconciler:!1};function Pt(e,t){if(e&&e.defaultProps){t=ke({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Fl(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ke({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var oo={isMounted:function(e){return(e=e._reactInternals)?Kr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ze(),s=wr(e),o=Gt(n,s);o.payload=t,r!=null&&(o.callback=r),t=gr(e,o,s),t!==null&&(It(t,e,s,n),hi(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ze(),s=wr(e),o=Gt(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=gr(e,o,s),t!==null&&(It(t,e,s,n),hi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ze(),n=wr(e),s=Gt(r,n);s.tag=2,t!=null&&(s.callback=t),t=gr(e,s,n),t!==null&&(It(t,e,n,r),hi(t,e,n))}};function du(e,t,r,n,s,o,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,l):t.prototype&&t.prototype.isPureReactComponent?!ms(r,n)||!ms(s,o):!0}function ef(e,t,r){var n=!1,s=kr,o=t.contextType;return typeof o=="object"&&o!==null?o=_t(o):(s=ct(t)?Ur:Ge.current,n=t.contextTypes,o=(n=n!=null)?bn(e,s):kr),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=oo,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function hu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&oo.enqueueReplaceState(t,t.state,null)}function Ml(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},$a(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=_t(o):(o=ct(t)?Ur:Ge.current,s.context=bn(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Fl(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&oo.enqueueReplaceState(s,s.state,null),$i(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Sn(e,t){try{var r="",n=t;do r+=dm(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Wo(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Bl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Mx=typeof WeakMap=="function"?WeakMap:Map;function tf(e,t,r){r=Gt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Wi||(Wi=!0,Jl=n),Bl(e,t)},r}function rf(e,t,r){r=Gt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Bl(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Bl(e,t),typeof n!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function fu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Mx;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Xx.bind(null,e,t,r),t.then(e,e))}function pu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function mu(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Gt(-1,1),t.tag=2,gr(r,t,1))),r.lanes|=1),e)}var Bx=nr.ReactCurrentOwner,lt=!1;function Xe(e,t,r,n){t.child=e===null?Ph(t,null,r,n):Nn(t,e.child,r,n)}function xu(e,t,r,n,s){r=r.render;var o=t.ref;return yn(t,s),n=Wa(e,t,r,n,o,s),r=Ka(),e!==null&&!lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,rr(e,t,s)):(ve&&r&&Oa(t),t.flags|=1,Xe(e,t,n,s),t.child)}function gu(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!nc(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,nf(e,t,o,n,s)):(e=yi(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var l=o.memoizedProps;if(r=r.compare,r=r!==null?r:ms,r(l,n)&&e.ref===t.ref)return rr(e,t,s)}return t.flags|=1,e=vr(o,n),e.ref=t.ref,e.return=t,t.child=e}function nf(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(ms(o,n)&&e.ref===t.ref)if(lt=!1,t.pendingProps=n=o,(e.lanes&s)!==0)e.flags&131072&&(lt=!0);else return t.lanes=e.lanes,rr(e,t,s)}return Ul(e,t,r,n,s)}function sf(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(fn,mt),mt|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pe(fn,mt),mt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,pe(fn,mt),mt|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,pe(fn,mt),mt|=n;return Xe(e,t,s,r),t.child}function of(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ul(e,t,r,n,s){var o=ct(r)?Ur:Ge.current;return o=bn(t,o),yn(t,s),r=Wa(e,t,r,n,o,s),n=Ka(),e!==null&&!lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,rr(e,t,s)):(ve&&n&&Oa(t),t.flags|=1,Xe(e,t,r,s),t.child)}function yu(e,t,r,n,s){if(ct(r)){var o=!0;Ii(t)}else o=!1;if(yn(t,s),t.stateNode===null)mi(e,t),ef(t,r,n),Ml(t,r,n,s),n=!0;else if(e===null){var l=t.stateNode,a=t.memoizedProps;l.props=a;var c=l.context,u=r.contextType;typeof u=="object"&&u!==null?u=_t(u):(u=ct(r)?Ur:Ge.current,u=bn(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";f||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==n||c!==u)&&hu(t,l,n,u),lr=!1;var p=t.memoizedState;l.state=p,$i(t,n,l,s),c=t.memoizedState,a!==n||p!==c||at.current||lr?(typeof d=="function"&&(Fl(t,r,d,n),c=t.memoizedState),(a=lr||du(t,r,a,n,p,c,u))?(f||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),l.props=n,l.state=c,l.context=u,n=a):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,Ah(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Pt(t.type,a),l.props=u,f=t.pendingProps,p=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=_t(c):(c=ct(r)?Ur:Ge.current,c=bn(t,c));var j=r.getDerivedStateFromProps;(d=typeof j=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==f||p!==c)&&hu(t,l,n,c),lr=!1,p=t.memoizedState,l.state=p,$i(t,n,l,s);var m=t.memoizedState;a!==f||p!==m||at.current||lr?(typeof j=="function"&&(Fl(t,r,j,n),m=t.memoizedState),(u=lr||du(t,r,u,n,p,m,c)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,m,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,m,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),l.props=n,l.state=m,l.context=c,n=u):(typeof l.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return $l(e,t,r,n,o,s)}function $l(e,t,r,n,s,o){of(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return s&&nu(t,r,!1),rr(e,t,o);n=t.stateNode,Bx.current=t;var a=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=Nn(t,e.child,null,o),t.child=Nn(t,null,a,o)):Xe(e,t,a,o),t.memoizedState=n.state,s&&nu(t,r,!0),t.child}function lf(e){var t=e.stateNode;t.pendingContext?ru(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ru(e,t.context,!1),za(e,t.containerInfo)}function wu(e,t,r,n,s){return jn(),Ia(s),t.flags|=256,Xe(e,t,r,n),t.child}var zl={dehydrated:null,treeContext:null,retryLane:0};function Hl(e){return{baseLanes:e,cachePool:null,transitions:null}}function af(e,t,r){var n=t.pendingProps,s=je.current,o=!1,l=(t.flags&128)!==0,a;if((a=l)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),pe(je,s&1),e===null)return Ll(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,o?(n=t.mode,o=t.child,l={mode:"hidden",children:l},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=co(l,n,0,null),e=Mr(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Hl(r),t.memoizedState=zl,e):Ya(t,l));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Ux(e,t,l,n,a,s,r);if(o){o=n.fallback,l=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=vr(s,c),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=vr(a,o):(o=Mr(o,l,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,l=e.child.memoizedState,l=l===null?Hl(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~r,t.memoizedState=zl,n}return o=e.child,e=o.sibling,n=vr(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Ya(e,t){return t=co({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Zs(e,t,r,n){return n!==null&&Ia(n),Nn(t,e.child,null,r),e=Ya(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ux(e,t,r,n,s,o,l){if(r)return t.flags&256?(t.flags&=-257,n=Wo(Error(L(422))),Zs(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=co({mode:"visible",children:n.children},s,0,null),o=Mr(o,s,l,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Nn(t,e.child,null,l),t.child.memoizedState=Hl(l),t.memoizedState=zl,o);if(!(t.mode&1))return Zs(e,t,l,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(L(419)),n=Wo(o,n,void 0),Zs(e,t,l,n)}if(a=(l&e.childLanes)!==0,lt||a){if(n=$e,n!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|l)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,tr(e,s),It(n,e,s,-1))}return rc(),n=Wo(Error(L(421))),Zs(e,t,l,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Zx.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,xt=xr(s.nextSibling),gt=t,ve=!0,Ot=null,e!==null&&(Nt[kt++]=Jt,Nt[kt++]=Yt,Nt[kt++]=$r,Jt=e.id,Yt=e.overflow,$r=t),t=Ya(t,n.children),t.flags|=4096,t)}function vu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Il(e.return,t,r)}function Ko(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function cf(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(Xe(e,t,n.children,r),n=je.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vu(e,r,t);else if(e.tag===19)vu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(pe(je,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&zi(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Ko(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&zi(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Ko(t,!0,r,null,o);break;case"together":Ko(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function mi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function rr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Hr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,r=vr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=vr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function $x(e,t,r){switch(t.tag){case 3:lf(t),jn();break;case 5:Oh(t);break;case 1:ct(t.type)&&Ii(t);break;case 4:za(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;pe(Bi,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(pe(je,je.current&1),t.flags|=128,null):r&t.child.childLanes?af(e,t,r):(pe(je,je.current&1),e=rr(e,t,r),e!==null?e.sibling:null);pe(je,je.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return cf(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),pe(je,je.current),n)break;return null;case 22:case 23:return t.lanes=0,sf(e,t,r)}return rr(e,t,r)}var uf,Vl,df,hf;uf=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Vl=function(){};df=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Lr(Vt.current);var o=null;switch(r){case"input":s=hl(e,s),n=hl(e,n),o=[];break;case"select":s=ke({},s,{value:void 0}),n=ke({},n,{value:void 0}),o=[];break;case"textarea":s=ml(e,s),n=ml(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Oi)}gl(r,n);var l;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(l in a)a.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(as.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(l in a)!a.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&a[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(as.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&xe("scroll",e),o||a===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};hf=function(e,t,r,n){r!==n&&(t.flags|=4)};function zn(e,t){if(!ve)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function zx(e,t,r){var n=t.pendingProps;switch(La(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return ct(t.type)&&Li(),Ke(t),null;case 3:return n=t.stateNode,kn(),ge(at),ge(Ge),Va(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Gs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ot!==null&&(Xl(Ot),Ot=null))),Vl(e,t),Ke(t),null;case 5:Ha(t);var s=Lr(vs.current);if(r=t.type,e!==null&&t.stateNode!=null)df(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(L(166));return Ke(t),null}if(e=Lr(Vt.current),Gs(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[zt]=t,n[ys]=o,e=(t.mode&1)!==0,r){case"dialog":xe("cancel",n),xe("close",n);break;case"iframe":case"object":case"embed":xe("load",n);break;case"video":case"audio":for(s=0;s<Gn.length;s++)xe(Gn[s],n);break;case"source":xe("error",n);break;case"img":case"image":case"link":xe("error",n),xe("load",n);break;case"details":xe("toggle",n);break;case"input":Tc(n,o),xe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},xe("invalid",n);break;case"textarea":Pc(n,o),xe("invalid",n)}gl(r,o),s=null;for(var l in o)if(o.hasOwnProperty(l)){var a=o[l];l==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&Ys(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Ys(n.textContent,a,e),s=["children",""+a]):as.hasOwnProperty(l)&&a!=null&&l==="onScroll"&&xe("scroll",n)}switch(r){case"input":zs(n),Rc(n,o,!0);break;case"textarea":zs(n),Dc(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Oi)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Bd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[zt]=t,e[ys]=n,uf(e,t,!1,!1),t.stateNode=e;e:{switch(l=yl(r,n),r){case"dialog":xe("cancel",e),xe("close",e),s=n;break;case"iframe":case"object":case"embed":xe("load",e),s=n;break;case"video":case"audio":for(s=0;s<Gn.length;s++)xe(Gn[s],e);s=n;break;case"source":xe("error",e),s=n;break;case"img":case"image":case"link":xe("error",e),xe("load",e),s=n;break;case"details":xe("toggle",e),s=n;break;case"input":Tc(e,n),s=hl(e,n),xe("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ke({},n,{value:void 0}),xe("invalid",e);break;case"textarea":Pc(e,n),s=ml(e,n),xe("invalid",e);break;default:s=n}gl(r,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?zd(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ud(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&cs(e,c):typeof c=="number"&&cs(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(as.hasOwnProperty(o)?c!=null&&o==="onScroll"&&xe("scroll",e):c!=null&&va(e,o,c,l))}switch(r){case"input":zs(e),Rc(e,n,!1);break;case"textarea":zs(e),Dc(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Nr(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?pn(e,!!n.multiple,o,!1):n.defaultValue!=null&&pn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Oi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ke(t),null;case 6:if(e&&t.stateNode!=null)hf(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(L(166));if(r=Lr(vs.current),Lr(Vt.current),Gs(t)){if(n=t.stateNode,r=t.memoizedProps,n[zt]=t,(o=n.nodeValue!==r)&&(e=gt,e!==null))switch(e.tag){case 3:Ys(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ys(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[zt]=t,t.stateNode=n}return Ke(t),null;case 13:if(ge(je),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ve&&xt!==null&&t.mode&1&&!(t.flags&128))Th(),jn(),t.flags|=98560,o=!1;else if(o=Gs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(L(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(L(317));o[zt]=t}else jn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ke(t),o=!1}else Ot!==null&&(Xl(Ot),Ot=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||je.current&1?Ie===0&&(Ie=3):rc())),t.updateQueue!==null&&(t.flags|=4),Ke(t),null);case 4:return kn(),Vl(e,t),e===null&&xs(t.stateNode.containerInfo),Ke(t),null;case 10:return Ba(t.type._context),Ke(t),null;case 17:return ct(t.type)&&Li(),Ke(t),null;case 19:if(ge(je),o=t.memoizedState,o===null)return Ke(t),null;if(n=(t.flags&128)!==0,l=o.rendering,l===null)if(n)zn(o,!1);else{if(Ie!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=zi(e),l!==null){for(t.flags|=128,zn(o,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return pe(je,je.current&1|2),t.child}e=e.sibling}o.tail!==null&&Te()>Cn&&(t.flags|=128,n=!0,zn(o,!1),t.lanes=4194304)}else{if(!n)if(e=zi(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),zn(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!ve)return Ke(t),null}else 2*Te()-o.renderingStartTime>Cn&&r!==1073741824&&(t.flags|=128,n=!0,zn(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(r=o.last,r!==null?r.sibling=l:t.child=l,o.last=l)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Te(),t.sibling=null,r=je.current,pe(je,n?r&1|2:r&1),t):(Ke(t),null);case 22:case 23:return tc(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?mt&1073741824&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function Hx(e,t){switch(La(t),t.tag){case 1:return ct(t.type)&&Li(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return kn(),ge(at),ge(Ge),Va(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ha(t),null;case 13:if(ge(je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));jn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ge(je),null;case 4:return kn(),null;case 10:return Ba(t.type._context),null;case 22:case 23:return tc(),null;case 24:return null;default:return null}}var ei=!1,Qe=!1,Vx=typeof WeakSet=="function"?WeakSet:Set,z=null;function hn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ee(e,t,n)}else r.current=null}function ql(e,t,r){try{r()}catch(n){Ee(e,t,n)}}var bu=!1;function qx(e,t){if(_l=Pi,e=xh(),Aa(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var l=0,a=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var j;f!==r||s!==0&&f.nodeType!==3||(a=l+s),f!==o||n!==0&&f.nodeType!==3||(c=l+n),f.nodeType===3&&(l+=f.nodeValue.length),(j=f.firstChild)!==null;)p=f,f=j;for(;;){if(f===e)break t;if(p===r&&++u===s&&(a=l),p===o&&++d===n&&(c=l),(j=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=j}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Tl={focusedElem:e,selectionRange:r},Pi=!1,z=t;z!==null;)if(t=z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,z=e;else for(;z!==null;){t=z;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var w=m.memoizedProps,N=m.memoizedState,g=t.stateNode,h=g.getSnapshotBeforeUpdate(t.elementType===t.type?w:Pt(t.type,w),N);g.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(k){Ee(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,z=e;break}z=t.return}return m=bu,bu=!1,m}function is(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&ql(t,r,o)}s=s.next}while(s!==n)}}function lo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Wl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function ff(e){var t=e.alternate;t!==null&&(e.alternate=null,ff(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zt],delete t[ys],delete t[Dl],delete t[Ex],delete t[_x])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function pf(e){return e.tag===5||e.tag===3||e.tag===4}function ju(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Oi));else if(n!==4&&(e=e.child,e!==null))for(Kl(e,t,r),e=e.sibling;e!==null;)Kl(e,t,r),e=e.sibling}function Ql(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ql(e,t,r),e=e.sibling;e!==null;)Ql(e,t,r),e=e.sibling}var He=null,Dt=!1;function sr(e,t,r){for(r=r.child;r!==null;)mf(e,t,r),r=r.sibling}function mf(e,t,r){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Zi,r)}catch{}switch(r.tag){case 5:Qe||hn(r,t);case 6:var n=He,s=Dt;He=null,sr(e,t,r),He=n,Dt=s,He!==null&&(Dt?(e=He,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):He.removeChild(r.stateNode));break;case 18:He!==null&&(Dt?(e=He,r=r.stateNode,e.nodeType===8?Uo(e.parentNode,r):e.nodeType===1&&Uo(e,r),fs(e)):Uo(He,r.stateNode));break;case 4:n=He,s=Dt,He=r.stateNode.containerInfo,Dt=!0,sr(e,t,r),He=n,Dt=s;break;case 0:case 11:case 14:case 15:if(!Qe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&ql(r,t,l),s=s.next}while(s!==n)}sr(e,t,r);break;case 1:if(!Qe&&(hn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Ee(r,t,a)}sr(e,t,r);break;case 21:sr(e,t,r);break;case 22:r.mode&1?(Qe=(n=Qe)||r.memoizedState!==null,sr(e,t,r),Qe=n):sr(e,t,r);break;default:sr(e,t,r)}}function Nu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Vx),t.forEach(function(n){var s=e0.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Rt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,l=t,a=l;e:for(;a!==null;){switch(a.tag){case 5:He=a.stateNode,Dt=!1;break e;case 3:He=a.stateNode.containerInfo,Dt=!0;break e;case 4:He=a.stateNode.containerInfo,Dt=!0;break e}a=a.return}if(He===null)throw Error(L(160));mf(o,l,s),He=null,Dt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ee(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)xf(t,e),t=t.sibling}function xf(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rt(t,e),Bt(e),n&4){try{is(3,e,e.return),lo(3,e)}catch(w){Ee(e,e.return,w)}try{is(5,e,e.return)}catch(w){Ee(e,e.return,w)}}break;case 1:Rt(t,e),Bt(e),n&512&&r!==null&&hn(r,r.return);break;case 5:if(Rt(t,e),Bt(e),n&512&&r!==null&&hn(r,r.return),e.flags&32){var s=e.stateNode;try{cs(s,"")}catch(w){Ee(e,e.return,w)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,l=r!==null?r.memoizedProps:o,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Fd(s,o),yl(a,l);var u=yl(a,o);for(l=0;l<c.length;l+=2){var d=c[l],f=c[l+1];d==="style"?zd(s,f):d==="dangerouslySetInnerHTML"?Ud(s,f):d==="children"?cs(s,f):va(s,d,f,u)}switch(a){case"input":fl(s,o);break;case"textarea":Md(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var j=o.value;j!=null?pn(s,!!o.multiple,j,!1):p!==!!o.multiple&&(o.defaultValue!=null?pn(s,!!o.multiple,o.defaultValue,!0):pn(s,!!o.multiple,o.multiple?[]:"",!1))}s[ys]=o}catch(w){Ee(e,e.return,w)}}break;case 6:if(Rt(t,e),Bt(e),n&4){if(e.stateNode===null)throw Error(L(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(w){Ee(e,e.return,w)}}break;case 3:if(Rt(t,e),Bt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{fs(t.containerInfo)}catch(w){Ee(e,e.return,w)}break;case 4:Rt(t,e),Bt(e);break;case 13:Rt(t,e),Bt(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Za=Te())),n&4&&Nu(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Qe=(u=Qe)||d,Rt(t,e),Qe=u):Rt(t,e),Bt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(z=e,d=e.child;d!==null;){for(f=z=d;z!==null;){switch(p=z,j=p.child,p.tag){case 0:case 11:case 14:case 15:is(4,p,p.return);break;case 1:hn(p,p.return);var m=p.stateNode;if(typeof m.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(w){Ee(n,r,w)}}break;case 5:hn(p,p.return);break;case 22:if(p.memoizedState!==null){Su(f);continue}}j!==null?(j.return=p,z=j):Su(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,c=f.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=$d("display",l))}catch(w){Ee(e,e.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){Ee(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Rt(t,e),Bt(e),n&4&&Nu(e);break;case 21:break;default:Rt(t,e),Bt(e)}}function Bt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(pf(r)){var n=r;break e}r=r.return}throw Error(L(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(cs(s,""),n.flags&=-33);var o=ju(e);Ql(e,o,s);break;case 3:case 4:var l=n.stateNode.containerInfo,a=ju(e);Kl(e,a,l);break;default:throw Error(L(161))}}catch(c){Ee(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Wx(e,t,r){z=e,gf(e)}function gf(e,t,r){for(var n=(e.mode&1)!==0;z!==null;){var s=z,o=s.child;if(s.tag===22&&n){var l=s.memoizedState!==null||ei;if(!l){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Qe;a=ei;var u=Qe;if(ei=l,(Qe=c)&&!u)for(z=s;z!==null;)l=z,c=l.child,l.tag===22&&l.memoizedState!==null?Cu(s):c!==null?(c.return=l,z=c):Cu(s);for(;o!==null;)z=o,gf(o),o=o.sibling;z=s,ei=a,Qe=u}ku(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,z=o):ku(e)}}function ku(e){for(;z!==null;){var t=z;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qe||lo(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Qe)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Pt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&au(t,o,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}au(t,l,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&fs(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Qe||t.flags&512&&Wl(t)}catch(p){Ee(t,t.return,p)}}if(t===e){z=null;break}if(r=t.sibling,r!==null){r.return=t.return,z=r;break}z=t.return}}function Su(e){for(;z!==null;){var t=z;if(t===e){z=null;break}var r=t.sibling;if(r!==null){r.return=t.return,z=r;break}z=t.return}}function Cu(e){for(;z!==null;){var t=z;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{lo(4,t)}catch(c){Ee(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Ee(t,s,c)}}var o=t.return;try{Wl(t)}catch(c){Ee(t,o,c)}break;case 5:var l=t.return;try{Wl(t)}catch(c){Ee(t,l,c)}}}catch(c){Ee(t,t.return,c)}if(t===e){z=null;break}var a=t.sibling;if(a!==null){a.return=t.return,z=a;break}z=t.return}}var Kx=Math.ceil,qi=nr.ReactCurrentDispatcher,Ga=nr.ReactCurrentOwner,Et=nr.ReactCurrentBatchConfig,oe=0,$e=null,Pe=null,Ve=0,mt=0,fn=Cr(0),Ie=0,ks=null,Hr=0,ao=0,Xa=0,os=null,it=null,Za=0,Cn=1/0,Kt=null,Wi=!1,Jl=null,yr=null,ti=!1,dr=null,Ki=0,ls=0,Yl=null,xi=-1,gi=0;function Ze(){return oe&6?Te():xi!==-1?xi:xi=Te()}function wr(e){return e.mode&1?oe&2&&Ve!==0?Ve&-Ve:Rx.transition!==null?(gi===0&&(gi=eh()),gi):(e=fe,e!==0||(e=window.event,e=e===void 0?16:lh(e.type)),e):1}function It(e,t,r,n){if(50<ls)throw ls=0,Yl=null,Error(L(185));_s(e,r,n),(!(oe&2)||e!==$e)&&(e===$e&&(!(oe&2)&&(ao|=r),Ie===4&&cr(e,Ve)),ut(e,n),r===1&&oe===0&&!(t.mode&1)&&(Cn=Te()+500,so&&Er()))}function ut(e,t){var r=e.callbackNode;Rm(e,t);var n=Ri(e,e===$e?Ve:0);if(n===0)r!==null&&Lc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Lc(r),t===1)e.tag===0?Tx(Eu.bind(null,e)):Ch(Eu.bind(null,e)),Sx(function(){!(oe&6)&&Er()}),r=null;else{switch(th(n)){case 1:r=Sa;break;case 4:r=Xd;break;case 16:r=Ti;break;case 536870912:r=Zd;break;default:r=Ti}r=Sf(r,yf.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function yf(e,t){if(xi=-1,gi=0,oe&6)throw Error(L(327));var r=e.callbackNode;if(wn()&&e.callbackNode!==r)return null;var n=Ri(e,e===$e?Ve:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Qi(e,n);else{t=n;var s=oe;oe|=2;var o=vf();($e!==e||Ve!==t)&&(Kt=null,Cn=Te()+500,Fr(e,t));do try{Yx();break}catch(a){wf(e,a)}while(!0);Ma(),qi.current=o,oe=s,Pe!==null?t=0:($e=null,Ve=0,t=Ie)}if(t!==0){if(t===2&&(s=Nl(e),s!==0&&(n=s,t=Gl(e,s))),t===1)throw r=ks,Fr(e,0),cr(e,n),ut(e,Te()),r;if(t===6)cr(e,n);else{if(s=e.current.alternate,!(n&30)&&!Qx(s)&&(t=Qi(e,n),t===2&&(o=Nl(e),o!==0&&(n=o,t=Gl(e,o))),t===1))throw r=ks,Fr(e,0),cr(e,n),ut(e,Te()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(L(345));case 2:Dr(e,it,Kt);break;case 3:if(cr(e,n),(n&130023424)===n&&(t=Za+500-Te(),10<t)){if(Ri(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ze(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Pl(Dr.bind(null,e,it,Kt),t);break}Dr(e,it,Kt);break;case 4:if(cr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var l=31-Lt(n);o=1<<l,l=t[l],l>s&&(s=l),n&=~o}if(n=s,n=Te()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Kx(n/1960))-n,10<n){e.timeoutHandle=Pl(Dr.bind(null,e,it,Kt),n);break}Dr(e,it,Kt);break;case 5:Dr(e,it,Kt);break;default:throw Error(L(329))}}}return ut(e,Te()),e.callbackNode===r?yf.bind(null,e):null}function Gl(e,t){var r=os;return e.current.memoizedState.isDehydrated&&(Fr(e,t).flags|=256),e=Qi(e,t),e!==2&&(t=it,it=r,t!==null&&Xl(t)),e}function Xl(e){it===null?it=e:it.push.apply(it,e)}function Qx(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!Ft(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cr(e,t){for(t&=~Xa,t&=~ao,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Lt(t),n=1<<r;e[r]=-1,t&=~n}}function Eu(e){if(oe&6)throw Error(L(327));wn();var t=Ri(e,0);if(!(t&1))return ut(e,Te()),null;var r=Qi(e,t);if(e.tag!==0&&r===2){var n=Nl(e);n!==0&&(t=n,r=Gl(e,n))}if(r===1)throw r=ks,Fr(e,0),cr(e,t),ut(e,Te()),r;if(r===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Dr(e,it,Kt),ut(e,Te()),null}function ec(e,t){var r=oe;oe|=1;try{return e(t)}finally{oe=r,oe===0&&(Cn=Te()+500,so&&Er())}}function Vr(e){dr!==null&&dr.tag===0&&!(oe&6)&&wn();var t=oe;oe|=1;var r=Et.transition,n=fe;try{if(Et.transition=null,fe=1,e)return e()}finally{fe=n,Et.transition=r,oe=t,!(oe&6)&&Er()}}function tc(){mt=fn.current,ge(fn)}function Fr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,kx(r)),Pe!==null)for(r=Pe.return;r!==null;){var n=r;switch(La(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Li();break;case 3:kn(),ge(at),ge(Ge),Va();break;case 5:Ha(n);break;case 4:kn();break;case 13:ge(je);break;case 19:ge(je);break;case 10:Ba(n.type._context);break;case 22:case 23:tc()}r=r.return}if($e=e,Pe=e=vr(e.current,null),Ve=mt=t,Ie=0,ks=null,Xa=ao=Hr=0,it=os=null,Or!==null){for(t=0;t<Or.length;t++)if(r=Or[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var l=o.next;o.next=s,n.next=l}r.pending=n}Or=null}return e}function wf(e,t){do{var r=Pe;try{if(Ma(),fi.current=Vi,Hi){for(var n=Ne.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Hi=!1}if(zr=0,Ue=Le=Ne=null,ss=!1,bs=0,Ga.current=null,r===null||r.return===null){Ie=1,ks=t,Pe=null;break}e:{var o=e,l=r.return,a=r,c=t;if(t=Ve,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var j=pu(l);if(j!==null){j.flags&=-257,mu(j,l,a,o,t),j.mode&1&&fu(o,u,t),t=j,c=u;var m=t.updateQueue;if(m===null){var w=new Set;w.add(c),t.updateQueue=w}else m.add(c);break e}else{if(!(t&1)){fu(o,u,t),rc();break e}c=Error(L(426))}}else if(ve&&a.mode&1){var N=pu(l);if(N!==null){!(N.flags&65536)&&(N.flags|=256),mu(N,l,a,o,t),Ia(Sn(c,a));break e}}o=c=Sn(c,a),Ie!==4&&(Ie=2),os===null?os=[o]:os.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var g=tf(o,c,t);lu(o,g);break e;case 1:a=c;var h=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof h.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(yr===null||!yr.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var k=rf(o,a,t);lu(o,k);break e}}o=o.return}while(o!==null)}jf(r)}catch(C){t=C,Pe===r&&r!==null&&(Pe=r=r.return);continue}break}while(!0)}function vf(){var e=qi.current;return qi.current=Vi,e===null?Vi:e}function rc(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),$e===null||!(Hr&268435455)&&!(ao&268435455)||cr($e,Ve)}function Qi(e,t){var r=oe;oe|=2;var n=vf();($e!==e||Ve!==t)&&(Kt=null,Fr(e,t));do try{Jx();break}catch(s){wf(e,s)}while(!0);if(Ma(),oe=r,qi.current=n,Pe!==null)throw Error(L(261));return $e=null,Ve=0,Ie}function Jx(){for(;Pe!==null;)bf(Pe)}function Yx(){for(;Pe!==null&&!bm();)bf(Pe)}function bf(e){var t=kf(e.alternate,e,mt);e.memoizedProps=e.pendingProps,t===null?jf(e):Pe=t,Ga.current=null}function jf(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Hx(r,t),r!==null){r.flags&=32767,Pe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ie=6,Pe=null;return}}else if(r=zx(r,t,mt),r!==null){Pe=r;return}if(t=t.sibling,t!==null){Pe=t;return}Pe=t=e}while(t!==null);Ie===0&&(Ie=5)}function Dr(e,t,r){var n=fe,s=Et.transition;try{Et.transition=null,fe=1,Gx(e,t,r,n)}finally{Et.transition=s,fe=n}return null}function Gx(e,t,r,n){do wn();while(dr!==null);if(oe&6)throw Error(L(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(Pm(e,o),e===$e&&(Pe=$e=null,Ve=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ti||(ti=!0,Sf(Ti,function(){return wn(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Et.transition,Et.transition=null;var l=fe;fe=1;var a=oe;oe|=4,Ga.current=null,qx(e,r),xf(r,e),gx(Tl),Pi=!!_l,Tl=_l=null,e.current=r,Wx(r),jm(),oe=a,fe=l,Et.transition=o}else e.current=r;if(ti&&(ti=!1,dr=e,Ki=s),o=e.pendingLanes,o===0&&(yr=null),Sm(r.stateNode),ut(e,Te()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Wi)throw Wi=!1,e=Jl,Jl=null,e;return Ki&1&&e.tag!==0&&wn(),o=e.pendingLanes,o&1?e===Yl?ls++:(ls=0,Yl=e):ls=0,Er(),null}function wn(){if(dr!==null){var e=th(Ki),t=Et.transition,r=fe;try{if(Et.transition=null,fe=16>e?16:e,dr===null)var n=!1;else{if(e=dr,dr=null,Ki=0,oe&6)throw Error(L(331));var s=oe;for(oe|=4,z=e.current;z!==null;){var o=z,l=o.child;if(z.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(z=u;z!==null;){var d=z;switch(d.tag){case 0:case 11:case 15:is(8,d,o)}var f=d.child;if(f!==null)f.return=d,z=f;else for(;z!==null;){d=z;var p=d.sibling,j=d.return;if(ff(d),d===u){z=null;break}if(p!==null){p.return=j,z=p;break}z=j}}}var m=o.alternate;if(m!==null){var w=m.child;if(w!==null){m.child=null;do{var N=w.sibling;w.sibling=null,w=N}while(w!==null)}}z=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,z=l;else e:for(;z!==null;){if(o=z,o.flags&2048)switch(o.tag){case 0:case 11:case 15:is(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,z=g;break e}z=o.return}}var h=e.current;for(z=h;z!==null;){l=z;var y=l.child;if(l.subtreeFlags&2064&&y!==null)y.return=l,z=y;else e:for(l=h;z!==null;){if(a=z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:lo(9,a)}}catch(C){Ee(a,a.return,C)}if(a===l){z=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,z=k;break e}z=a.return}}if(oe=s,Er(),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Zi,e)}catch{}n=!0}return n}finally{fe=r,Et.transition=t}}return!1}function _u(e,t,r){t=Sn(r,t),t=tf(e,t,1),e=gr(e,t,1),t=Ze(),e!==null&&(_s(e,1,t),ut(e,t))}function Ee(e,t,r){if(e.tag===3)_u(e,e,r);else for(;t!==null;){if(t.tag===3){_u(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(yr===null||!yr.has(n))){e=Sn(r,e),e=rf(t,e,1),t=gr(t,e,1),e=Ze(),t!==null&&(_s(t,1,e),ut(t,e));break}}t=t.return}}function Xx(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ze(),e.pingedLanes|=e.suspendedLanes&r,$e===e&&(Ve&r)===r&&(Ie===4||Ie===3&&(Ve&130023424)===Ve&&500>Te()-Za?Fr(e,0):Xa|=r),ut(e,t)}function Nf(e,t){t===0&&(e.mode&1?(t=qs,qs<<=1,!(qs&130023424)&&(qs=4194304)):t=1);var r=Ze();e=tr(e,t),e!==null&&(_s(e,t,r),ut(e,r))}function Zx(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Nf(e,r)}function e0(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(L(314))}n!==null&&n.delete(t),Nf(e,r)}var kf;kf=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||at.current)lt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return lt=!1,$x(e,t,r);lt=!!(e.flags&131072)}else lt=!1,ve&&t.flags&1048576&&Eh(t,Mi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;mi(e,t),e=t.pendingProps;var s=bn(t,Ge.current);yn(t,r),s=Wa(null,t,n,e,s,r);var o=Ka();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ct(n)?(o=!0,Ii(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,$a(t),s.updater=oo,t.stateNode=s,s._reactInternals=t,Ml(t,n,e,r),t=$l(null,t,n,!0,o,r)):(t.tag=0,ve&&o&&Oa(t),Xe(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(mi(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=r0(n),e=Pt(n,e),s){case 0:t=Ul(null,t,n,e,r);break e;case 1:t=yu(null,t,n,e,r);break e;case 11:t=xu(null,t,n,e,r);break e;case 14:t=gu(null,t,n,Pt(n.type,e),r);break e}throw Error(L(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Pt(n,s),Ul(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Pt(n,s),yu(e,t,n,s,r);case 3:e:{if(lf(t),e===null)throw Error(L(387));n=t.pendingProps,o=t.memoizedState,s=o.element,Ah(e,t),$i(t,n,null,r);var l=t.memoizedState;if(n=l.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Sn(Error(L(423)),t),t=wu(e,t,n,r,s);break e}else if(n!==s){s=Sn(Error(L(424)),t),t=wu(e,t,n,r,s);break e}else for(xt=xr(t.stateNode.containerInfo.firstChild),gt=t,ve=!0,Ot=null,r=Ph(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(jn(),n===s){t=rr(e,t,r);break e}Xe(e,t,n,r)}t=t.child}return t;case 5:return Oh(t),e===null&&Ll(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,l=s.children,Rl(n,s)?l=null:o!==null&&Rl(n,o)&&(t.flags|=32),of(e,t),Xe(e,t,l,r),t.child;case 6:return e===null&&Ll(t),null;case 13:return af(e,t,r);case 4:return za(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Nn(t,null,n,r):Xe(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Pt(n,s),xu(e,t,n,s,r);case 7:return Xe(e,t,t.pendingProps,r),t.child;case 8:return Xe(e,t,t.pendingProps.children,r),t.child;case 12:return Xe(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,l=s.value,pe(Bi,n._currentValue),n._currentValue=l,o!==null)if(Ft(o.value,l)){if(o.children===s.children&&!at.current){t=rr(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){l=o.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=Gt(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),Il(o.return,r,t),a.lanes|=r;break}c=c.next}}else if(o.tag===10)l=o.type===t.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(L(341));l.lanes|=r,a=l.alternate,a!==null&&(a.lanes|=r),Il(l,r,t),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===t){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}Xe(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,yn(t,r),s=_t(s),n=n(s),t.flags|=1,Xe(e,t,n,r),t.child;case 14:return n=t.type,s=Pt(n,t.pendingProps),s=Pt(n.type,s),gu(e,t,n,s,r);case 15:return nf(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Pt(n,s),mi(e,t),t.tag=1,ct(n)?(e=!0,Ii(t)):e=!1,yn(t,r),ef(t,n,s),Ml(t,n,s,r),$l(null,t,n,!0,e,r);case 19:return cf(e,t,r);case 22:return sf(e,t,r)}throw Error(L(156,t.tag))};function Sf(e,t){return Gd(e,t)}function t0(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,r,n){return new t0(e,t,r,n)}function nc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function r0(e){if(typeof e=="function")return nc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ja)return 11;if(e===Na)return 14}return 2}function vr(e,t){var r=e.alternate;return r===null?(r=Ct(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function yi(e,t,r,n,s,o){var l=2;if(n=e,typeof e=="function")nc(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case rn:return Mr(r.children,s,o,t);case ba:l=8,s|=8;break;case al:return e=Ct(12,r,t,s|2),e.elementType=al,e.lanes=o,e;case cl:return e=Ct(13,r,t,s),e.elementType=cl,e.lanes=o,e;case ul:return e=Ct(19,r,t,s),e.elementType=ul,e.lanes=o,e;case Od:return co(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Dd:l=10;break e;case Ad:l=9;break e;case ja:l=11;break e;case Na:l=14;break e;case or:l=16,n=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=Ct(l,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function Mr(e,t,r,n){return e=Ct(7,e,n,t),e.lanes=r,e}function co(e,t,r,n){return e=Ct(22,e,n,t),e.elementType=Od,e.lanes=r,e.stateNode={isHidden:!1},e}function Qo(e,t,r){return e=Ct(6,e,null,t),e.lanes=r,e}function Jo(e,t,r){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function n0(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=To(0),this.expirationTimes=To(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=To(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function sc(e,t,r,n,s,o,l,a,c){return e=new n0(e,t,r,a,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ct(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},$a(o),e}function s0(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Cf(e){if(!e)return kr;e=e._reactInternals;e:{if(Kr(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ct(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var r=e.type;if(ct(r))return Sh(e,r,t)}return t}function Ef(e,t,r,n,s,o,l,a,c){return e=sc(r,n,!0,e,s,o,l,a,c),e.context=Cf(null),r=e.current,n=Ze(),s=wr(r),o=Gt(n,s),o.callback=t??null,gr(r,o,s),e.current.lanes=s,_s(e,s,n),ut(e,n),e}function uo(e,t,r,n){var s=t.current,o=Ze(),l=wr(s);return r=Cf(r),t.context===null?t.context=r:t.pendingContext=r,t=Gt(o,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=gr(s,t,l),e!==null&&(It(e,s,l,o),hi(e,s,l)),l}function Ji(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Tu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ic(e,t){Tu(e,t),(e=e.alternate)&&Tu(e,t)}function i0(){return null}var _f=typeof reportError=="function"?reportError:function(e){console.error(e)};function oc(e){this._internalRoot=e}ho.prototype.render=oc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));uo(e,t,null,null)};ho.prototype.unmount=oc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vr(function(){uo(null,e,null,null)}),t[er]=null}};function ho(e){this._internalRoot=e}ho.prototype.unstable_scheduleHydration=function(e){if(e){var t=sh();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ar.length&&t!==0&&t<ar[r].priority;r++);ar.splice(r,0,e),r===0&&oh(e)}};function lc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function fo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ru(){}function o0(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var u=Ji(l);o.call(u)}}var l=Ef(t,n,e,0,null,!1,!1,"",Ru);return e._reactRootContainer=l,e[er]=l.current,xs(e.nodeType===8?e.parentNode:e),Vr(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=Ji(c);a.call(u)}}var c=sc(e,0,!1,null,null,!1,!1,"",Ru);return e._reactRootContainer=c,e[er]=c.current,xs(e.nodeType===8?e.parentNode:e),Vr(function(){uo(t,c,r,n)}),c}function po(e,t,r,n,s){var o=r._reactRootContainer;if(o){var l=o;if(typeof s=="function"){var a=s;s=function(){var c=Ji(l);a.call(c)}}uo(t,l,e,s)}else l=o0(r,t,e,s,n);return Ji(l)}rh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Yn(t.pendingLanes);r!==0&&(Ca(t,r|1),ut(t,Te()),!(oe&6)&&(Cn=Te()+500,Er()))}break;case 13:Vr(function(){var n=tr(e,1);if(n!==null){var s=Ze();It(n,e,1,s)}}),ic(e,1)}};Ea=function(e){if(e.tag===13){var t=tr(e,134217728);if(t!==null){var r=Ze();It(t,e,134217728,r)}ic(e,134217728)}};nh=function(e){if(e.tag===13){var t=wr(e),r=tr(e,t);if(r!==null){var n=Ze();It(r,e,t,n)}ic(e,t)}};sh=function(){return fe};ih=function(e,t){var r=fe;try{return fe=e,t()}finally{fe=r}};vl=function(e,t,r){switch(t){case"input":if(fl(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=no(n);if(!s)throw Error(L(90));Id(n),fl(n,s)}}}break;case"textarea":Md(e,r);break;case"select":t=r.value,t!=null&&pn(e,!!r.multiple,t,!1)}};qd=ec;Wd=Vr;var l0={usingClientEntryPoint:!1,Events:[Rs,ln,no,Hd,Vd,ec]},Hn={findFiberByHostInstance:Ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},a0={bundleType:Hn.bundleType,version:Hn.version,rendererPackageName:Hn.rendererPackageName,rendererConfig:Hn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Jd(e),e===null?null:e.stateNode},findFiberByHostInstance:Hn.findFiberByHostInstance||i0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ri=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ri.isDisabled&&ri.supportsFiber)try{Zi=ri.inject(a0),Ht=ri}catch{}}wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l0;wt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lc(t))throw Error(L(200));return s0(e,t,null,r)};wt.createRoot=function(e,t){if(!lc(e))throw Error(L(299));var r=!1,n="",s=_f;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=sc(e,1,!1,null,null,r,!1,n,s),e[er]=t.current,xs(e.nodeType===8?e.parentNode:e),new oc(t)};wt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=Jd(t),e=e===null?null:e.stateNode,e};wt.flushSync=function(e){return Vr(e)};wt.hydrate=function(e,t,r){if(!fo(t))throw Error(L(200));return po(null,e,t,!0,r)};wt.hydrateRoot=function(e,t,r){if(!lc(e))throw Error(L(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",l=_f;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=Ef(t,null,e,1,r??null,s,!1,o,l),e[er]=t.current,xs(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new ho(t)};wt.render=function(e,t,r){if(!fo(t))throw Error(L(200));return po(null,e,t,!1,r)};wt.unmountComponentAtNode=function(e){if(!fo(e))throw Error(L(40));return e._reactRootContainer?(Vr(function(){po(null,null,e,!1,function(){e._reactRootContainer=null,e[er]=null})}),!0):!1};wt.unstable_batchedUpdates=ec;wt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!fo(r))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return po(e,t,r,!1,n)};wt.version="18.3.1-next-f1338f8080-20240426";function Tf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Tf)}catch(e){console.error(e)}}Tf(),_d.exports=wt;var c0=_d.exports,Pu=c0;ol.createRoot=Pu.createRoot,ol.hydrateRoot=Pu.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ss(){return Ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ss.apply(this,arguments)}var hr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(hr||(hr={}));const Du="popstate";function u0(e){e===void 0&&(e={});function t(n,s){let{pathname:o,search:l,hash:a}=n.location;return Zl("",{pathname:o,search:l,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Yi(s)}return h0(t,r,null,e)}function Ae(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Rf(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function d0(){return Math.random().toString(36).substr(2,8)}function Au(e,t){return{usr:e.state,key:e.key,idx:t}}function Zl(e,t,r,n){return r===void 0&&(r=null),Ss({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Pn(t):t,{state:r,key:t&&t.key||n||d0()})}function Yi(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Pn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function h0(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,l=s.history,a=hr.Pop,c=null,u=d();u==null&&(u=0,l.replaceState(Ss({},l.state,{idx:u}),""));function d(){return(l.state||{idx:null}).idx}function f(){a=hr.Pop;let N=d(),g=N==null?null:N-u;u=N,c&&c({action:a,location:w.location,delta:g})}function p(N,g){a=hr.Push;let h=Zl(w.location,N,g);u=d()+1;let y=Au(h,u),k=w.createHref(h);try{l.pushState(y,"",k)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(k)}o&&c&&c({action:a,location:w.location,delta:1})}function j(N,g){a=hr.Replace;let h=Zl(w.location,N,g);u=d();let y=Au(h,u),k=w.createHref(h);l.replaceState(y,"",k),o&&c&&c({action:a,location:w.location,delta:0})}function m(N){let g=s.location.origin!=="null"?s.location.origin:s.location.href,h=typeof N=="string"?N:Yi(N);return h=h.replace(/ $/,"%20"),Ae(g,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,g)}let w={get action(){return a},get location(){return e(s,l)},listen(N){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Du,f),c=N,()=>{s.removeEventListener(Du,f),c=null}},createHref(N){return t(s,N)},createURL:m,encodeLocation(N){let g=m(N);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:j,go(N){return l.go(N)}};return w}var Ou;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ou||(Ou={}));function f0(e,t,r){return r===void 0&&(r="/"),p0(e,t,r)}function p0(e,t,r,n){let s=typeof t=="string"?Pn(t):t,o=ac(s.pathname||"/",r);if(o==null)return null;let l=Pf(e);m0(l);let a=null;for(let c=0;a==null&&c<l.length;++c){let u=E0(o);a=k0(l[c],u)}return a}function Pf(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,l,a)=>{let c={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};c.relativePath.startsWith("/")&&(Ae(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=br([n,c.relativePath]),d=r.concat(c);o.children&&o.children.length>0&&(Ae(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Pf(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:j0(u,o.index),routesMeta:d})};return e.forEach((o,l)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,l);else for(let c of Df(o.path))s(o,l,c)}),t}function Df(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let l=Df(n.join("/")),a=[];return a.push(...l.map(c=>c===""?o:[o,c].join("/"))),s&&a.push(...l),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function m0(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:N0(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const x0=/^:[\w-]+$/,g0=3,y0=2,w0=1,v0=10,b0=-2,Lu=e=>e==="*";function j0(e,t){let r=e.split("/"),n=r.length;return r.some(Lu)&&(n+=b0),t&&(n+=y0),r.filter(s=>!Lu(s)).reduce((s,o)=>s+(x0.test(o)?g0:o===""?w0:v0),n)}function N0(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function k0(e,t,r){let{routesMeta:n}=e,s={},o="/",l=[];for(let a=0;a<n.length;++a){let c=n[a],u=a===n.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=S0({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!f)return null;Object.assign(s,f.params),l.push({params:s,pathname:br([o,f.pathname]),pathnameBase:P0(br([o,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(o=br([o,f.pathnameBase]))}return l}function S0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=C0(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:p,isOptional:j}=d;if(p==="*"){let w=a[f]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const m=a[f];return j&&!m?u[p]=void 0:u[p]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:l,pattern:e}}function C0(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Rf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,a,c)=>(n.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function E0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Rf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ac(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function _0(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Pn(e):e;return{pathname:r?r.startsWith("/")?r:T0(r,t):t,search:D0(n),hash:A0(s)}}function T0(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Yo(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function R0(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Af(e,t){let r=R0(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Of(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Pn(e):(s=Ss({},e),Ae(!s.pathname||!s.pathname.includes("?"),Yo("?","pathname","search",s)),Ae(!s.pathname||!s.pathname.includes("#"),Yo("#","pathname","hash",s)),Ae(!s.search||!s.search.includes("#"),Yo("#","search","hash",s)));let o=e===""||s.pathname==="",l=o?"/":s.pathname,a;if(l==null)a=r;else{let f=t.length-1;if(!n&&l.startsWith("..")){let p=l.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?t[f]:"/"}let c=_0(s,a),u=l&&l!=="/"&&l.endsWith("/"),d=(o||l===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const br=e=>e.join("/").replace(/\/\/+/g,"/"),P0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),D0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,A0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function O0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Lf=["post","put","patch","delete"];new Set(Lf);const L0=["get",...Lf];new Set(L0);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cs(){return Cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cs.apply(this,arguments)}const cc=x.createContext(null),I0=x.createContext(null),Qr=x.createContext(null),mo=x.createContext(null),_r=x.createContext({outlet:null,matches:[],isDataRoute:!1}),If=x.createContext(null);function F0(e,t){let{relative:r}=t===void 0?{}:t;Ds()||Ae(!1);let{basename:n,navigator:s}=x.useContext(Qr),{hash:o,pathname:l,search:a}=Mf(e,{relative:r}),c=l;return n!=="/"&&(c=l==="/"?n:br([n,l])),s.createHref({pathname:c,search:a,hash:o})}function Ds(){return x.useContext(mo)!=null}function Dn(){return Ds()||Ae(!1),x.useContext(mo).location}function Ff(e){x.useContext(Qr).static||x.useLayoutEffect(e)}function Jr(){let{isDataRoute:e}=x.useContext(_r);return e?G0():M0()}function M0(){Ds()||Ae(!1);let e=x.useContext(cc),{basename:t,future:r,navigator:n}=x.useContext(Qr),{matches:s}=x.useContext(_r),{pathname:o}=Dn(),l=JSON.stringify(Af(s,r.v7_relativeSplatPath)),a=x.useRef(!1);return Ff(()=>{a.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let f=Of(u,JSON.parse(l),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:br([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,l,o,e])}function B0(){let{matches:e}=x.useContext(_r),t=e[e.length-1];return t?t.params:{}}function Mf(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(Qr),{matches:s}=x.useContext(_r),{pathname:o}=Dn(),l=JSON.stringify(Af(s,n.v7_relativeSplatPath));return x.useMemo(()=>Of(e,JSON.parse(l),o,r==="path"),[e,l,o,r])}function U0(e,t){return $0(e,t)}function $0(e,t,r,n){Ds()||Ae(!1);let{navigator:s}=x.useContext(Qr),{matches:o}=x.useContext(_r),l=o[o.length-1],a=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let u=Dn(),d;if(t){var f;let N=typeof t=="string"?Pn(t):t;c==="/"||(f=N.pathname)!=null&&f.startsWith(c)||Ae(!1),d=N}else d=u;let p=d.pathname||"/",j=p;if(c!=="/"){let N=c.replace(/^\//,"").split("/");j="/"+p.replace(/^\//,"").split("/").slice(N.length).join("/")}let m=f0(e,{pathname:j}),w=W0(m&&m.map(N=>Object.assign({},N,{params:Object.assign({},a,N.params),pathname:br([c,s.encodeLocation?s.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?c:br([c,s.encodeLocation?s.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),o,r,n);return t&&w?x.createElement(mo.Provider,{value:{location:Cs({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:hr.Pop}},w):w}function z0(){let e=Y0(),t=O0(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:s},r):null,null)}const H0=x.createElement(z0,null);class V0 extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(_r.Provider,{value:this.props.routeContext},x.createElement(If.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function q0(e){let{routeContext:t,match:r,children:n}=e,s=x.useContext(cc);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(_r.Provider,{value:t},n)}function W0(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=l.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Ae(!1),l=l.slice(0,Math.min(l.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<l.length;d++){let f=l[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:p,errors:j}=r,m=f.route.loader&&p[f.route.id]===void 0&&(!j||j[f.route.id]===void 0);if(f.route.lazy||m){c=!0,u>=0?l=l.slice(0,u+1):l=[l[0]];break}}}return l.reduceRight((d,f,p)=>{let j,m=!1,w=null,N=null;r&&(j=a&&f.route.id?a[f.route.id]:void 0,w=f.route.errorElement||H0,c&&(u<0&&p===0?(X0("route-fallback"),m=!0,N=null):u===p&&(m=!0,N=f.route.hydrateFallbackElement||null)));let g=t.concat(l.slice(0,p+1)),h=()=>{let y;return j?y=w:m?y=N:f.route.Component?y=x.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=d,x.createElement(q0,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:y})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?x.createElement(V0,{location:r.location,revalidation:r.revalidation,component:w,error:j,children:h(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):h()},null)}var Bf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Bf||{}),Uf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Uf||{});function K0(e){let t=x.useContext(cc);return t||Ae(!1),t}function Q0(e){let t=x.useContext(I0);return t||Ae(!1),t}function J0(e){let t=x.useContext(_r);return t||Ae(!1),t}function $f(e){let t=J0(),r=t.matches[t.matches.length-1];return r.route.id||Ae(!1),r.route.id}function Y0(){var e;let t=x.useContext(If),r=Q0(),n=$f();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function G0(){let{router:e}=K0(Bf.UseNavigateStable),t=$f(Uf.UseNavigateStable),r=x.useRef(!1);return Ff(()=>{r.current=!0}),x.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Cs({fromRouteId:t},o)))},[e,t])}const Iu={};function X0(e,t,r){Iu[e]||(Iu[e]=!0)}function Z0(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ir(e){Ae(!1)}function eg(e){let{basename:t="/",children:r=null,location:n,navigationType:s=hr.Pop,navigator:o,static:l=!1,future:a}=e;Ds()&&Ae(!1);let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:o,static:l,future:Cs({v7_relativeSplatPath:!1},a)}),[c,a,o,l]);typeof n=="string"&&(n=Pn(n));let{pathname:d="/",search:f="",hash:p="",state:j=null,key:m="default"}=n,w=x.useMemo(()=>{let N=ac(d,c);return N==null?null:{location:{pathname:N,search:f,hash:p,state:j,key:m},navigationType:s}},[c,d,f,p,j,m,s]);return w==null?null:x.createElement(Qr.Provider,{value:u},x.createElement(mo.Provider,{children:r,value:w}))}function tg(e){let{children:t,location:r}=e;return U0(ea(t),r)}new Promise(()=>{});function ea(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,s)=>{if(!x.isValidElement(n))return;let o=[...t,s];if(n.type===x.Fragment){r.push.apply(r,ea(n.props.children,o));return}n.type!==ir&&Ae(!1),!n.props.index||!n.props.children||Ae(!1);let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=ea(n.props.children,o)),r.push(l)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ta(){return ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ta.apply(this,arguments)}function rg(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function ng(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function sg(e,t){return e.button===0&&(!t||t==="_self")&&!ng(e)}const ig=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],og="6";try{window.__reactRouterVersion=og}catch{}const lg="startTransition",Fu=Xp[lg];function ag(e){let{basename:t,children:r,future:n,window:s}=e,o=x.useRef();o.current==null&&(o.current=u0({window:s,v5Compat:!0}));let l=o.current,[a,c]=x.useState({action:l.action,location:l.location}),{v7_startTransition:u}=n||{},d=x.useCallback(f=>{u&&Fu?Fu(()=>c(f)):c(f)},[c,u]);return x.useLayoutEffect(()=>l.listen(d),[l,d]),x.useEffect(()=>Z0(n),[n]),x.createElement(eg,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:l,future:n})}const cg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ug=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xt=x.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:o,replace:l,state:a,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,p=rg(t,ig),{basename:j}=x.useContext(Qr),m,w=!1;if(typeof u=="string"&&ug.test(u)&&(m=u,cg))try{let y=new URL(window.location.href),k=u.startsWith("//")?new URL(y.protocol+u):new URL(u),C=ac(k.pathname,j);k.origin===y.origin&&C!=null?u=C+k.search+k.hash:w=!0}catch{}let N=F0(u,{relative:s}),g=dg(u,{replace:l,state:a,target:c,preventScrollReset:d,relative:s,viewTransition:f});function h(y){n&&n(y),y.defaultPrevented||g(y)}return x.createElement("a",ta({},p,{href:m||N,onClick:w||o?n:h,ref:r,target:c}))});var Mu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Mu||(Mu={}));var Bu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Bu||(Bu={}));function dg(e,t){let{target:r,replace:n,state:s,preventScrollReset:o,relative:l,viewTransition:a}=t===void 0?{}:t,c=Jr(),u=Dn(),d=Mf(e,{relative:l});return x.useCallback(f=>{if(sg(f,r)){f.preventDefault();let p=n!==void 0?n:Yi(u)===Yi(d);c(e,{replace:p,state:s,preventScrollReset:o,relative:l,viewTransition:a})}},[u,c,d,n,s,r,e,o,l,a])}function zf(e,t){return function(){return e.apply(t,arguments)}}const{toString:hg}=Object.prototype,{getPrototypeOf:uc}=Object,{iterator:xo,toStringTag:Hf}=Symbol,go=(e=>t=>{const r=hg.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Mt=e=>(e=e.toLowerCase(),t=>go(t)===e),yo=e=>t=>typeof t===e,{isArray:An}=Array,En=yo("undefined");function As(e){return e!==null&&!En(e)&&e.constructor!==null&&!En(e.constructor)&&dt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Vf=Mt("ArrayBuffer");function fg(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Vf(e.buffer),t}const pg=yo("string"),dt=yo("function"),qf=yo("number"),Os=e=>e!==null&&typeof e=="object",mg=e=>e===!0||e===!1,wi=e=>{if(go(e)!=="object")return!1;const t=uc(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Hf in e)&&!(xo in e)},xg=e=>{if(!Os(e)||As(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},gg=Mt("Date"),yg=Mt("File"),wg=Mt("Blob"),vg=Mt("FileList"),bg=e=>Os(e)&&dt(e.pipe),jg=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||dt(e.append)&&((t=go(e))==="formdata"||t==="object"&&dt(e.toString)&&e.toString()==="[object FormData]"))},Ng=Mt("URLSearchParams"),[kg,Sg,Cg,Eg]=["ReadableStream","Request","Response","Headers"].map(Mt),_g=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ls(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),An(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(As(e))return;const o=r?Object.getOwnPropertyNames(e):Object.keys(e),l=o.length;let a;for(n=0;n<l;n++)a=o[n],t.call(null,e[a],a,e)}}function Wf(e,t){if(As(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const Ir=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Kf=e=>!En(e)&&e!==Ir;function ra(){const{caseless:e,skipUndefined:t}=Kf(this)&&this||{},r={},n=(s,o)=>{const l=e&&Wf(r,o)||o;wi(r[l])&&wi(s)?r[l]=ra(r[l],s):wi(s)?r[l]=ra({},s):An(s)?r[l]=s.slice():(!t||!En(s))&&(r[l]=s)};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&Ls(arguments[s],n);return r}const Tg=(e,t,r,{allOwnKeys:n}={})=>(Ls(t,(s,o)=>{r&&dt(s)?e[o]=zf(s,r):e[o]=s},{allOwnKeys:n}),e),Rg=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Pg=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Dg=(e,t,r,n)=>{let s,o,l;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)l=s[o],(!n||n(l,e,t))&&!a[l]&&(t[l]=e[l],a[l]=!0);e=r!==!1&&uc(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Ag=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},Og=e=>{if(!e)return null;if(An(e))return e;let t=e.length;if(!qf(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Lg=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&uc(Uint8Array)),Ig=(e,t)=>{const n=(e&&e[xo]).call(e);let s;for(;(s=n.next())&&!s.done;){const o=s.value;t.call(e,o[0],o[1])}},Fg=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},Mg=Mt("HTMLFormElement"),Bg=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),Uu=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Ug=Mt("RegExp"),Qf=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Ls(r,(s,o)=>{let l;(l=t(s,o,e))!==!1&&(n[o]=l||s)}),Object.defineProperties(e,n)},$g=e=>{Qf(e,(t,r)=>{if(dt(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(dt(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},zg=(e,t)=>{const r={},n=s=>{s.forEach(o=>{r[o]=!0})};return An(e)?n(e):n(String(e).split(t)),r},Hg=()=>{},Vg=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function qg(e){return!!(e&&dt(e.append)&&e[Hf]==="FormData"&&e[xo])}const Wg=e=>{const t=new Array(10),r=(n,s)=>{if(Os(n)){if(t.indexOf(n)>=0)return;if(As(n))return n;if(!("toJSON"in n)){t[s]=n;const o=An(n)?[]:{};return Ls(n,(l,a)=>{const c=r(l,s+1);!En(c)&&(o[a]=c)}),t[s]=void 0,o}}return n};return r(e,0)},Kg=Mt("AsyncFunction"),Qg=e=>e&&(Os(e)||dt(e))&&dt(e.then)&&dt(e.catch),Jf=((e,t)=>e?setImmediate:t?((r,n)=>(Ir.addEventListener("message",({source:s,data:o})=>{s===Ir&&o===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Ir.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",dt(Ir.postMessage)),Jg=typeof queueMicrotask<"u"?queueMicrotask.bind(Ir):typeof process<"u"&&process.nextTick||Jf,Yg=e=>e!=null&&dt(e[xo]),E={isArray:An,isArrayBuffer:Vf,isBuffer:As,isFormData:jg,isArrayBufferView:fg,isString:pg,isNumber:qf,isBoolean:mg,isObject:Os,isPlainObject:wi,isEmptyObject:xg,isReadableStream:kg,isRequest:Sg,isResponse:Cg,isHeaders:Eg,isUndefined:En,isDate:gg,isFile:yg,isBlob:wg,isRegExp:Ug,isFunction:dt,isStream:bg,isURLSearchParams:Ng,isTypedArray:Lg,isFileList:vg,forEach:Ls,merge:ra,extend:Tg,trim:_g,stripBOM:Rg,inherits:Pg,toFlatObject:Dg,kindOf:go,kindOfTest:Mt,endsWith:Ag,toArray:Og,forEachEntry:Ig,matchAll:Fg,isHTMLForm:Mg,hasOwnProperty:Uu,hasOwnProp:Uu,reduceDescriptors:Qf,freezeMethods:$g,toObjectSet:zg,toCamelCase:Bg,noop:Hg,toFiniteNumber:Vg,findKey:Wf,global:Ir,isContextDefined:Kf,isSpecCompliantForm:qg,toJSONObject:Wg,isAsyncFn:Kg,isThenable:Qg,setImmediate:Jf,asap:Jg,isIterable:Yg};function G(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}E.inherits(G,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:E.toJSONObject(this.config),code:this.code,status:this.status}}});const Yf=G.prototype,Gf={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Gf[e]={value:e}});Object.defineProperties(G,Gf);Object.defineProperty(Yf,"isAxiosError",{value:!0});G.from=(e,t,r,n,s,o)=>{const l=Object.create(Yf);E.toFlatObject(e,l,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const a=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return G.call(l,a,c,r,n,s),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",o&&Object.assign(l,o),l};const Gg=null;function na(e){return E.isPlainObject(e)||E.isArray(e)}function Xf(e){return E.endsWith(e,"[]")?e.slice(0,-2):e}function $u(e,t,r){return e?e.concat(t).map(function(s,o){return s=Xf(s),!r&&o?"["+s+"]":s}).join(r?".":""):t}function Xg(e){return E.isArray(e)&&!e.some(na)}const Zg=E.toFlatObject(E,{},null,function(t){return/^is[A-Z]/.test(t)});function wo(e,t,r){if(!E.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=E.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,N){return!E.isUndefined(N[w])});const n=r.metaTokens,s=r.visitor||d,o=r.dots,l=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&E.isSpecCompliantForm(t);if(!E.isFunction(s))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(E.isDate(m))return m.toISOString();if(E.isBoolean(m))return m.toString();if(!c&&E.isBlob(m))throw new G("Blob is not supported. Use a Buffer instead.");return E.isArrayBuffer(m)||E.isTypedArray(m)?c&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,w,N){let g=m;if(m&&!N&&typeof m=="object"){if(E.endsWith(w,"{}"))w=n?w:w.slice(0,-2),m=JSON.stringify(m);else if(E.isArray(m)&&Xg(m)||(E.isFileList(m)||E.endsWith(w,"[]"))&&(g=E.toArray(m)))return w=Xf(w),g.forEach(function(y,k){!(E.isUndefined(y)||y===null)&&t.append(l===!0?$u([w],k,o):l===null?w:w+"[]",u(y))}),!1}return na(m)?!0:(t.append($u(N,w,o),u(m)),!1)}const f=[],p=Object.assign(Zg,{defaultVisitor:d,convertValue:u,isVisitable:na});function j(m,w){if(!E.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+w.join("."));f.push(m),E.forEach(m,function(g,h){(!(E.isUndefined(g)||g===null)&&s.call(t,g,E.isString(h)?h.trim():h,w,p))===!0&&j(g,w?w.concat(h):[h])}),f.pop()}}if(!E.isObject(e))throw new TypeError("data must be an object");return j(e),t}function zu(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function dc(e,t){this._pairs=[],e&&wo(e,this,t)}const Zf=dc.prototype;Zf.append=function(t,r){this._pairs.push([t,r])};Zf.toString=function(t){const r=t?function(n){return t.call(this,n,zu)}:zu;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function ey(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ep(e,t,r){if(!t)return e;const n=r&&r.encode||ey;E.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let o;if(s?o=s(t,r):o=E.isURLSearchParams(t)?t.toString():new dc(t,r).toString(n),o){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class Hu{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){E.forEach(this.handlers,function(n){n!==null&&t(n)})}}const tp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ty=typeof URLSearchParams<"u"?URLSearchParams:dc,ry=typeof FormData<"u"?FormData:null,ny=typeof Blob<"u"?Blob:null,sy={isBrowser:!0,classes:{URLSearchParams:ty,FormData:ry,Blob:ny},protocols:["http","https","file","blob","url","data"]},hc=typeof window<"u"&&typeof document<"u",sa=typeof navigator=="object"&&navigator||void 0,iy=hc&&(!sa||["ReactNative","NativeScript","NS"].indexOf(sa.product)<0),oy=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ly=hc&&window.location.href||"http://localhost",ay=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:hc,hasStandardBrowserEnv:iy,hasStandardBrowserWebWorkerEnv:oy,navigator:sa,origin:ly},Symbol.toStringTag,{value:"Module"})),Je={...ay,...sy};function cy(e,t){return wo(e,new Je.classes.URLSearchParams,{visitor:function(r,n,s,o){return Je.isNode&&E.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function uy(e){return E.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function dy(e){const t={},r=Object.keys(e);let n;const s=r.length;let o;for(n=0;n<s;n++)o=r[n],t[o]=e[o];return t}function rp(e){function t(r,n,s,o){let l=r[o++];if(l==="__proto__")return!0;const a=Number.isFinite(+l),c=o>=r.length;return l=!l&&E.isArray(s)?s.length:l,c?(E.hasOwnProp(s,l)?s[l]=[s[l],n]:s[l]=n,!a):((!s[l]||!E.isObject(s[l]))&&(s[l]=[]),t(r,n,s[l],o)&&E.isArray(s[l])&&(s[l]=dy(s[l])),!a)}if(E.isFormData(e)&&E.isFunction(e.entries)){const r={};return E.forEachEntry(e,(n,s)=>{t(uy(n),s,r,0)}),r}return null}function hy(e,t,r){if(E.isString(e))try{return(t||JSON.parse)(e),E.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Is={transitional:tp,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,o=E.isObject(t);if(o&&E.isHTMLForm(t)&&(t=new FormData(t)),E.isFormData(t))return s?JSON.stringify(rp(t)):t;if(E.isArrayBuffer(t)||E.isBuffer(t)||E.isStream(t)||E.isFile(t)||E.isBlob(t)||E.isReadableStream(t))return t;if(E.isArrayBufferView(t))return t.buffer;if(E.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return cy(t,this.formSerializer).toString();if((a=E.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return wo(a?{"files[]":t}:t,c&&new c,this.formSerializer)}}return o||s?(r.setContentType("application/json",!1),hy(t)):t}],transformResponse:[function(t){const r=this.transitional||Is.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(E.isResponse(t)||E.isReadableStream(t))return t;if(t&&E.isString(t)&&(n&&!this.responseType||s)){const l=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(a){if(l)throw a.name==="SyntaxError"?G.from(a,G.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Je.classes.FormData,Blob:Je.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};E.forEach(["delete","get","head","post","put","patch"],e=>{Is.headers[e]={}});const fy=E.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),py=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(l){s=l.indexOf(":"),r=l.substring(0,s).trim().toLowerCase(),n=l.substring(s+1).trim(),!(!r||t[r]&&fy[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Vu=Symbol("internals");function Vn(e){return e&&String(e).trim().toLowerCase()}function vi(e){return e===!1||e==null?e:E.isArray(e)?e.map(vi):String(e)}function my(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const xy=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Go(e,t,r,n,s){if(E.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!E.isString(t)){if(E.isString(n))return t.indexOf(n)!==-1;if(E.isRegExp(n))return n.test(t)}}function gy(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function yy(e,t){const r=E.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,o,l){return this[n].call(this,t,s,o,l)},configurable:!0})})}let ht=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function o(a,c,u){const d=Vn(c);if(!d)throw new Error("header name must be a non-empty string");const f=E.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=vi(a))}const l=(a,c)=>E.forEach(a,(u,d)=>o(u,d,c));if(E.isPlainObject(t)||t instanceof this.constructor)l(t,r);else if(E.isString(t)&&(t=t.trim())&&!xy(t))l(py(t),r);else if(E.isObject(t)&&E.isIterable(t)){let a={},c,u;for(const d of t){if(!E.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[u=d[0]]=(c=a[u])?E.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}l(a,r)}else t!=null&&o(r,t,n);return this}get(t,r){if(t=Vn(t),t){const n=E.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return my(s);if(E.isFunction(r))return r.call(this,s,n);if(E.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Vn(t),t){const n=E.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Go(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function o(l){if(l=Vn(l),l){const a=E.findKey(n,l);a&&(!r||Go(n,n[a],a,r))&&(delete n[a],s=!0)}}return E.isArray(t)?t.forEach(o):o(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const o=r[n];(!t||Go(this,this[o],o,t,!0))&&(delete this[o],s=!0)}return s}normalize(t){const r=this,n={};return E.forEach(this,(s,o)=>{const l=E.findKey(n,o);if(l){r[l]=vi(s),delete r[o];return}const a=t?gy(o):String(o).trim();a!==o&&delete r[o],r[a]=vi(s),n[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return E.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&E.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[Vu]=this[Vu]={accessors:{}}).accessors,s=this.prototype;function o(l){const a=Vn(l);n[a]||(yy(s,l),n[a]=!0)}return E.isArray(t)?t.forEach(o):o(t),this}};ht.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);E.reduceDescriptors(ht.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});E.freezeMethods(ht);function Xo(e,t){const r=this||Is,n=t||r,s=ht.from(n.headers);let o=n.data;return E.forEach(e,function(a){o=a.call(r,o,s.normalize(),t?t.status:void 0)}),s.normalize(),o}function np(e){return!!(e&&e.__CANCEL__)}function On(e,t,r){G.call(this,e??"canceled",G.ERR_CANCELED,t,r),this.name="CanceledError"}E.inherits(On,G,{__CANCEL__:!0});function sp(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new G("Request failed with status code "+r.status,[G.ERR_BAD_REQUEST,G.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function wy(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function vy(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,o=0,l;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[o];l||(l=u),r[s]=c,n[s]=u;let f=o,p=0;for(;f!==s;)p+=r[f++],f=f%e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),u-l<t)return;const j=d&&u-d;return j?Math.round(p*1e3/j):void 0}}function by(e,t){let r=0,n=1e3/t,s,o;const l=(u,d=Date.now())=>{r=d,s=null,o&&(clearTimeout(o),o=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?l(u,d):(s=u,o||(o=setTimeout(()=>{o=null,l(s)},n-f)))},()=>s&&l(s)]}const Gi=(e,t,r=3)=>{let n=0;const s=vy(50,250);return by(o=>{const l=o.loaded,a=o.lengthComputable?o.total:void 0,c=l-n,u=s(c),d=l<=a;n=l;const f={loaded:l,total:a,progress:a?l/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&d?(a-l)/u:void 0,event:o,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(f)},r)},qu=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Wu=e=>(...t)=>E.asap(()=>e(...t)),jy=Je.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Je.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Je.origin),Je.navigator&&/(msie|trident)/i.test(Je.navigator.userAgent)):()=>!0,Ny=Je.hasStandardBrowserEnv?{write(e,t,r,n,s,o){const l=[e+"="+encodeURIComponent(t)];E.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),E.isString(n)&&l.push("path="+n),E.isString(s)&&l.push("domain="+s),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ky(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Sy(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function ip(e,t,r){let n=!ky(t);return e&&(n||r==!1)?Sy(e,t):t}const Ku=e=>e instanceof ht?{...e}:e;function qr(e,t){t=t||{};const r={};function n(u,d,f,p){return E.isPlainObject(u)&&E.isPlainObject(d)?E.merge.call({caseless:p},u,d):E.isPlainObject(d)?E.merge({},d):E.isArray(d)?d.slice():d}function s(u,d,f,p){if(E.isUndefined(d)){if(!E.isUndefined(u))return n(void 0,u,f,p)}else return n(u,d,f,p)}function o(u,d){if(!E.isUndefined(d))return n(void 0,d)}function l(u,d){if(E.isUndefined(d)){if(!E.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function a(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:a,headers:(u,d,f)=>s(Ku(u),Ku(d),f,!0)};return E.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||s,p=f(e[d],t[d],d);E.isUndefined(p)&&f!==a||(r[d]=p)}),r}const op=e=>{const t=qr({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:o,headers:l,auth:a}=t;if(t.headers=l=ht.from(l),t.url=ep(ip(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&l.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),E.isFormData(r)){if(Je.hasStandardBrowserEnv||Je.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(E.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&l.set(d,f)})}}if(Je.hasStandardBrowserEnv&&(n&&E.isFunction(n)&&(n=n(t)),n||n!==!1&&jy(t.url))){const c=s&&o&&Ny.read(o);c&&l.set(s,c)}return t},Cy=typeof XMLHttpRequest<"u",Ey=Cy&&function(e){return new Promise(function(r,n){const s=op(e);let o=s.data;const l=ht.from(s.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:u}=s,d,f,p,j,m;function w(){j&&j(),m&&m(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let N=new XMLHttpRequest;N.open(s.method.toUpperCase(),s.url,!0),N.timeout=s.timeout;function g(){if(!N)return;const y=ht.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),C={data:!a||a==="text"||a==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:y,config:e,request:N};sp(function(R){r(R),w()},function(R){n(R),w()},C),N=null}"onloadend"in N?N.onloadend=g:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(g)},N.onabort=function(){N&&(n(new G("Request aborted",G.ECONNABORTED,e,N)),N=null)},N.onerror=function(k){const C=k&&k.message?k.message:"Network Error",_=new G(C,G.ERR_NETWORK,e,N);_.event=k||null,n(_),N=null},N.ontimeout=function(){let k=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const C=s.transitional||tp;s.timeoutErrorMessage&&(k=s.timeoutErrorMessage),n(new G(k,C.clarifyTimeoutError?G.ETIMEDOUT:G.ECONNABORTED,e,N)),N=null},o===void 0&&l.setContentType(null),"setRequestHeader"in N&&E.forEach(l.toJSON(),function(k,C){N.setRequestHeader(C,k)}),E.isUndefined(s.withCredentials)||(N.withCredentials=!!s.withCredentials),a&&a!=="json"&&(N.responseType=s.responseType),u&&([p,m]=Gi(u,!0),N.addEventListener("progress",p)),c&&N.upload&&([f,j]=Gi(c),N.upload.addEventListener("progress",f),N.upload.addEventListener("loadend",j)),(s.cancelToken||s.signal)&&(d=y=>{N&&(n(!y||y.type?new On(null,e,N):y),N.abort(),N=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const h=wy(s.url);if(h&&Je.protocols.indexOf(h)===-1){n(new G("Unsupported protocol "+h+":",G.ERR_BAD_REQUEST,e));return}N.send(o||null)})},_y=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const o=function(u){if(!s){s=!0,a();const d=u instanceof Error?u:this.reason;n.abort(d instanceof G?d:new On(d instanceof Error?d.message:d))}};let l=t&&setTimeout(()=>{l=null,o(new G(`timeout ${t} of ms exceeded`,G.ETIMEDOUT))},t);const a=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),e=null)};e.forEach(u=>u.addEventListener("abort",o));const{signal:c}=n;return c.unsubscribe=()=>E.asap(a),c}},Ty=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},Ry=async function*(e,t){for await(const r of Py(e))yield*Ty(r,t)},Py=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},Qu=(e,t,r,n)=>{const s=Ry(e,t);let o=0,l,a=c=>{l||(l=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){a(),c.close();return}let f=d.byteLength;if(r){let p=o+=f;r(p)}c.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(c){return a(c),s.return()}},{highWaterMark:2})},Ju=64*1024,{isFunction:ni}=E,Dy=(({Request:e,Response:t})=>({Request:e,Response:t}))(E.global),{ReadableStream:Yu,TextEncoder:Gu}=E.global,Xu=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Ay=e=>{e=E.merge.call({skipUndefined:!0},Dy,e);const{fetch:t,Request:r,Response:n}=e,s=t?ni(t):typeof fetch=="function",o=ni(r),l=ni(n);if(!s)return!1;const a=s&&ni(Yu),c=s&&(typeof Gu=="function"?(m=>w=>m.encode(w))(new Gu):async m=>new Uint8Array(await new r(m).arrayBuffer())),u=o&&a&&Xu(()=>{let m=!1;const w=new r(Je.origin,{body:new Yu,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!w}),d=l&&a&&Xu(()=>E.isReadableStream(new n("").body)),f={stream:d&&(m=>m.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!f[m]&&(f[m]=(w,N)=>{let g=w&&w[m];if(g)return g.call(w);throw new G(`Response type '${m}' is not supported`,G.ERR_NOT_SUPPORT,N)})});const p=async m=>{if(m==null)return 0;if(E.isBlob(m))return m.size;if(E.isSpecCompliantForm(m))return(await new r(Je.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(E.isArrayBufferView(m)||E.isArrayBuffer(m))return m.byteLength;if(E.isURLSearchParams(m)&&(m=m+""),E.isString(m))return(await c(m)).byteLength},j=async(m,w)=>{const N=E.toFiniteNumber(m.getContentLength());return N??p(w)};return async m=>{let{url:w,method:N,data:g,signal:h,cancelToken:y,timeout:k,onDownloadProgress:C,onUploadProgress:_,responseType:R,headers:b,withCredentials:O="same-origin",fetchOptions:D}=op(m),H=t||fetch;R=R?(R+"").toLowerCase():"text";let Z=_y([h,y&&y.toAbortSignal()],k),re=null;const le=Z&&Z.unsubscribe&&(()=>{Z.unsubscribe()});let Se;try{if(_&&u&&N!=="get"&&N!=="head"&&(Se=await j(b,g))!==0){let T=new r(w,{method:"POST",body:g,duplex:"half"}),q;if(E.isFormData(g)&&(q=T.headers.get("content-type"))&&b.setContentType(q),T.body){const[K,ee]=qu(Se,Gi(Wu(_)));g=Qu(T.body,Ju,K,ee)}}E.isString(O)||(O=O?"include":"omit");const ue=o&&"credentials"in r.prototype,de={...D,signal:Z,method:N.toUpperCase(),headers:b.normalize().toJSON(),body:g,duplex:"half",credentials:ue?O:void 0};re=o&&new r(w,de);let A=await(o?H(re,D):H(w,de));const B=d&&(R==="stream"||R==="response");if(d&&(C||B&&le)){const T={};["status","statusText","headers"].forEach(Fe=>{T[Fe]=A[Fe]});const q=E.toFiniteNumber(A.headers.get("content-length")),[K,ee]=C&&qu(q,Gi(Wu(C),!0))||[];A=new n(Qu(A.body,Ju,K,()=>{ee&&ee(),le&&le()}),T)}R=R||"text";let V=await f[E.findKey(f,R)||"text"](A,m);return!B&&le&&le(),await new Promise((T,q)=>{sp(T,q,{data:V,headers:ht.from(A.headers),status:A.status,statusText:A.statusText,config:m,request:re})})}catch(ue){throw le&&le(),ue&&ue.name==="TypeError"&&/Load failed|fetch/i.test(ue.message)?Object.assign(new G("Network Error",G.ERR_NETWORK,m,re),{cause:ue.cause||ue}):G.from(ue,ue&&ue.code,m,re)}}},Oy=new Map,lp=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:s}=t,o=[n,s,r];let l=o.length,a=l,c,u,d=Oy;for(;a--;)c=o[a],u=d.get(c),u===void 0&&d.set(c,u=a?new Map:Ay(t)),d=u;return u};lp();const ia={http:Gg,xhr:Ey,fetch:{get:lp}};E.forEach(ia,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Zu=e=>`- ${e}`,Ly=e=>E.isFunction(e)||e===null||e===!1,ap={getAdapter:(e,t)=>{e=E.isArray(e)?e:[e];const{length:r}=e;let n,s;const o={};for(let l=0;l<r;l++){n=e[l];let a;if(s=n,!Ly(n)&&(s=ia[(a=String(n)).toLowerCase()],s===void 0))throw new G(`Unknown adapter '${a}'`);if(s&&(E.isFunction(s)||(s=s.get(t))))break;o[a||"#"+l]=s}if(!s){const l=Object.entries(o).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=r?l.length>1?`since :
`+l.map(Zu).join(`
`):" "+Zu(l[0]):"as no adapter specified";throw new G("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s},adapters:ia};function Zo(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new On(null,e)}function ed(e){return Zo(e),e.headers=ht.from(e.headers),e.data=Xo.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ap.getAdapter(e.adapter||Is.adapter,e)(e).then(function(n){return Zo(e),n.data=Xo.call(e,e.transformResponse,n),n.headers=ht.from(n.headers),n},function(n){return np(n)||(Zo(e),n&&n.response&&(n.response.data=Xo.call(e,e.transformResponse,n.response),n.response.headers=ht.from(n.response.headers))),Promise.reject(n)})}const cp="1.12.2",vo={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{vo[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const td={};vo.transitional=function(t,r,n){function s(o,l){return"[Axios v"+cp+"] Transitional option '"+o+"'"+l+(n?". "+n:"")}return(o,l,a)=>{if(t===!1)throw new G(s(l," has been removed"+(r?" in "+r:"")),G.ERR_DEPRECATED);return r&&!td[l]&&(td[l]=!0,console.warn(s(l," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,l,a):!0}};vo.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Iy(e,t,r){if(typeof e!="object")throw new G("options must be an object",G.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const o=n[s],l=t[o];if(l){const a=e[o],c=a===void 0||l(a,o,e);if(c!==!0)throw new G("option "+o+" must be "+c,G.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new G("Unknown option "+o,G.ERR_BAD_OPTION)}}const bi={assertOptions:Iy,validators:vo},Ut=bi.validators;let Br=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Hu,response:new Hu}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=qr(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:o}=r;n!==void 0&&bi.assertOptions(n,{silentJSONParsing:Ut.transitional(Ut.boolean),forcedJSONParsing:Ut.transitional(Ut.boolean),clarifyTimeoutError:Ut.transitional(Ut.boolean)},!1),s!=null&&(E.isFunction(s)?r.paramsSerializer={serialize:s}:bi.assertOptions(s,{encode:Ut.function,serialize:Ut.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),bi.assertOptions(r,{baseUrl:Ut.spelling("baseURL"),withXsrfToken:Ut.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=o&&E.merge(o.common,o[r.method]);o&&E.forEach(["delete","get","head","post","put","patch","common"],m=>{delete o[m]}),r.headers=ht.concat(l,o);const a=[];let c=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(r)===!1||(c=c&&w.synchronous,a.unshift(w.fulfilled,w.rejected))});const u=[];this.interceptors.response.forEach(function(w){u.push(w.fulfilled,w.rejected)});let d,f=0,p;if(!c){const m=[ed.bind(this),void 0];for(m.unshift(...a),m.push(...u),p=m.length,d=Promise.resolve(r);f<p;)d=d.then(m[f++],m[f++]);return d}p=a.length;let j=r;for(;f<p;){const m=a[f++],w=a[f++];try{j=m(j)}catch(N){w.call(this,N);break}}try{d=ed.call(this,j)}catch(m){return Promise.reject(m)}for(f=0,p=u.length;f<p;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=qr(this.defaults,t);const r=ip(t.baseURL,t.url,t.allowAbsoluteUrls);return ep(r,t.params,t.paramsSerializer)}};E.forEach(["delete","get","head","options"],function(t){Br.prototype[t]=function(r,n){return this.request(qr(n||{},{method:t,url:r,data:(n||{}).data}))}});E.forEach(["post","put","patch"],function(t){function r(n){return function(o,l,a){return this.request(qr(a||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}Br.prototype[t]=r(),Br.prototype[t+"Form"]=r(!0)});let Fy=class up{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(s=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](s);n._listeners=null}),this.promise.then=s=>{let o;const l=new Promise(a=>{n.subscribe(a),o=a}).then(s);return l.cancel=function(){n.unsubscribe(o)},l},t(function(o,l,a){n.reason||(n.reason=new On(o,l,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new up(function(s){t=s}),cancel:t}}};function My(e){return function(r){return e.apply(null,r)}}function By(e){return E.isObject(e)&&e.isAxiosError===!0}const oa={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(oa).forEach(([e,t])=>{oa[t]=e});function dp(e){const t=new Br(e),r=zf(Br.prototype.request,t);return E.extend(r,Br.prototype,t,{allOwnKeys:!0}),E.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return dp(qr(e,s))},r}const _e=dp(Is);_e.Axios=Br;_e.CanceledError=On;_e.CancelToken=Fy;_e.isCancel=np;_e.VERSION=cp;_e.toFormData=wo;_e.AxiosError=G;_e.Cancel=_e.CanceledError;_e.all=function(t){return Promise.all(t)};_e.spread=My;_e.isAxiosError=By;_e.mergeConfig=qr;_e.AxiosHeaders=ht;_e.formToJSON=e=>rp(E.isHTMLForm(e)?new FormData(e):e);_e.getAdapter=ap.getAdapter;_e.HttpStatusCode=oa;_e.default=_e;const{Axios:yv,AxiosError:wv,CanceledError:vv,isCancel:bv,CancelToken:jv,VERSION:Nv,all:kv,Cancel:Sv,isAxiosError:Cv,spread:Ev,toFormData:_v,AxiosHeaders:Tv,HttpStatusCode:Rv,formToJSON:Pv,getAdapter:Dv,mergeConfig:Av}=_e,ot="https://your-railway-url.railway.app/api/v1";class Uy{constructor(){Object.defineProperty(this,"api",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.api=_e.create({baseURL:ot,headers:{"Content-Type":"application/json"}}),this.api.interceptors.request.use(t=>{const r=localStorage.getItem("authToken");return r&&(t.headers.Authorization=`Bearer ${r}`),t})}async register(t){var r,n;try{return(await this.api.post("/auth/register",{email:t.email,password:t.password,username:t.username,age:t.age,area:t.area,workOrSchool:t.workOrSchool,adminInviteCode:t.adminInviteCode})).data}catch(s){const o=((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.error)||"Registration failed";throw new Error(o)}}async login(t){var r,n;try{return(await this.api.post("/auth/login",{email:t.email,password:t.password})).data}catch(s){const o=((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.error)||"Login failed";throw new Error(o)}}async adminLogin(t){var r,n;try{return(await this.api.post("/auth/admin/login",{email:t.email,password:t.password})).data}catch(s){const o=((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.error)||"Admin login failed";throw new Error(o)}}async getCurrentUser(){var t,r;try{const n=await this.api.get("/auth/me");return n.data.user&&localStorage.setItem("userData",JSON.stringify(n.data.user)),n.data}catch(n){const s=((r=(t=n.response)==null?void 0:t.data)==null?void 0:r.error)||"Failed to fetch user";throw new Error(s)}}setToken(t){localStorage.setItem("authToken",t)}getToken(){return localStorage.getItem("authToken")}removeToken(){localStorage.removeItem("authToken")}isAuthenticated(){return!!this.getToken()}getUserData(){const t=localStorage.getItem("userData");if(t)try{return JSON.parse(t)}catch{return null}return null}clearUserData(){localStorage.removeItem("userData")}}const ie=new Uy;function $y({onClose:e,token:t,isAdmin:r=!1,onRequestAdmin:n}){const[s,o]=x.useState([]),[l,a]=x.useState(!0),[c,u]=x.useState(""),[d,f]=x.useState(!1),[p,j]=x.useState(null),[m,w]=x.useState("all"),[N,g]=x.useState(""),[h,y]=x.useState({title:"",description:"",location:"",date:"",startTime:"",endTime:"",category:"cultural",maxAttendees:"",price:"",ticketLink:"",socialMediaLink:""});x.useEffect(()=>{k()},[m]),x.useEffect(()=>{if(!p)return;const b=s.find(O=>O._id===p._id);b&&b!==p&&j(b)},[s,p]);const k=async()=>{try{a(!0);const b=m==="all"?`${ot}/events`:`${ot}/events?category=${m}`,O=t?{Authorization:`Bearer ${t}`}:void 0,D=await fetch(b,{headers:O});if(!D.ok)throw new Error("Failed to fetch events");const H=await D.json();o(H.events||H.data||[]),u("")}catch(b){u(b.message||"Failed to load events"),o([])}finally{a(!1)}},C=async b=>{if(b.preventDefault(),u(""),!t){u("Please log in to submit an event");return}if(!h.title||!h.description||!h.location||!h.date||!h.startTime||!h.endTime){u("All fields are required");return}if(h.title.length<3){u("Title must be at least 3 characters");return}if(h.description.length<10){u("Description must be at least 10 characters");return}if(h.location.length<3){u("Location must be at least 3 characters");return}const O=new Date(h.date),D=new Date;if(D.setHours(0,0,0,0),O<D){u("Event date must be in the future");return}try{const H=await fetch(`${ot}/events`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({...h,maxAttendees:h.maxAttendees?parseInt(h.maxAttendees):void 0})});if(!H.ok){const Z=await H.json();throw new Error(Z.error||"Failed to create event")}y({title:"",description:"",location:"",date:"",startTime:"",endTime:"",category:"cultural",maxAttendees:"",price:"",ticketLink:"",socialMediaLink:""}),f(!1),g(r?"Event published successfully.":"Thanks! Your event was sent to the admin team for approval."),await k()}catch(H){u(H.message)}},_=(b,O)=>{O&&O.stopPropagation(),b&&window.open(b,"_blank")},R=b=>new Date(b).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"});return p?i.jsxs("div",{className:"space-y-6",children:[i.jsx("button",{onClick:()=>j(null),className:"text-red-600 hover:text-red-700 font-bold",children:" Back to Events"}),i.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 rounded-lg p-8",children:[i.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:p.title}),i.jsx("p",{className:"mb-4 inline-flex items-center gap-2 rounded-full bg-green-100 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-emerald-700",children:" Reviewed by the Pomi admin team"}),i.jsx("p",{className:"text-lg text-gray-600 mb-6",children:p.description}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-gray-700 mb-2",children:" Date"}),i.jsx("p",{className:"text-gray-600",children:R(p.date)})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-gray-700 mb-2",children:" Time"}),i.jsxs("p",{className:"text-gray-600",children:[p.startTime," - ",p.endTime]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-gray-700 mb-2",children:" Location"}),i.jsx("p",{className:"text-gray-600",children:p.location})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-gray-700 mb-2",children:" Category"}),i.jsx("p",{className:"text-gray-600 capitalize",children:p.category})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-gray-700 mb-2",children:" Price"}),p.isFree?i.jsx("p",{className:"text-green-600 font-semibold text-lg",children:" Free Event"}):i.jsxs("p",{className:"text-blue-600 font-semibold text-lg",children:["$",(p.price||0)/100,".00"]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-gray-700 mb-2",children:" Organizer"}),i.jsx("p",{className:"text-gray-600",children:p.organizer})]}),p.ticketLink&&i.jsx("button",{onClick:()=>_(p.ticketLink),className:"w-full bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg font-bold transition flex items-center justify-center gap-2",children:" Get Tickets"})]})]})]})]}):i.jsxs("div",{className:"space-y-6",children:[c&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:c}),N&&i.jsx("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm font-semibold text-emerald-800",children:N}),i.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[i.jsx("button",{onClick:()=>{g(""),u(""),f(b=>!b)},disabled:!t,className:"rounded-full bg-red-600 px-6 py-3 font-bold text-white transition hover:bg-red-700 disabled:cursor-not-allowed disabled:opacity-60",children:"+ Create Event"}),!r&&t&&i.jsxs("div",{className:"flex flex-1 flex-col gap-2 rounded-2xl border border-amber-200 bg-amber-50 px-4 py-3 text-sm text-amber-800 shadow-sm",children:[i.jsx("span",{className:"font-semibold",children:"Pending admin review"}),i.jsx("span",{children:"Submit your gathering and the admin team will approve it before it appears publicly."}),n&&i.jsx("button",{type:"button",onClick:n,className:"self-start rounded-full border border-amber-300 bg-white/90 px-3 py-1 text-xs font-semibold text-amber-700 transition hover:bg-white",children:"Message the admin team"})]}),i.jsxs("select",{value:m,onChange:b=>w(b.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:border-red-600 focus:ring-2 focus:ring-red-100 outline-none",children:[i.jsx("option",{value:"all",children:"All Categories"}),i.jsx("option",{value:"cultural",children:"Cultural"}),i.jsx("option",{value:"business",children:"Business"}),i.jsx("option",{value:"social",children:"Social"}),i.jsx("option",{value:"educational",children:"Educational"}),i.jsx("option",{value:"sports",children:"Sports"}),i.jsx("option",{value:"other",children:"Other"})]})]}),t&&d&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 flex items-center justify-center p-4 overflow-y-auto",children:i.jsxs("form",{onSubmit:C,className:"relative bg-white rounded-lg p-8 space-y-4 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsx("button",{type:"button",onClick:()=>f(!1),className:"absolute top-4 right-4 rounded-full bg-red-500 hover:bg-red-600 px-3 py-1 text-lg text-white font-bold transition shadow-lg shadow-red-500/50 ring-2 ring-red-200",children:""}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Create New Event"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Event Title *"}),i.jsx("input",{type:"text",required:!0,value:h.title,onChange:b=>{y({...h,title:b.target.value}),c&&u("")},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-red-600 focus:ring-2 focus:ring-red-100 outline-none text-black bg-white",placeholder:"Enter event title"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Description (min 10 characters)"}),i.jsx("textarea",{value:h.description,onChange:b=>{y({...h,description:b.target.value}),c&&u("")},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-red-600 focus:ring-2 focus:ring-red-100 outline-none text-black bg-white",placeholder:"Describe your event",rows:3})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Location *"}),i.jsx("input",{type:"text",required:!0,value:h.location,onChange:b=>y({...h,location:b.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-red-600 focus:ring-2 focus:ring-red-100 outline-none text-black bg-white",placeholder:"Event location"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Category *"}),i.jsxs("select",{required:!0,value:h.category,onChange:b=>y({...h,category:b.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-red-600 focus:ring-2 focus:ring-red-100 outline-none text-black bg-white",children:[i.jsx("option",{value:"cultural",children:"Cultural"}),i.jsx("option",{value:"business",children:"Business"}),i.jsx("option",{value:"social",children:"Social"}),i.jsx("option",{value:"educational",children:"Educational"}),i.jsx("option",{value:"sports",children:"Sports"}),i.jsx("option",{value:"other",children:"Other"})]})]})]}),i.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Date * (future date)"}),i.jsx("input",{type:"date",required:!0,value:h.date,onChange:b=>{y({...h,date:b.target.value}),c&&u("")},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-red-600 focus:ring-2 focus:ring-red-100 outline-none text-black bg-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Start Time *"}),i.jsx("input",{type:"time",required:!0,value:h.startTime,onChange:b=>y({...h,startTime:b.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-red-600 focus:ring-2 focus:ring-red-100 outline-none text-black bg-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"End Time *"}),i.jsx("input",{type:"time",required:!0,value:h.endTime,onChange:b=>y({...h,endTime:b.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-red-600 focus:ring-2 focus:ring-red-100 outline-none text-black bg-white"})]})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Max Attendees"}),i.jsx("input",{type:"number",value:h.maxAttendees,onChange:b=>y({...h,maxAttendees:b.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-red-600 focus:ring-2 focus:ring-red-100 outline-none text-black bg-white",placeholder:"Leave empty for unlimited",min:"1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Price ($ - Leave empty for free)"}),i.jsx("input",{type:"number",value:h.price,onChange:b=>y({...h,price:b.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-red-600 focus:ring-2 focus:ring-red-100 outline-none text-black bg-white",placeholder:"0.00",step:"0.01",min:"0"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:" Ticket Sales Link (Eventbrite, etc.) *"}),i.jsx("input",{type:"url",required:!0,value:h.ticketLink,onChange:b=>{y({...h,ticketLink:b.target.value}),c&&u("")},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-red-600 focus:ring-2 focus:ring-red-100 outline-none text-black bg-white",placeholder:"https://www.eventbrite.com/e/... or your ticket sales link"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Where attendees can purchase tickets or register for your event"})]}),i.jsxs("div",{className:"flex gap-4 pt-4 border-t",children:[i.jsx("button",{type:"submit",className:"bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg font-bold transition",children:"Create Event"}),i.jsx("button",{type:"button",onClick:()=>f(!1),className:"border border-gray-300 text-gray-700 hover:bg-gray-50 px-6 py-3 rounded-lg font-bold transition",children:"Cancel"})]})]})}),l&&i.jsx("p",{className:"text-gray-600",children:"Loading events..."}),!l&&s.length===0&&i.jsxs("div",{className:"bg-gray-50 rounded-lg p-12 text-center space-y-4",children:[i.jsx("p",{className:"text-gray-600 text-lg",children:r?"No events found. Publish the next gathering for the community!":"Our moderators are reviewing the next round of gatherings. Check back soon or share your idea with the admin team."}),!r&&n&&i.jsx("button",{onClick:n,className:"inline-flex items-center justify-center gap-2 rounded-full border border-amber-300 bg-white px-4 py-2 text-sm font-semibold text-amber-700 transition hover:bg-amber-50",children:"Message the admin team"})]}),i.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(b=>i.jsxs("div",{onClick:()=>j(b),className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-lg transition cursor-pointer",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900 flex-1",children:b.title}),i.jsx("span",{className:"text-xs bg-red-100 text-black px-2 py-1 rounded capitalize font-semibold",children:b.category})]}),i.jsx("span",{className:"mb-3 inline-flex items-center gap-1 text-xs font-semibold uppercase tracking-wide text-emerald-600",children:" Admin approved"}),i.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:b.description}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[i.jsxs("p",{className:"flex items-center gap-2",children:[i.jsx("span",{children:""}),R(b.date)]}),i.jsxs("p",{className:"flex items-center gap-2",children:[i.jsx("span",{children:""}),b.startTime," - ",b.endTime]}),i.jsxs("p",{className:"flex items-center gap-2",children:[i.jsx("span",{children:""}),b.location]})]}),i.jsx("div",{className:"space-y-2 mb-4",children:b.isFree?i.jsx("p",{className:"text-sm font-semibold text-green-600",children:" Free Event"}):i.jsxs("p",{className:"text-sm font-semibold text-blue-600",children:["$",(b.price||0)/100,".00"]})}),i.jsx("div",{className:"pt-4 border-t",children:b.ticketLink?i.jsx("button",{onClick:O=>_(b.ticketLink,O),className:"w-full bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded font-semibold text-sm transition flex items-center justify-center gap-2",children:" Get Tickets"}):i.jsx("p",{className:"text-sm text-gray-500 text-center italic",children:"No ticket link available"})})]},b._id))})]})}function zy({authMode:e,onSuccess:t,onClose:r,onModeChange:n}){const[s,o]=x.useState({email:"",password:"",username:"",age:""}),[l,a]=x.useState(""),[c,u]=x.useState(!1),d=p=>{const{name:j,value:m}=p.target;o(w=>({...w,[j]:m}))},f=async()=>{a(""),u(!0);let p;try{if(!s.email||!s.password){a("Email and password are required"),u(!1);return}if(e==="register"&&!s.username){a("Full name is required"),u(!1);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)){a("Please enter a valid email address"),u(!1);return}if(s.password.length<6){a("Password must be at least 6 characters"),u(!1);return}if(e==="register"){if(!s.age){a("Please tell us your age"),u(!1);return}const w=parseInt(s.age,10);if(Number.isNaN(w)){a("Age must be a valid number"),u(!1);return}if(w<13||w>120){a("Age must be between 13 and 120"),u(!1);return}p=w}let m;e==="register"?m=await ie.register({email:s.email,password:s.password,username:s.username,age:p}):m=await ie.login({email:s.email,password:s.password}),ie.setToken(m.token),t(m.user),r()}catch(j){a(j.message||"Authentication failed")}finally{u(!1)}};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-3xl font-bold bg-gradient-to-r from-red-600 to-orange-500 bg-clip-text text-transparent",children:e==="login"?"Welcome Back":"Join Our Community"}),i.jsx("p",{className:"text-gray-600 text-sm mt-2 font-medium",children:e==="login"?"Sign in to your Pomi account":"Create your account to connect with Pomi community"})]}),l&&i.jsx("div",{className:"bg-red-50 border border-red-200 border-l-4 border-l-red-600 text-red-700 px-4 py-3 rounded-lg text-sm font-medium animate-slideInDown",children:l}),i.jsxs("div",{className:"space-y-3",children:[e==="register"&&i.jsxs("div",{className:"animate-slideInUp",style:{animationDelay:"0.05s"},children:[i.jsx("label",{className:"block text-gray-900 font-semibold mb-2 text-sm",children:"Full Name *"}),i.jsx("input",{type:"text",name:"username",placeholder:"Enter your full name",value:s.username,onChange:d,className:"w-full bg-gray-50 text-gray-900 px-4 py-2.5 rounded-lg border border-gray-300 hover:border-gray-400 focus:border-red-600 focus:ring-2 focus:ring-red-100 outline-none transition text-sm placeholder:text-gray-600"})]}),i.jsxs("div",{className:"animate-slideInUp",style:{animationDelay:e==="register"?"0.1s":"0.05s"},children:[i.jsx("label",{className:"block text-gray-900 font-semibold mb-2 text-sm",children:"Email Address *"}),i.jsx("input",{type:"email",name:"email",placeholder:"your@email.com",value:s.email,onChange:d,className:"w-full bg-gray-50 text-gray-900 px-4 py-2.5 rounded-lg border border-gray-300 hover:border-gray-400 focus:border-red-600 focus:ring-2 focus:ring-red-100 outline-none transition text-sm placeholder:text-gray-600"})]}),i.jsxs("div",{className:"animate-slideInUp",style:{animationDelay:e==="register"?"0.15s":"0.1s"},children:[i.jsx("label",{className:"block text-gray-900 font-semibold mb-2 text-sm",children:"Password *"}),i.jsx("input",{type:"password",name:"password",placeholder:e==="register"?"At least 6 characters":"Your password",value:s.password,onChange:d,className:"w-full bg-gray-50 text-gray-900 px-4 py-2.5 rounded-lg border border-gray-300 hover:border-gray-400 focus:border-red-600 focus:ring-2 focus:ring-red-100 outline-none transition text-sm placeholder:text-gray-600"})]}),e==="register"&&i.jsxs("div",{className:"animate-slideInUp",style:{animationDelay:"0.2s"},children:[i.jsx("label",{className:"block text-gray-900 font-semibold mb-2 text-sm",children:"Age *"}),i.jsx("input",{type:"number",name:"age",placeholder:"Your age (13-120)",value:s.age,onChange:d,min:"13",max:"120",required:!0,className:"w-full bg-gray-50 text-gray-900 px-4 py-2.5 rounded-lg border border-gray-300 hover:border-gray-400 focus:border-red-600 focus:ring-2 focus:ring-red-100 outline-none transition text-sm placeholder:text-gray-600"})]}),e==="register"&&i.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Admin accounts are managed separately by the operations team. Complete this form only for community member access."})]}),i.jsx("button",{onClick:f,disabled:c,className:"w-full bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 disabled:from-gray-400 disabled:to-gray-400 disabled:cursor-not-allowed text-white font-bold py-3 rounded-lg transition-all text-base shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 active:translate-y-0 disabled:opacity-70 mt-6",children:c?i.jsxs("span",{className:"flex items-center justify-center gap-2",children:[i.jsx("span",{className:"animate-spin",children:""}),"Loading..."]}):e==="login"?"Sign In":"Create Account"}),i.jsxs("div",{className:"relative my-4",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t border-gray-300"})}),i.jsx("div",{className:"relative flex justify-center text-sm",children:i.jsx("span",{className:"px-2 bg-white text-gray-600",children:"Or"})})]}),e==="login"&&i.jsxs("p",{className:"text-center text-xs text-gray-500",children:["Admin team?"," ",i.jsx("a",{href:"/admin",className:"font-semibold text-red-600 underline decoration-red-200 underline-offset-4",children:"Open the secure console"}),"."]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-gray-900 text-sm mb-2",children:e==="login"?"Don't have an account? ":"Already have an account? "}),i.jsx("button",{onClick:()=>{n(e==="login"?"register":"login"),a(""),o({email:"",password:"",username:"",age:""})},disabled:c,className:"text-red-600 hover:text-red-700 font-bold disabled:opacity-50 disabled:cursor-not-allowed transition-colors px-4 py-2 rounded-lg hover:bg-red-50",children:e==="login"?"Sign Up":"Sign In"})]})]})}function Hy({features:e,onFeatureClick:t,autoplay:r=!0,autoplaySpeed:n=5e3}){const[s,o]=x.useState(0),[l,a]=x.useState(r);x.useEffect(()=>{if(!l)return;const p=setInterval(()=>{o(j=>(j+1)%e.length)},n);return()=>clearInterval(p)},[l,e.length,n]);const c=p=>{o(p),a(!1)},u=()=>{o(p=>(p-1+e.length)%e.length),a(!1)},d=()=>{o(p=>(p+1)%e.length),a(!1)},f=e[s];return i.jsxs("div",{className:"w-full relative bg-gradient-to-br from-gray-50 to-gray-100 rounded-3xl overflow-hidden shadow-2xl",onMouseEnter:()=>a(!1),onMouseLeave:()=>a(r),children:[i.jsxs("div",{className:"relative h-96 overflow-hidden",children:[i.jsx("div",{className:"relative w-full h-full",children:e.map((p,j)=>i.jsxs("div",{className:`absolute inset-0 transition-all duration-700 ease-out transform ${j===s?"opacity-100 scale-100":j<s?"opacity-0 scale-95 -translate-x-full":"opacity-0 scale-95 translate-x-full"}`,children:[i.jsx("div",{className:`absolute inset-0 ${p.gradient}`,style:{backgroundSize:"400% 400%",animation:"gradient-shift 15s ease infinite"}}),i.jsxs("div",{className:"relative z-10 h-full flex flex-col items-center justify-center px-8 py-12",children:[i.jsx("div",{className:"text-8xl mb-6 animate-bounce",style:{animationDuration:"2s"},children:p.icon}),i.jsx("h3",{className:"text-5xl font-black text-white mb-4 text-center drop-shadow-lg",children:p.title}),i.jsx("p",{className:"text-xl text-white/95 text-center max-w-2xl leading-relaxed drop-shadow-md",children:p.description})]}),i.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-white/10 rounded-full blur-3xl -mr-20 -mt-20"}),i.jsx("div",{className:"absolute bottom-0 left-0 w-52 h-52 bg-white/10 rounded-full blur-3xl -ml-24 -mb-24"})]},p.id))}),i.jsx("button",{onClick:u,className:"absolute left-4 top-1/2 transform -translate-y-1/2 z-20 bg-white/20 hover:bg-white/40 text-white w-12 h-12 rounded-full flex items-center justify-center transition-all hover:scale-110 backdrop-blur-sm group",children:i.jsx("span",{className:"text-2xl font-bold group-hover:-translate-x-1 transition-transform",children:""})}),i.jsx("button",{onClick:d,className:"absolute right-4 top-1/2 transform -translate-y-1/2 z-20 bg-white/20 hover:bg-white/40 text-white w-12 h-12 rounded-full flex items-center justify-center transition-all hover:scale-110 backdrop-blur-sm group",children:i.jsx("span",{className:"text-2xl font-bold group-hover:translate-x-1 transition-transform",children:""})})]}),i.jsx("div",{className:"px-8 py-6 bg-white/50 backdrop-blur-sm border-t border-white/20",children:i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsx("div",{className:"mb-4",children:i.jsxs("p",{className:"text-sm text-gray-600 font-medium",children:["Feature ",s+1," of ",e.length]})}),i.jsx("div",{className:"flex gap-2 justify-center mb-4",children:e.map((p,j)=>i.jsx("button",{onClick:()=>c(j),className:`h-2 rounded-full transition-all duration-300 ${j===s?"w-8 bg-red-600":"w-2 bg-gray-300 hover:bg-gray-400"}`,"aria-label":`Go to slide ${j+1}`},p.id))}),t&&i.jsxs("button",{onClick:()=>t(f),className:"w-full bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-700 hover:to-orange-700 text-white font-bold py-3 rounded-xl transition-all transform hover:scale-105 active:scale-95 shadow-lg",children:["Explore ",f.title]})]})})]})}const Vy=[{id:"events",icon:"",title:"Events",description:"Celebrate culture, connect IRL, and RSVP to the Habesha gatherings that matter to you.",gradient:"bg-gradient-to-br from-rose-500 via-red-500 to-orange-500",borderColor:"border-rose-200"},{id:"marketplace",icon:"",title:"Marketplace",description:"Discover trusted listings from neighboursjobs, housing, services, and essentials.",gradient:"bg-gradient-to-br from-amber-400 via-orange-400 to-red-400",borderColor:"border-amber-200"},{id:"business",icon:"",title:"Business Directory",description:"Spotlight Habesha-owned businesses in Ottawa and make it easy to support local.",gradient:"bg-gradient-to-br from-amber-400 via-yellow-400 to-rose-400",borderColor:"border-yellow-200"},{id:"forums",icon:"",title:"Forums",description:"Join threaded conversations with upvotes, saved posts, and layered moderation to swap advice, spotlight wins, and discuss community news.",gradient:"bg-gradient-to-br from-emerald-400 via-teal-500 to-green-500",borderColor:"border-emerald-200"}],qy=[{icon:"",label:"Newcomers welcomed",value:"1,200+",accent:"from-emerald-400 to-teal-500"},{icon:"",label:"Connections made",value:"15k+",accent:"from-amber-400 to-orange-500"},{icon:"",label:"Events hosted",value:"320+",accent:"from-rose-400 to-red-500"}],Wy=[{title:"Culture-first design",blurb:"Rooted in Habesha artistry with layered colour, language support, and typography that feels like home.",icon:""},{title:"Trusted marketplace",blurb:"Moderated listings, verified sellers, and admin approvals keep buying, selling, and swapping safe for everyone.",icon:""},{title:"Business visibility",blurb:"Spotlight Habesha-owned businesses with profiles, contact details, and admin-approved spotlights in seconds.",icon:""},{title:"Forums & knowledge threads",blurb:"Threaded discussions with upvotes, saved posts, and moderation capture community wisdom for the long term.",icon:""}],Ky=[{quote:"I sold household essentials within a day and met a fellow entrepreneur who became a mentor. Pomi feels like home.",name:"Eyerusalem A.",role:"Marketplace seller & mentor"},{quote:"Our community events used to scatter on WhatsApp. Now everything lives in one place, with RSVPs we can actually track.",name:"Daniel H.",role:"Event organizer"},{quote:"As a newcomer, finding local services was tough. The business directory made it effortless to support Habesha-owned shops.",name:"Hanna G.",role:"Newcomer & student"}],Qy=[{title:"Enkutatash  Ethiopian New Year",date:"Meskerem 1  September 11/12",description:"Families gather to celebrate renewal with flowers, traditional meals, and blessings for the year ahead."},{title:"Meskel  Finding of the True Cross",date:"Meskerem 17  September 27/28",description:"Communities light the Demera bonfire, sing mezmur, and honour a 1,700-year tradition of faith."},{title:"Genna  Ethiopian Christmas",date:"Tahisas 29  January 7",description:"Church processions, fasting traditions, and family feasts mark this sacred holiday."},{title:"Timket  Epiphany",date:"Tir 11  January 19",description:"Colourful processions celebrate the baptism of Christ with water blessings and spirited dancing."},{title:"Adwa Victory Day",date:"Yekatit 23  March 2",description:"Honours the Ethiopian victory over colonial forces in 1896a reminder of unity and resilience."}];function Jy(){const[e,t]=x.useState(ie.isAuthenticated()),[r,n]=x.useState(!1),[s,o]=x.useState("login"),[l,a]=x.useState(ie.getUserData()),[c,u]=x.useState(null),[d,f]=x.useState(null),[p,j]=x.useState(!1),[m,w]=x.useState(!1),[N,g]=x.useState(()=>{try{const T=localStorage.getItem("adminInboxMessages");if(T)return JSON.parse(T)}catch{return[]}return[]}),[h,y]=x.useState(()=>{try{const T=localStorage.getItem("adminInboxUnread");if(T){const K=parseInt(T,10);if(!Number.isNaN(K))return K}const q=localStorage.getItem("adminInboxMessages");if(q)return JSON.parse(q).filter(ee=>!ee.read&&ee.sender==="admin").length}catch{return 0}return 0}),[k,C]=x.useState(0),[_,R]=x.useState(""),[b,O]=x.useState("updates"),D=Jr(),H=Dn(),Z=x.useMemo(()=>[...Vy],[]),re=T=>{f(T),window.setTimeout(()=>f(null),4e3)},le=x.useMemo(()=>[...b==="sent"?N.filter(q=>q.sender==="member"):N.filter(q=>q.sender==="admin")].sort((q,K)=>new Date(q.createdAt).getTime()-new Date(K.createdAt).getTime()),[N,b]);x.useEffect(()=>{try{localStorage.setItem("adminInboxMessages",JSON.stringify(N))}catch{}},[N]),x.useEffect(()=>{try{localStorage.setItem("adminInboxUnread",String(h))}catch{}},[h]),x.useEffect(()=>{var T;(T=H.state)!=null&&T.requireAuth&&(o("login"),n(!0),D(`${H.pathname}${H.search}${H.hash}`,{replace:!0}))},[H,D]),x.useEffect(()=>{if(!ie.isAuthenticated()){t(!1),a(null);return}t(!0);const T=ie.getUserData();T&&a(T),ie.getCurrentUser().then(q=>{a(q.user)}).catch(()=>{ie.removeToken(),ie.clearUserData(),t(!1),a(null)})},[]),x.useEffect(()=>{m&&(g(T=>{let q=!1;const K=T.map(ee=>ee.sender==="admin"&&!ee.read?(q=!0,{...ee,read:!0}):ee);return q?K:T}),h>0&&y(0))},[m,h]),x.useEffect(()=>{if(!e){C(0);return}const T=async()=>{try{const K=await fetch("https://your-railway-url.railway.app/api/v1/messages/unread/count",{headers:{Authorization:`Bearer ${ie.getToken()}`}});if(K.ok){const ee=await K.json();C(ee.unreadCount||0)}}catch(K){console.error("Failed to fetch unread messages count:",K)}};T();const q=setInterval(T,3e4);return()=>clearInterval(q)},[e]),x.useEffect(()=>{if(!e)return;const T=async()=>{try{const K=await fetch("https://your-railway-url.railway.app/api/v1/messages/admin/inbox",{headers:{Authorization:`Bearer ${ie.getToken()}`}});if(K.ok){const se=((await K.json()).data||[]).map(U=>({id:U._id||U.id,sender:"admin",body:U.content,createdAt:U.createdAt,read:U.isRead}));g(se);const P=se.filter(U=>!U.read).length;y(P)}}catch(K){console.error("Failed to fetch admin messages:",K)}};T();const q=setInterval(T,6e4);return()=>clearInterval(q)},[e]);const Se=T=>{if(a(T),localStorage.setItem("userData",JSON.stringify(T)),t(!0),s==="register"){const q={id:`welcome-${Date.now()}`,sender:"admin",body:`Selam ${T.username.split(" ")[0]}! Welcome to Pomi. Take a look around the forums, browse the marketplace, and RSVP for upcoming events. Reply here anytime if you have questionswere here to support you.`,createdAt:new Date().toISOString(),read:!1};g(K=>[q,...K]),y(K=>K+1),O("updates")}re(s==="register"?"You have successfully created your Pomi account.":"You have successfully logged in."),o("login")},ue=()=>{ie.removeToken(),ie.clearUserData(),t(!1),a(null),o("login"),re("You have been signed out.")},de=async T=>{if(T.preventDefault(),!!_.trim()){if(!e){o("login"),n(!0);return}try{if((await fetch("https://your-railway-url.railway.app/api/v1/messages/admin/reply",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ie.getToken()}`},body:JSON.stringify({content:_.trim()})})).ok){const K={id:`member-${Date.now()}`,sender:"member",body:_.trim(),createdAt:new Date().toISOString(),read:!0};g(ee=>[...ee,K]),O("sent"),R(""),re("Message sent to admin team")}else re("Failed to send message. Please try again.")}catch(q){console.error("Failed to send message to admin:",q),re("Failed to send message. Please try again.")}}},A=()=>{if(!e){o("login"),n(!0);return}O("updates"),w(!0)},B=T=>{if(T==="marketplace"){D("/marketplace");return}if(T==="business"){D("/business");return}if(!e){o("register"),n(!0);return}u(T)},V=ie.getToken()||"";return i.jsxs("div",{className:"relative min-h-screen overflow-x-hidden bg-slate-950 text-slate-100",children:[i.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[i.jsx("div",{className:"absolute -top-24 -right-32 h-[420px] w-[420px] rounded-full bg-red-500/30 blur-3xl"}),i.jsx("div",{className:"absolute -bottom-32 -left-24 h-[400px] w-[400px] rounded-full bg-orange-500/20 blur-3xl"}),i.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(255,255,255,0.06),_transparent_55%)]"})]}),i.jsx("nav",{className:"sticky top-0 z-40 border-b border-white/10 bg-slate-950/70 backdrop-blur-xl",children:i.jsxs("div",{className:"mx-auto flex max-w-7xl items-center justify-between gap-6 px-6 py-4",children:[i.jsxs(Xt,{to:"/",className:"group flex items-center gap-3",children:[i.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-red-500 via-rose-500 to-orange-400 text-2xl font-black text-white shadow-lg shadow-red-500/40 transition group-hover:scale-105",children:"P"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.4em] text-white/60",children:"Pomi Community Hub"}),i.jsx("p",{className:"text-lg font-black text-white",children:"Ottawa"})]})]}),i.jsxs("nav",{className:"hidden items-center gap-6 text-sm font-semibold text-white/70 md:flex",children:[i.jsx("a",{href:"#pillars",className:"hover:text-white transition",children:"Pillars"}),i.jsx("a",{href:"#experiences",className:"hover:text-white transition",children:"Experiences"}),i.jsx("a",{href:"#testimonials",className:"hover:text-white transition",children:"Stories"}),i.jsx("a",{href:"#join",className:"hover:text-white transition",children:"Join Us"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:()=>j(!0),className:"relative inline-flex h-11 w-11 items-center justify-center rounded-full border border-white/20 bg-white/10 text-xl text-white/80 transition hover:border-white/40 hover:text-white","aria-label":"Open Ethiopian calendar highlights",children:""}),i.jsxs("button",{onClick:A,className:"relative inline-flex items-center gap-2 rounded-full border-2 border-amber-400/60 bg-gradient-to-r from-amber-500/20 to-orange-500/20 px-4 py-2 text-sm font-semibold text-white transition hover:border-amber-300 hover:from-amber-500/30 hover:to-orange-500/30 shadow-lg shadow-amber-500/20","aria-label":e?"Open messages from the admin team":"Log in to see admin messages",children:[i.jsx("span",{className:"text-lg",children:""}),i.jsx("span",{children:"Admin"}),h>0&&i.jsx("span",{className:"absolute -right-2 -top-2 flex h-6 min-w-[1.5rem] items-center justify-center rounded-full bg-gradient-to-br from-red-500 to-red-600 px-1.5 text-xs font-bold text-white shadow-lg shadow-red-500/60 ring-2 ring-white/20 animate-pulse",children:h>9?"9+":h})]}),e?i.jsxs("button",{onClick:()=>D("/messages"),className:"relative inline-flex items-center gap-2 rounded-full border border-white/20 bg-white/10 px-4 py-2 text-sm font-semibold text-white/80 transition hover:border-white/40 hover:text-white","aria-label":"Go to direct messages",children:[" Messages",k>0&&i.jsx("span",{className:"absolute -right-1 -top-1 flex h-5 min-w-[1.25rem] items-center justify-center rounded-full bg-red-500 px-1 text-xs font-bold text-white shadow shadow-red-500/40",children:k>9?"9+":k})]}):null,e?i.jsxs(i.Fragment,{children:[i.jsxs("span",{className:"hidden text-sm text-white/70 md:block",children:["Welcome, ",i.jsx("span",{className:"font-semibold text-white",children:(l==null?void 0:l.username)||"Friend"})]}),i.jsx("button",{onClick:ue,className:"inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-red-500 via-rose-500 to-orange-500 px-4 py-2 text-sm font-semibold text-white shadow-lg shadow-red-500/40 transition hover:-translate-y-0.5",children:"Log out"})]}):i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>{o("login"),n(!0)},className:"rounded-full border border-white/20 px-4 py-2 text-sm font-semibold text-white/80 transition hover:border-white/40 hover:text-white",children:"Log in"}),i.jsx("button",{onClick:()=>{o("register"),n(!0)},className:"rounded-full bg-gradient-to-r from-red-500 via-rose-500 to-orange-500 px-4 py-2 text-sm font-semibold text-white shadow-lg shadow-red-500/40 transition hover:-translate-y-0.5",children:"Join community"})]})]})]})}),d&&i.jsx("div",{className:"mx-auto mt-6 max-w-3xl rounded-full border border-white/10 bg-white/10 px-6 py-3 text-center text-sm font-semibold text-white shadow-lg shadow-slate-900/40 backdrop-blur-lg",children:d}),i.jsxs("main",{className:"relative z-10",children:[i.jsx("section",{className:"px-6 pt-20",id:"hero",children:i.jsxs("div",{className:"mx-auto grid max-w-7xl items-center gap-12 rounded-[40px] border border-white/10 bg-white/5 p-10 shadow-[0_40px_80px_rgba(15,23,42,0.35)] backdrop-blur-xl lg:grid-cols-[1.5fr,1fr]",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"inline-flex items-center gap-3 rounded-full border border-white/20 bg-white/10 px-4 py-2 text-xs font-semibold uppercase tracking-[0.3em] text-white/70",children:[i.jsx("span",{className:"text-base",children:""})," Ottawa  Habesha Community"]}),i.jsx("h1",{className:"text-4xl font-black leading-tight text-white md:text-5xl lg:text-6xl",children:"One digital home for culture, opportunity, and connection."}),i.jsx("p",{className:"max-w-2xl text-lg text-white/80 md:text-xl",children:"Pomi brings together marketplace listings, cultural events, forums, faith circles, and a full business directorydesigned with love for our Habesha community in Ottawa."}),i.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row",children:[i.jsx("button",{onClick:()=>{e?B("marketplace"):(o("register"),n(!0))},className:"inline-flex items-center justify-center gap-2 rounded-full bg-gradient-to-r from-orange-400 via-red-500 to-rose-500 px-6 py-3 text-sm font-semibold text-white shadow-lg shadow-red-500/40 transition hover:-translate-y-0.5",children:"Explore Marketplace"}),i.jsx("button",{onClick:()=>{o(e?"login":"register"),n(!0)},className:"inline-flex items-center justify-center gap-2 rounded-full border border-white/20 bg-white/10 px-6 py-3 text-sm font-semibold text-white/80 transition hover:border-white/40 hover:text-white",children:e?"Switch account":"Create profile"})]})]}),i.jsxs("div",{className:"space-y-6 overflow-hidden rounded-[32px] border border-white/10 bg-white/10 p-6 shadow-[0_20px_40px_rgba(15,23,42,0.45)]",children:[i.jsx("h2",{className:"text-sm font-semibold uppercase tracking-[0.3em] text-white/60",children:"Community pulse"}),i.jsx("div",{className:"grid gap-4",children:qy.map(T=>i.jsxs("div",{className:`rounded-2xl border border-white/10 bg-gradient-to-r ${T.accent} px-4 py-4 shadow-lg shadow-slate-900/30`,children:[i.jsx("div",{className:"flex items-center justify-between text-sm text-white/80",children:i.jsxs("span",{className:"inline-flex items-center gap-2",children:[i.jsx("span",{className:"text-xl",children:T.icon})," ",T.label]})}),i.jsx("p",{className:"mt-2 text-3xl font-black text-white",children:T.value})]},T.label))}),i.jsx("p",{className:"text-xs text-white/60",children:"Stats updated weekly based on verified engagement inside the Pomi network."})]})]})}),i.jsx("section",{className:"px-6 py-20 scroll-mt-28",id:"experiences",children:i.jsxs("div",{className:"mx-auto max-w-7xl space-y-12",children:[i.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.2fr,1fr] lg:items-end",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-rose-200",children:"Community pillars"}),i.jsx("h2",{className:"mt-3 text-3xl font-black text-white md:text-4xl",children:"Explore every layer of community life inside Pomi."}),i.jsx("p",{className:"mt-4 max-w-2xl text-base text-slate-200",children:"Tap into curated experiencesfrom job leads and classifieds to cultural celebrations, community gatherings, and secure moderation tools. Each pillar unlocks a different dimension of our collective story."})]}),i.jsxs("div",{className:"rounded-3xl border border-white/10 bg-white/5 p-6 text-sm text-slate-200 shadow-lg shadow-slate-900/40 backdrop-blur-lg",children:[i.jsx("p",{className:"font-semibold text-white",children:"Pro tip"}),i.jsx("p",{className:"mt-2",children:"Moderators see additional tools after they sign in with the teams admin credentials. Reach out to community leadership if you need elevated access."})]})]}),i.jsx(Hy,{features:Z,onFeatureClick:T=>B(T.id),autoplay:!0,autoplaySpeed:6e3})]})}),i.jsx("section",{className:"px-6 pb-16 scroll-mt-28",id:"pillars",children:i.jsxs("div",{className:"mx-auto max-w-6xl grid gap-10 rounded-[32px] border border-white/10 bg-white/5 p-10 shadow-[0_40px_80px_rgba(15,23,42,0.45)] backdrop-blur-xl lg:grid-cols-[1.1fr,1.2fr]",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-rose-200",children:"Community pillars"}),i.jsx("h2",{className:"text-3xl font-black text-white md:text-4xl",children:"Ground every feature in culture, trust, and collaboration."}),i.jsx("p",{className:"text-sm text-white/70 md:text-base",children:"We review these pillars every sprint so product decisions stay transparent and anchored in what matters most to the community."})]}),i.jsxs("div",{className:"space-y-4 rounded-3xl border border-white/10 bg-white/10 p-6 text-sm text-white/80 shadow-inner shadow-slate-900/30",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/50",children:"How we measure success"}),i.jsx("p",{children:"Every release is reviewed against these pillarsdesign warmth, trust guardrails, and end-to-end connected experiences. When something new ships, it should light up at least one pillar and never compromise the others."})]})]}),i.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:Wy.map(T=>i.jsxs("div",{className:"flex h-full flex-col gap-3 rounded-3xl border border-white/10 bg-white/8 p-6 text-white/80 shadow-lg shadow-slate-900/30 transition hover:-translate-y-1 hover:bg-white/12 hover:text-white",children:[i.jsx("span",{className:"text-3xl",children:T.icon}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-white",children:T.title}),i.jsx("p",{className:"text-sm leading-relaxed text-white/70",children:T.blurb})]})]},T.title))})]})}),i.jsx("section",{className:"px-6 pb-16 scroll-mt-28",id:"testimonials",children:i.jsxs("div",{className:"mx-auto max-w-6xl space-y-10",children:[i.jsxs("div",{className:"space-y-3 text-center",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-emerald-200",children:"Voices from the community"}),i.jsx("h2",{className:"text-3xl font-black text-white md:text-4xl",children:"Pomi feels like walking into a community centreonline."}),i.jsx("p",{className:"mx-auto max-w-2xl text-base text-slate-200",children:"Members use Pomi to buy and sell essentials, secure new roles, launch cultural events, and mentor the next generation."})]}),i.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:Ky.map(T=>i.jsxs("figure",{className:"rounded-3xl border border-white/10 bg-white/5 p-6 text-sm text-white/80 shadow-lg shadow-slate-900/40 backdrop-blur-lg",children:[i.jsx("blockquote",{className:"text-sm italic leading-relaxed text-white/80",children:T.quote}),i.jsxs("figcaption",{className:"mt-4 text-xs uppercase tracking-[0.3em] text-rose-200",children:[T.name,i.jsx("span",{className:"block text-[10px] tracking-[0.2em] text-white/60",children:T.role})]})]},T.name))})]})}),i.jsx("section",{className:"px-6 pb-24 scroll-mt-28",id:"join",children:i.jsx("div",{className:"mx-auto max-w-6xl rounded-[40px] border border-white/10 bg-gradient-to-r from-orange-400 via-red-500 to-rose-500 p-10 shadow-[0_30px_60px_rgba(255,87,51,0.4)]",children:i.jsxs("div",{className:"grid gap-10 lg:grid-cols-[1.4fr,1fr] lg:items-center",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-1 text-xs font-semibold uppercase tracking-[0.3em] text-white/80",children:" Membership is free"}),i.jsx("h2",{className:"text-3xl font-black text-white md:text-4xl",children:"Ready to unlock opportunity, culture, and community in one home?"}),i.jsx("p",{className:"max-w-2xl text-base text-white/90",children:"Join thousands of neighbours who already share resources, co-create events, and keep Ottawas Habesha community thriving. It takes less than two minutes to create your profile."})]}),i.jsxs("div",{className:"flex flex-col gap-3 rounded-3xl border border-white/20 bg-white/10 p-6 text-sm text-white/80 shadow-lg shadow-rose-500/40 backdrop-blur-lg",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs text-white/70",children:[i.jsx("span",{children:"Secure sign-up"}),i.jsx("span",{children:"Moderated platform"}),i.jsx("span",{children:"Multilingual"})]}),e?i.jsx("button",{onClick:()=>B("events"),className:"rounded-full bg-white px-6 py-3 text-sm font-semibold text-rose-600 shadow-lg shadow-white/40 transition hover:-translate-y-0.5 hover:bg-rose-50",children:"Dive back into Pomi"}):i.jsx("button",{onClick:()=>{o("register"),n(!0)},className:"rounded-full bg-white px-6 py-3 text-sm font-semibold text-rose-600 shadow-lg shadow-white/40 transition hover:-translate-y-0.5 hover:bg-rose-50",children:"Create your Pomi account"})]})]})})})]}),i.jsxs("footer",{className:"border-t border-white/10 bg-slate-950/70 py-12 backdrop-blur-xl",children:[i.jsxs("div",{className:"mx-auto grid max-w-6xl gap-10 px-6 md:grid-cols-4",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-red-500 via-rose-500 to-orange-400 text-2xl font-black text-white shadow-lg shadow-red-500/40",children:"P"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/60",children:"Pomi Community Hub"}),i.jsx("p",{className:"text-lg font-black text-white",children:"Ottawa"})]})]}),i.jsx("p",{className:"text-sm text-white/60",children:"Designed by and for the Habesha community. Proudly rooted in culture, powered by modern technology."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-semibold uppercase tracking-[0.3em] text-white/60",children:"Platform"}),i.jsxs("ul",{className:"mt-4 space-y-2 text-sm text-white/70",children:[i.jsx("li",{children:i.jsx("button",{onClick:()=>B("events"),className:"hover:text-white",children:"Events"})}),i.jsx("li",{children:i.jsx("button",{onClick:()=>B("marketplace"),className:"hover:text-white",children:"Marketplace"})}),i.jsx("li",{children:i.jsx("button",{onClick:()=>B("business"),className:"hover:text-white",children:"Business directory"})}),i.jsx("li",{children:i.jsx("button",{onClick:()=>B("forums"),className:"hover:text-white",children:"Forums"})})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-semibold uppercase tracking-[0.3em] text-white/60",children:"Resources"}),i.jsxs("ul",{className:"mt-4 space-y-2 text-sm text-white/70",children:[i.jsx("li",{children:"Support centre"}),i.jsx("li",{children:"Guides for newcomers"}),i.jsx("li",{children:"Community standards"}),i.jsx("li",{children:"Privacy & safety"})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-semibold uppercase tracking-[0.3em] text-white/60",children:"Get in touch"}),i.jsxs("ul",{className:"mt-4 space-y-2 text-sm text-white/70",children:[i.jsx("li",{children:"Email: support@pomi.community"}),i.jsx("li",{children:"Instagram: @pomi.community"}),i.jsx("li",{children:"Facebook: Pomi Ottawa Network"}),i.jsx("li",{children:"LinkedIn: Pomi Community Hub"})]})]})]}),i.jsxs("div",{className:"mt-10 border-t border-white/10 pt-6 text-center text-xs text-white/60",children:[" ",new Date().getFullYear()," Pomi Community Hub. Built by us, for us."]})]}),c&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-950/70 p-4 backdrop-blur",children:i.jsxs("div",{className:"relative w-full max-w-4xl overflow-hidden rounded-3xl border border-white/10 bg-slate-900/90 p-8 shadow-[0_30px_60px_rgba(15,23,42,0.6)]",children:[i.jsx("button",{onClick:()=>u(null),className:"absolute right-4 top-4 rounded-full bg-red-500/90 hover:bg-red-600 px-3 py-1 text-lg text-white font-bold transition shadow-lg shadow-red-500/50 ring-2 ring-white/20",children:""}),c==="events"&&i.jsx($y,{onClose:()=>u(null),token:V,isAdmin:!!(l!=null&&l.isAdmin),onRequestAdmin:A}),c==="business"&&i.jsxs("div",{className:"space-y-6 text-white/80",children:[i.jsx("h2",{className:"text-3xl font-black text-white",children:"Business Directory"}),i.jsx("p",{children:"Browse the standalone directory of Habesha-owned businesses that the admin team has verified. Discover what they offer, see contact details, and request introductions in seconds."}),i.jsx("button",{onClick:()=>{D("/business"),u(null)},className:"rounded-full bg-white px-4 py-2 text-sm font-semibold text-rose-600 shadow transition hover:-translate-y-0.5",children:"Browse the directory"})]}),c==="forums"&&i.jsxs("div",{className:"space-y-6 text-white/80",children:[i.jsx("h2",{className:"text-3xl font-black text-white",children:"Forums & Knowledge Threads"}),i.jsx("p",{children:"Threaded discussions with upvotes, saved posts, and layered moderation make it easy to swap advice, spotlight wins, and document our stories in one place."}),i.jsx("button",{onClick:()=>{D("/forums"),u(null)},className:"rounded-full bg-white px-4 py-2 text-sm font-semibold text-rose-600 shadow transition hover:-translate-y-0.5",children:"Start a conversation"})]})]})}),p&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-950/70 p-4 backdrop-blur",children:i.jsxs("div",{className:"relative w-full max-w-3xl overflow-hidden rounded-3xl border border-white/10 bg-slate-900/90 p-8 shadow-[0_30px_60px_rgba(15,23,42,0.65)]",children:[i.jsx("button",{onClick:()=>j(!1),className:"absolute right-4 top-4 rounded-full bg-red-500/90 hover:bg-red-600 px-3 py-1 text-lg text-white font-bold transition shadow-lg shadow-red-500/50 ring-2 ring-white/20","aria-label":"Close Ethiopian calendar highlights",children:""}),i.jsxs("div",{className:"space-y-5",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-rose-200",children:"Ethiopian calendar"}),i.jsx("h2",{className:"mt-2 text-3xl font-black text-white",children:"Key holidays & celebrations"}),i.jsx("p",{className:"mt-2 text-sm text-white/70",children:"Ethiopia follows a 13-month calendar that runs seven to eight years behind the Gregorian calendar. Here are the moments the Pomi community spotlights throughout the year."})]}),i.jsx("div",{className:"space-y-4",children:Qy.map(T=>i.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/10 p-4 text-sm text-white/80 shadow-inner shadow-black/20",children:[i.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold text-white",children:T.title}),i.jsx("span",{className:"rounded-full border border-white/20 bg-white/10 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-rose-100",children:T.date})]}),i.jsx("p",{className:"mt-2 text-sm text-white/70",children:T.description})]},T.title))}),i.jsxs("div",{className:"rounded-2xl border border-white/10 bg-emerald-500/10 p-4 text-sm text-emerald-100",children:[i.jsx("p",{className:"font-semibold text-emerald-200",children:"Did you know?"}),i.jsx("p",{children:"Pagume, the 13th month, has five or six days depending on leap years. We sync community programming with both calendars so no celebration is missed."})]})]})]})}),m&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-950/70 p-4 backdrop-blur",children:i.jsxs("div",{className:"relative w-full max-w-3xl overflow-hidden rounded-3xl border border-white/10 bg-slate-900/95 p-8 shadow-[0_30px_60px_rgba(15,23,42,0.65)]",children:[i.jsx("button",{onClick:()=>w(!1),className:"absolute right-4 top-4 rounded-full bg-red-500/90 hover:bg-red-600 px-3 py-1 text-lg text-white font-bold transition shadow-lg shadow-red-500/50 ring-2 ring-white/20","aria-label":"Close admin messages",children:""}),i.jsxs("div",{className:"space-y-5",children:[i.jsxs("header",{className:"space-y-2",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-rose-200",children:"Admin messages"}),i.jsx("h2",{className:"text-3xl font-black text-white",children:"Community support inbox"}),i.jsx("p",{className:"text-sm text-white/70",children:"Chat with moderators, get onboarding tips, and stay up to date on policy changes. We reply within one business day."})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:()=>O("updates"),className:`rounded-full px-4 py-2 text-sm font-semibold transition ${b==="updates"?"bg-rose-500 text-white shadow-lg shadow-rose-500/30":"border border-white/20 bg-white text-slate-700 hover:border-rose-200 hover:text-rose-600"}`,children:"Admin updates"}),i.jsx("button",{onClick:()=>O("sent"),className:`rounded-full px-4 py-2 text-sm font-semibold transition ${b==="sent"?"bg-rose-500 text-white shadow-lg shadow-rose-500/30":"border border-white/20 bg-white text-slate-700 hover:border-rose-200 hover:text-rose-600"}`,children:"My messages"})]}),i.jsx("div",{className:"max-h-80 space-y-3 overflow-y-auto rounded-2xl border border-white/10 bg-white/5 p-4",children:le.length===0?i.jsx("p",{className:"text-sm text-white/60",children:b==="updates"?"No announcements yet. New admin updates will arrive here.":"You have not sent any messages yet. Use the form below to reach the admin team."}):le.map(T=>i.jsxs("div",{className:`rounded-2xl border px-4 py-3 text-sm shadow-sm transition ${T.sender==="admin"?"border-rose-200/60 bg-white text-slate-800":"border-white/12 bg-slate-900/40 text-slate-100"}`,children:[i.jsxs("div",{className:`flex items-center justify-between text-xs ${T.sender==="admin"?"text-rose-500":"text-slate-300"}`,children:[i.jsx("span",{className:"font-semibold uppercase tracking-wide",children:T.sender==="admin"?"Admin team":(l==null?void 0:l.username)||"You"}),i.jsx("span",{children:new Date(T.createdAt).toLocaleString("en-CA",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),i.jsx("p",{className:`mt-2 leading-relaxed ${T.sender==="admin"?"text-slate-700":"text-slate-100"}`,children:T.body})]},T.id))}),i.jsxs("form",{onSubmit:de,className:"space-y-3",children:[i.jsx("label",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/40",children:"Ask a question or share an update"}),i.jsx("textarea",{value:_,onChange:T=>R(T.target.value),className:"min-h-[120px] w-full rounded-2xl border border-white/15 bg-white p-4 text-sm text-slate-900 placeholder:text-slate-400 focus:border-rose-400 focus:outline-none focus:ring-2 focus:ring-rose-300/30 disabled:bg-slate-200 disabled:text-slate-500",placeholder:e?"Selam! I have a question about":"Log in to message the admin team.",disabled:!e}),i.jsxs("div",{className:"flex items-center justify-between gap-3",children:[i.jsx("p",{className:"text-xs text-white/50",children:e?"The admin team will respond via this inbox and email.":"You need to log in to start a conversation with the admin team."}),i.jsx("button",{type:"submit",className:"inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-red-500 via-rose-500 to-orange-500 px-5 py-2 text-sm font-semibold text-white shadow-lg shadow-rose-500/40 transition hover:-translate-y-0.5 disabled:cursor-not-allowed disabled:opacity-50",disabled:!e,children:"Send message"})]})]})]})]})}),r&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-950/70 p-4 backdrop-blur",children:i.jsxs("div",{className:"relative w-full max-w-lg overflow-hidden rounded-3xl border border-gray-200 bg-white p-8 shadow-[0_30px_60px_rgba(0,0,0,0.15)]",children:[i.jsx("button",{onClick:()=>n(!1),className:"absolute right-4 top-4 rounded-full bg-red-500 hover:bg-red-600 px-3 py-1 text-lg text-white font-bold transition shadow-lg shadow-red-500/50 ring-2 ring-red-200",children:""}),i.jsx(zy,{authMode:s,onSuccess:Se,onClose:()=>n(!1),onModeChange:T=>o(T)})]})})]})}const Wt=Object.create(null);Wt.open="0";Wt.close="1";Wt.ping="2";Wt.pong="3";Wt.message="4";Wt.upgrade="5";Wt.noop="6";const ji=Object.create(null);Object.keys(Wt).forEach(e=>{ji[Wt[e]]=e});const la={type:"error",data:"parser error"},hp=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",fp=typeof ArrayBuffer=="function",pp=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,fc=({type:e,data:t},r,n)=>hp&&t instanceof Blob?r?n(t):rd(t,n):fp&&(t instanceof ArrayBuffer||pp(t))?r?n(t):rd(new Blob([t]),n):n(Wt[e]+(t||"")),rd=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function nd(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let el;function Yy(e,t){if(hp&&e.data instanceof Blob)return e.data.arrayBuffer().then(nd).then(t);if(fp&&(e.data instanceof ArrayBuffer||pp(e.data)))return t(nd(e.data));fc(e,!1,r=>{el||(el=new TextEncoder),t(el.encode(r))})}const sd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Xn=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<sd.length;e++)Xn[sd.charCodeAt(e)]=e;const Gy=e=>{let t=e.length*.75,r=e.length,n,s=0,o,l,a,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),d=new Uint8Array(u);for(n=0;n<r;n+=4)o=Xn[e.charCodeAt(n)],l=Xn[e.charCodeAt(n+1)],a=Xn[e.charCodeAt(n+2)],c=Xn[e.charCodeAt(n+3)],d[s++]=o<<2|l>>4,d[s++]=(l&15)<<4|a>>2,d[s++]=(a&3)<<6|c&63;return u},Xy=typeof ArrayBuffer=="function",pc=(e,t)=>{if(typeof e!="string")return{type:"message",data:mp(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:Zy(e.substring(1),t)}:ji[r]?e.length>1?{type:ji[r],data:e.substring(1)}:{type:ji[r]}:la},Zy=(e,t)=>{if(Xy){const r=Gy(e);return mp(r,t)}else return{base64:!0,data:e}},mp=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},xp="",ew=(e,t)=>{const r=e.length,n=new Array(r);let s=0;e.forEach((o,l)=>{fc(o,!1,a=>{n[l]=a,++s===r&&t(n.join(xp))})})},tw=(e,t)=>{const r=e.split(xp),n=[];for(let s=0;s<r.length;s++){const o=pc(r[s],t);if(n.push(o),o.type==="error")break}return n};function rw(){return new TransformStream({transform(e,t){Yy(e,r=>{const n=r.length;let s;if(n<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,n);else if(n<65536){s=new Uint8Array(3);const o=new DataView(s.buffer);o.setUint8(0,126),o.setUint16(1,n)}else{s=new Uint8Array(9);const o=new DataView(s.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(r)})}})}let tl;function si(e){return e.reduce((t,r)=>t+r.length,0)}function ii(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let s=0;s<t;s++)r[s]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function nw(e,t){tl||(tl=new TextDecoder);const r=[];let n=0,s=-1,o=!1;return new TransformStream({transform(l,a){for(r.push(l);;){if(n===0){if(si(r)<1)break;const c=ii(r,1);o=(c[0]&128)===128,s=c[0]&127,s<126?n=3:s===126?n=1:n=2}else if(n===1){if(si(r)<2)break;const c=ii(r,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(si(r)<8)break;const c=ii(r,8),u=new DataView(c.buffer,c.byteOffset,c.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){a.enqueue(la);break}s=d*Math.pow(2,32)+u.getUint32(4),n=3}else{if(si(r)<s)break;const c=ii(r,s);a.enqueue(pc(o?c:tl.decode(c),t)),n=0}if(s===0||s>e){a.enqueue(la);break}}}})}const gp=4;function De(e){if(e)return sw(e)}function sw(e){for(var t in De.prototype)e[t]=De.prototype[t];return e}De.prototype.on=De.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};De.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};De.prototype.off=De.prototype.removeListener=De.prototype.removeAllListeners=De.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,s=0;s<r.length;s++)if(n=r[s],n===t||n.fn===t){r.splice(s,1);break}return r.length===0&&delete this._callbacks["$"+e],this};De.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,s=r.length;n<s;++n)r[n].apply(this,t)}return this};De.prototype.emitReserved=De.prototype.emit;De.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};De.prototype.hasListeners=function(e){return!!this.listeners(e).length};const bo=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),St=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),iw="arraybuffer";function yp(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const ow=St.setTimeout,lw=St.clearTimeout;function jo(e,t){t.useNativeTimers?(e.setTimeoutFn=ow.bind(St),e.clearTimeoutFn=lw.bind(St)):(e.setTimeoutFn=St.setTimeout.bind(St),e.clearTimeoutFn=St.clearTimeout.bind(St))}const aw=1.33;function cw(e){return typeof e=="string"?uw(e):Math.ceil((e.byteLength||e.size)*aw)}function uw(e){let t=0,r=0;for(let n=0,s=e.length;n<s;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function wp(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function dw(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function hw(e){let t={},r=e.split("&");for(let n=0,s=r.length;n<s;n++){let o=r[n].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}class fw extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class mc extends De{constructor(t){super(),this.writable=!1,jo(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new fw(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=pc(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=dw(t);return r.length?"?"+r:""}}class pw extends mc{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};tw(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,ew(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=wp()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let vp=!1;try{vp=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const mw=vp;function xw(){}class gw extends pw{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(s,o)=>{this.onError("xhr post error",s,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}class qt extends De{constructor(t,r,n){super(),this.createRequest=t,jo(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=yp(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&n.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var s;n.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=qt.requestsCount++,qt.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=xw,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete qt.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}qt.requestsCount=0;qt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",id);else if(typeof addEventListener=="function"){const e="onpagehide"in St?"pagehide":"unload";addEventListener(e,id,!1)}}function id(){for(let e in qt.requests)qt.requests.hasOwnProperty(e)&&qt.requests[e].abort()}const yw=function(){const e=bp({xdomain:!1});return e&&e.responseType!==null}();class ww extends gw{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=yw&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new qt(bp,this.uri(),t)}}function bp(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||mw))return new XMLHttpRequest}catch{}if(!t)try{return new St[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const jp=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class vw extends mc{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=jp?{}:yp(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],s=r===t.length-1;fc(n,this.supportsBinary,o=>{try{this.doWrite(n,o)}catch{}s&&bo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=wp()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const rl=St.WebSocket||St.MozWebSocket;class bw extends vw{createSocket(t,r,n){return jp?new rl(t,r,n):r?new rl(t,r):new rl(t)}doWrite(t,r){this.ws.send(r)}}class jw extends mc{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=nw(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),s=rw();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const o=()=>{n.read().then(({done:a,value:c})=>{a||(this.onPacket(c),o())}).catch(a=>{})};o();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this._writer.write(l).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],s=r===t.length-1;this._writer.write(n).then(()=>{s&&bo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const Nw={websocket:bw,webtransport:jw,polling:ww},kw=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Sw=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function aa(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let s=kw.exec(e||""),o={},l=14;for(;l--;)o[Sw[l]]=s[l]||"";return r!=-1&&n!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=Cw(o,o.path),o.queryKey=Ew(o,o.query),o}function Cw(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function Ew(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,s,o){s&&(r[s]=o)}),r}const ca=typeof addEventListener=="function"&&typeof removeEventListener=="function",Ni=[];ca&&addEventListener("offline",()=>{Ni.forEach(e=>e())},!1);class jr extends De{constructor(t,r){if(super(),this.binaryType=iw,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=aa(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=aa(r.host).host);jo(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const s=n.prototype.name;this.transports.push(s),this._transportsByName[s]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=hw(this.opts.query)),ca&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Ni.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=gp,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&jr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",jr.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(r+=cw(s)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,bo(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,s){if(typeof r=="function"&&(s=r,r=void 0),typeof n=="function"&&(s=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const o={type:t,data:r,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(jr.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),ca&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Ni.indexOf(this._offlineEventListener);n!==-1&&Ni.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}jr.protocol=gp;class _w extends jr{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;jr.priorWebsocketSuccess=!1;const s=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",f=>{if(!n)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;jr.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(d(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=r.name,this.emitReserved("upgradeError",p)}}))};function o(){n||(n=!0,d(),r.close(),r=null)}const l=f=>{const p=new Error("probe error: "+f);p.transport=r.name,o(),this.emitReserved("upgradeError",p)};function a(){l("transport closed")}function c(){l("socket closed")}function u(f){r&&f.name!==r.name&&o()}const d=()=>{r.removeListener("open",s),r.removeListener("error",l),r.removeListener("close",a),this.off("close",c),this.off("upgrading",u)};r.once("open",s),r.once("error",l),r.once("close",a),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let Tw=class extends _w{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(s=>Nw[s]).filter(s=>!!s)),super(t,n)}};function Rw(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=aa(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const o=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port+t,n.href=n.protocol+"://"+o+(r&&r.port===n.port?"":":"+n.port),n}const Pw=typeof ArrayBuffer=="function",Dw=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Np=Object.prototype.toString,Aw=typeof Blob=="function"||typeof Blob<"u"&&Np.call(Blob)==="[object BlobConstructor]",Ow=typeof File=="function"||typeof File<"u"&&Np.call(File)==="[object FileConstructor]";function xc(e){return Pw&&(e instanceof ArrayBuffer||Dw(e))||Aw&&e instanceof Blob||Ow&&e instanceof File}function ki(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(ki(e[r]))return!0;return!1}if(xc(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return ki(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&ki(e[r]))return!0;return!1}function Lw(e){const t=[],r=e.data,n=e;return n.data=ua(r,t),n.attachments=t.length,{packet:n,buffers:t}}function ua(e,t){if(!e)return e;if(xc(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=ua(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=ua(e[n],t));return r}return e}function Iw(e,t){return e.data=da(e.data,t),delete e.attachments,e}function da(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=da(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=da(e[r],t));return e}const Fw=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Mw=5;var te;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(te||(te={}));class Bw{constructor(t){this.replacer=t}encode(t){return(t.type===te.EVENT||t.type===te.ACK)&&ki(t)?this.encodeAsBinary({type:t.type===te.EVENT?te.BINARY_EVENT:te.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===te.BINARY_EVENT||t.type===te.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=Lw(t),n=this.encodeAsString(r.packet),s=r.buffers;return s.unshift(n),s}}function od(e){return Object.prototype.toString.call(e)==="[object Object]"}class gc extends De{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===te.BINARY_EVENT;n||r.type===te.BINARY_ACK?(r.type=n?te.EVENT:te.ACK,this.reconstructor=new Uw(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(xc(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(te[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===te.BINARY_EVENT||n.type===te.BINARY_ACK){const o=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const l=t.substring(o,r);if(l!=Number(l)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(l)}if(t.charAt(r+1)==="/"){const o=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(o,r)}else n.nsp="/";const s=t.charAt(r+1);if(s!==""&&Number(s)==s){const o=r+1;for(;++r;){const l=t.charAt(r);if(l==null||Number(l)!=l){--r;break}if(r===t.length)break}n.id=Number(t.substring(o,r+1))}if(t.charAt(++r)){const o=this.tryParse(t.substr(r));if(gc.isPayloadValid(n.type,o))n.data=o;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case te.CONNECT:return od(r);case te.DISCONNECT:return r===void 0;case te.CONNECT_ERROR:return typeof r=="string"||od(r);case te.EVENT:case te.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&Fw.indexOf(r[0])===-1);case te.ACK:case te.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Uw{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=Iw(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const $w=Object.freeze(Object.defineProperty({__proto__:null,Decoder:gc,Encoder:Bw,get PacketType(){return te},protocol:Mw},Symbol.toStringTag,{value:"Module"}));function At(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const zw=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class kp extends De{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[At(t,"open",this.onopen.bind(this)),At(t,"packet",this.onpacket.bind(this)),At(t,"error",this.onerror.bind(this)),At(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,s,o;if(zw.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const l={type:te.EVENT,data:r};if(l.options={},l.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const d=this.ids++,f=r.pop();this._registerAckCallback(d,f),l.id=d}const a=(s=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||s===void 0?void 0:s.writable,c=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!a||(c?(this.notifyOutgoingListeners(l),this.packet(l)):this.sendBuffer.push(l)),this.flags={},this}_registerAckCallback(t,r){var n;const s=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(s===void 0){this.acks[t]=r;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);r.call(this,new Error("operation has timed out"))},s),l=(...a)=>{this.io.clearTimeoutFn(o),r.apply(this,a)};l.withError=!0,this.acks[t]=l}emitWithAck(t,...r){return new Promise((n,s)=>{const o=(l,a)=>l?s(l):n(a);o.withError=!0,r.push(o),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...o)=>n!==this._queue[0]?void 0:(s!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(s)):(this._queue.shift(),r&&r(null,...o)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:te.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case te.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case te.EVENT:case te.BINARY_EVENT:this.onevent(t);break;case te.ACK:case te.BINARY_ACK:this.onack(t);break;case te.DISCONNECT:this.ondisconnect();break;case te.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...s){n||(n=!0,r.packet({type:te.ACK,id:t,data:s}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:te.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function Ln(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Ln.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+r:e-r}return Math.min(e,this.max)|0};Ln.prototype.reset=function(){this.attempts=0};Ln.prototype.setMin=function(e){this.ms=e};Ln.prototype.setMax=function(e){this.max=e};Ln.prototype.setJitter=function(e){this.jitter=e};class ha extends De{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,jo(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Ln({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const s=r.parser||$w;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Tw(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=At(r,"open",function(){n.onopen(),t&&t()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},l=At(r,"error",o);if(this._timeout!==!1){const a=this._timeout,c=this.setTimeoutFn(()=>{s(),o(new Error("timeout")),r.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(s),this.subs.push(l),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(At(t,"ping",this.onping.bind(this)),At(t,"data",this.ondata.bind(this)),At(t,"error",this.onerror.bind(this)),At(t,"close",this.onclose.bind(this)),At(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){bo(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new kp(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const qn={};function Si(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=Rw(e,t.path||"/socket.io"),n=r.source,s=r.id,o=r.path,l=qn[s]&&o in qn[s].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||l;let c;return a?c=new ha(n,t):(qn[s]||(qn[s]=new ha(n,t)),c=qn[s]),r.query&&!t.query&&(t.query=r.queryKey),c.socket(r.path,t)}Object.assign(Si,{Manager:ha,Socket:kp,io:Si,connect:Si});const Hw=()=>{var n,s;const e=typeof window<"u"?window.VITE_SOCKET_URL:void 0,t=((s=(n=import.meta)==null?void 0:n.env)==null?void 0:s.VITE_SOCKET_URL)||e;return typeof t=="string"&&t.trim()?t.replace(/\/$/,""):ot.replace(/\/api\/v1\/?$/,"").replace(/\/$/,"")},Vw=Hw();class qw{constructor(){Object.defineProperty(this,"socket",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"userId",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"listeners",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}connect(t){var n;if(!t){console.warn("Socket connection skipped: missing user ID");return}if((n=this.socket)!=null&&n.connected&&this.userId===t)return;const r=ie.getToken();if(!r){console.warn("Socket connection skipped: missing auth token");return}this.userId=t,this.socket=Si(Vw,{reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,reconnectionAttempts:5,transports:["websocket","polling"]}),this.socket.on("connect",()=>{var s,o;console.log(" Socket connected:",(s=this.socket)==null?void 0:s.id),this.userId&&((o=this.socket)==null||o.emit("authenticate",{token:r}))}),this.socket.on("auth:success",()=>{console.log(" Socket authenticated")}),this.socket.on("auth:error",s=>{console.error(" Socket authentication failed:",s),this.disconnect()}),this.socket.on("message:receive",s=>{this.emit("message:receive",s)}),this.socket.on("typing:start",s=>{this.emit("typing:start",s)}),this.socket.on("typing:stop",s=>{this.emit("typing:stop",s)}),this.socket.on("message:sent",s=>{this.emit("message:sent",s)}),this.socket.on("user:online",s=>{this.emit("user:online",s)}),this.socket.on("user:offline",s=>{this.emit("user:offline",s)}),this.socket.on("user:presence",s=>{this.emit("user:presence",s)}),this.socket.on("connect_error",s=>{console.error(" Socket connection error:",s),this.emit("error",s)}),this.socket.on("disconnect",s=>{console.log(" Socket disconnected:",s),this.emit("disconnect",{reason:s})})}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null,this.userId=null)}sendMessage(t,r,n,s){if(!this.socket||!this.socket.connected){console.error("Socket not connected");return}this.socket.emit("message:send",{recipientId:t,content:r,listingId:n,clientMessageId:s})}startTyping(t){!this.socket||!this.socket.connected||this.socket.emit("typing:start",{recipientId:t})}stopTyping(t){!this.socket||!this.socket.connected||this.socket.emit("typing:stop",{recipientId:t})}isConnected(){var t;return((t=this.socket)==null?void 0:t.connected)??!1}on(t,r){this.listeners.has(t)||this.listeners.set(t,new Set),this.listeners.get(t).add(r)}off(t,r){this.listeners.has(t)&&this.listeners.get(t).delete(r)}emit(t,r){this.listeners.has(t)&&this.listeners.get(t).forEach(n=>{try{n(r)}catch(s){console.error(`Error in listener for ${t}:`,s)}})}getSocketId(){var t;return((t=this.socket)==null?void 0:t.id)??null}}const we=new qw,fa=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`msg-${Date.now()}-${Math.random().toString(36).slice(2,10)}`,nl=[{id:"all",label:"All Listings",icon:"",gradient:"from-red-500 via-orange-500 to-yellow-400",description:"Browse everything new in the community"},{id:"electronics",label:"Electronics",icon:"",gradient:"from-blue-500 to-indigo-500",description:"Phones, laptops, accessories, speakers, more"},{id:"furniture",label:"Furniture",icon:"",gradient:"from-amber-500 to-orange-500",description:"Sofas, dining sets, decor, and home accents"},{id:"clothing",label:"Fashion",icon:"",gradient:"from-pink-500 to-rose-500",description:"Traditional wear, modern fits, accessories"},{id:"home",label:"Home & Kitchen",icon:"",gradient:"from-emerald-500 to-green-500",description:"Appliances, cookware, storage, essentials"},{id:"books",label:"Books & Learning",icon:"",gradient:"from-purple-500 to-indigo-500",description:"Textbooks, language guides, cultural stories"},{id:"services",label:"Services",icon:"",gradient:"from-slate-500 to-slate-600",description:"Business services, tutoring, beauty, repairs"},{id:"sports",label:"Sports & Hobbies",icon:"",gradient:"from-teal-500 to-cyan-500",description:"Equipment, games, arts & crafts"},{id:"vehicles",label:"Vehicles",icon:"",gradient:"from-zinc-500 to-zinc-600",description:"Cars, bikes, scooters, rideshare offers"},{id:"other",label:"Everything Else",icon:"",gradient:"from-fuchsia-500 to-purple-500",description:"Unique finds that dont fit a box"}],ld=[{id:"all",label:"Any Price",hint:"Show everything",icon:"",predicate:()=>!0},{id:"budget",label:"Under $50",hint:"Great deals & household essentials",icon:"",predicate:e=>e<50},{id:"mid",label:"$50  $200",hint:"Everyday upgrades & trusted gear",icon:"",predicate:e=>e>=50&&e<=200},{id:"premium",label:"Over $200",hint:"Premium items & investment pieces",icon:"",predicate:e=>e>200}],ad=[{id:"recent",label:"Newest first",description:"See the latest drops from neighbours"},{id:"price-low",label:"Price: Low to high",description:"Perfect when youre hunting for bargains"},{id:"price-high",label:"Price: High to low",description:"Spot premium items instantly"},{id:"popular",label:"Most loved",description:"Listings with the most views & saves"}],Ww={new:"bg-emerald-100 text-emerald-800 border border-emerald-200","like-new":"bg-sky-100 text-sky-800 border border-sky-200",good:"bg-amber-100 text-amber-800 border border-amber-200",fair:"bg-rose-100 text-rose-800 border border-rose-200"};function sl(e){return new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD",maximumFractionDigits:0}).format(e)}function Kw(e){return new Date(e).toLocaleDateString("en-CA",{month:"short",day:"numeric",year:"numeric"})}function cd(e){return e?e.split(/[\s-]+/).map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "):"Used"}function ud({images:e}){const[t,r]=x.useState(0);return x.useEffect(()=>{if(e.length<=1)return;const n=setInterval(()=>r(s=>(s+1)%e.length),5e3);return()=>clearInterval(n)},[e.length]),e.length===0?i.jsx("div",{className:"relative flex h-48 w-full items-center justify-center rounded-2xl bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 text-4xl text-gray-400",children:""}):i.jsxs("div",{className:"group relative h-48 w-full overflow-hidden rounded-2xl",children:[e.map((n,s)=>i.jsx("img",{src:n,alt:`Marketplace item ${s+1}`,className:`absolute inset-0 h-full w-full object-cover transition-all duration-500 ${s===t?"opacity-100 scale-100":"pointer-events-none opacity-0 scale-95"}`},s)),e.length>1&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"pointer-events-none absolute inset-0 bg-gradient-to-t from-black/60 via-black/10 to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100"}),i.jsx("div",{className:"absolute bottom-3 left-1/2 flex -translate-x-1/2 gap-1.5",children:e.map((n,s)=>i.jsx("button",{onClick:o=>{o.stopPropagation(),r(s)},className:`h-1.5 rounded-full transition-all ${s===t?"w-8 bg-white shadow-lg":"w-2 bg-white/40 hover:bg-white/60"}`},s))})]}),i.jsxs("div",{className:"absolute right-3 top-3 rounded-full bg-black/50 px-3 py-1 text-xs font-semibold text-white backdrop-blur-md",children:[t+1,"/",e.length]})]})}function Qw({token:e,isAdmin:t=!1}){var bt,ft,Be;const[r,n]=x.useState([]),[s,o]=x.useState(!0),[l,a]=x.useState(""),[c,u]=x.useState("all"),[d,f]=x.useState(""),[p,j]=x.useState("all"),[m,w]=x.useState("recent"),[N,g]=x.useState(!1),[h,y]=x.useState([]),[k,C]=x.useState(!1),[_,R]=x.useState(null),[b,O]=x.useState(!1),[D,H]=x.useState([]),[Z,re]=x.useState([]),[le,Se]=x.useState([]),[ue,de]=x.useState(""),[A,B]=x.useState(""),[V,T]=x.useState(null),[q,K]=x.useState(""),[ee,Fe]=x.useState(!1),[se,P]=x.useState({title:"",description:"",category:"electronics",price:"",location:"",condition:"good"}),U=ie.getUserData(),Q=(U==null?void 0:U._id)||(U==null?void 0:U.id)||(U==null?void 0:U.userId)||"";x.useEffect(()=>{!e||!Q||we.connect(Q)},[e,Q]);const I=x.useCallback(async()=>{try{o(!0);const S=await fetch(`${ot}/marketplace/listings?limit=60`,{headers:e?{Authorization:`Bearer ${e}`}:void 0});if(!S.ok)throw new Error("Failed to fetch marketplace listings");const M=await S.json();n(Array.isArray(M.data)?M.data:[]),a("")}catch(S){a(S.message||"Unable to load marketplace listings right now"),n([])}finally{o(!1)}},[e]);x.useEffect(()=>{I()},[I]),x.useEffect(()=>{const S=localStorage.getItem("marketplace_favorites");if(S)try{y(JSON.parse(S))}catch{y([])}},[]);const J=x.useMemo(()=>{const S={};return r.forEach(M=>{S[M.category]=(S[M.category]??0)+1}),S},[r]),he=x.useMemo(()=>new Set(r.map(M=>M.sellerName)).size,[r]),ye=x.useMemo(()=>{const S=Date.now()-6048e5;return r.filter(M=>new Date(M.createdAt).getTime()>=S).length},[r]),Me=x.useMemo(()=>[...r].sort((S,M)=>{var W,Y;return M.views+(((W=M.favorites)==null?void 0:W.length)||0)*3-(S.views+(((Y=S.favorites)==null?void 0:Y.length)||0)*3)}).slice(0,4),[r]),Re=x.useMemo(()=>{let S=[...r];if(c!=="all"&&(S=S.filter(W=>W.category===c)),N&&(S=S.filter(W=>h.includes(W._id))),d.trim()){const W=d.toLowerCase();S=S.filter(Y=>Y.title.toLowerCase().includes(W)||Y.description.toLowerCase().includes(W)||Y.location.toLowerCase().includes(W)||Y.category.toLowerCase().includes(W))}const M=ld.find(W=>W.id===p);return M&&M.id!=="all"&&(S=S.filter(W=>M.predicate(W.price))),S.sort((W,Y)=>{var Ce,pt;switch(m){case"price-low":return W.price-Y.price;case"price-high":return Y.price-W.price;case"popular":return Y.views+(((Ce=Y.favorites)==null?void 0:Ce.length)||0)*3-(W.views+(((pt=W.favorites)==null?void 0:pt.length)||0)*3);case"recent":default:return new Date(Y.createdAt).getTime()-new Date(W.createdAt).getTime()}}),S},[r,c,N,h,d,p,m]),ze=async(S,M)=>{if(S.stopPropagation(),!e){a("Login to save listings you love");return}try{const W=await fetch(`${ot}/marketplace/listings/${M}/favorite`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});if(!W.ok){const Ce=await W.json();throw new Error(Ce.error||"Failed to update favorites")}if((await W.json()).favorited){const Ce=[...h,M];y(Ce),localStorage.setItem("marketplace_favorites",JSON.stringify(Ce))}else{const Ce=h.filter(pt=>pt!==M);y(Ce),localStorage.setItem("marketplace_favorites",JSON.stringify(Ce))}await I()}catch(W){a(W.message||"Unable to update favorites right now")}},F=S=>{const M=Array.from(S.target.files||[]);if(M.length+D.length>10){a("Maximum of 10 images allowed per listing");return}const W=[];M.forEach(Y=>{if(!["image/jpeg","image/png","image/webp"].includes(Y.type)){a(`${Y.name} has an unsupported format. Use JPEG, PNG, or WebP.`);return}if(Y.size>10*1024*1024){a(`${Y.name} is larger than 10MB. Please compress and retry.`);return}W.push(Y)}),W.length!==0&&(H(Y=>[...Y,...W]),W.forEach(Y=>{const Ce=new FileReader;Ce.onloadend=()=>{re(pt=>[...pt,Ce.result])},Ce.readAsDataURL(Y)}))},ne=S=>{H(M=>M.filter((W,Y)=>Y!==S)),re(M=>M.filter((W,Y)=>Y!==S))},Oe=async()=>{if(D.length===0){a("Add at least one image to showcase your listing");return}try{O(!0);const S=new FormData;D.forEach(Y=>S.append("images",Y));const M=await fetch(`${ot}/marketplace/upload`,{method:"POST",headers:{Authorization:`Bearer ${e}`},body:S});if(!M.ok){const Y=await M.json();throw new Error(Y.error||"Image upload failed")}const W=await M.json();Se(W.images),H([]),re([]),a("")}catch(S){a(S.message||"Unable to upload images right now")}finally{O(!1)}},rt=async S=>{if(S.preventDefault(),a(""),!e){a("Please log in to share a listing");return}if(!e){a("Please login to post a listing");return}if(!se.title||!se.description||!se.price||!se.category){a("Fill out all required fields to share your listing");return}if(se.title.trim().length<5){a("Title must be at least 5 characters");return}if(se.description.trim().length<10){a("Description must be at least 10 characters");return}const M=parseFloat(se.price);if(Number.isNaN(M)||M<0){a("Enter a valid price (numbers only)");return}try{const W=await fetch(`${ot}/marketplace/listings`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({...se,price:M,images:le})});if(!W.ok){const Y=await W.json();throw new Error(Y.error||"Failed to create listing")}P({title:"",description:"",category:"electronics",price:"",location:"",condition:"good"}),Se([]),H([]),re([]),C(!1),de(t?"Listing published successfully.":"Thanks! Your listing was sent to the admin team for review."),await I()}catch(W){a(W.message||"Unable to create listing right now")}},Tr=[{label:"Active listings",value:r.length,icon:""},{label:"New this week",value:ye,icon:""},{label:"Community sellers",value:he,icon:""}];return i.jsxs("div",{className:"space-y-10",children:[l&&i.jsx("div",{className:"rounded-2xl border border-red-200 bg-red-50 px-6 py-4 text-red-700 shadow-sm",children:l}),ue&&i.jsx("div",{className:"rounded-2xl border border-emerald-200 bg-emerald-50 px-6 py-4 text-sm font-semibold text-emerald-700 shadow-sm",children:ue}),i.jsxs("section",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-red-600 via-orange-500 to-yellow-400 p-1 shadow-xl",children:[i.jsx("div",{className:"relative rounded-[26px] bg-white/95 p-10 backdrop-blur",children:i.jsxs("div",{className:"grid gap-10 lg:grid-cols-[1.4fr,1fr]",children:[i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{children:[i.jsx("p",{className:"inline-flex items-center gap-2 rounded-full bg-red-100 px-4 py-1 text-sm font-semibold text-red-700 shadow",children:" Marketplace  Powered by our community"}),i.jsx("h1",{className:"mt-5 text-4xl font-black text-gray-900 md:text-5xl",children:"Discover trusted listings from neighbours you know."}),i.jsx("p",{className:"mt-4 text-lg text-gray-600 md:text-xl",children:"Buy, sell, and swap within Ottawas Ethiopian community. Find unique products, reliable services, and everyday essentialssafely and effortlessly."})]}),i.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx("input",{type:"search",value:d,onChange:S=>f(S.target.value),placeholder:"Search listings, sellers, locations",className:"w-full rounded-2xl border border-gray-200 bg-white/90 px-5 py-3 text-base shadow focus:border-red-500 focus:outline-none focus:ring-2 focus:ring-red-200"}),i.jsx("span",{className:"pointer-events-none absolute right-5 top-1/2 -translate-y-1/2 text-xl text-gray-400",children:""})]}),i.jsxs("div",{className:"flex flex-col gap-3 md:w-auto",children:[i.jsx("button",{onClick:()=>{de(""),a(""),C(!0)},disabled:!e,className:"flex items-center justify-center gap-2 rounded-2xl bg-gradient-to-r from-red-600 via-red-500 to-orange-500 px-6 py-3 text-base font-bold text-white shadow-lg shadow-red-200 transition hover:scale-[1.02] hover:shadow-xl disabled:cursor-not-allowed disabled:opacity-60",children:i.jsx("span",{children:"+ Create listing"})}),!t&&e&&i.jsxs("div",{className:"flex flex-col gap-2 rounded-2xl border border-amber-200 bg-amber-50 px-4 py-3 text-xs text-amber-800 shadow-sm",children:[i.jsx("p",{className:"font-semibold text-amber-800",children:"Pending admin review"}),i.jsx("p",{className:"text-amber-700",children:"Share your listing and the admin team will approve it before it appears in the marketplace. Check the admin portal for status."})]})]})]}),i.jsx("div",{className:"grid gap-4 sm:grid-cols-3",children:Tr.map(S=>i.jsxs("div",{className:"flex items-center gap-3 rounded-2xl border border-white/60 bg-white/80 px-5 py-4 shadow-sm backdrop-blur transition hover:-translate-y-1 hover:shadow-lg",children:[i.jsx("span",{className:"text-2xl",children:S.icon}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:S.label}),i.jsx("p",{className:"text-2xl font-black text-gray-900",children:S.value})]})]},S.label))})]}),i.jsxs("div",{className:"flex flex-col gap-5 rounded-3xl bg-gradient-to-br from-white/90 to-white/60 p-6 shadow-inner",children:[i.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Trending this week"}),i.jsxs("div",{className:"space-y-4",children:[Me.length===0&&i.jsx("p",{className:"rounded-2xl border border-gray-100 bg-white/80 px-4 py-5 text-sm text-gray-500",children:"Listings that get the most views & saves show up here. Share something to be featured!"}),Me.map(S=>{var M;return i.jsxs("button",{type:"button",onClick:()=>R(S),className:"flex items-center gap-4 rounded-2xl border border-gray-100 bg-white/80 px-4 py-3 text-left shadow-sm transition hover:-translate-y-1 hover:border-red-200 hover:shadow-lg",children:[i.jsx("span",{className:"flex h-12 w-12 items-center justify-center overflow-hidden rounded-xl bg-gradient-to-br from-red-500/10 to-orange-500/10 text-xl",children:(M=S.images)!=null&&M.length?i.jsx("img",{src:S.images[0],alt:S.title,className:"h-full w-full object-cover"}):""}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"line-clamp-1 text-sm font-semibold text-gray-900",children:S.title}),i.jsxs("p",{className:"text-xs text-gray-500",children:[sl(S.price),"  ",S.location]})]}),i.jsxs("span",{className:"text-xs font-semibold text-gray-500",children:[" ",S.views]})]},S._id)})]})]})]})}),i.jsx("div",{className:"pointer-events-none absolute -right-32 -top-32 h-72 w-72 rounded-full bg-white/20 blur-3xl"}),i.jsx("div",{className:"pointer-events-none absolute -bottom-20 -left-20 h-64 w-64 rounded-full bg-red-300/30 blur-3xl"})]}),i.jsxs("div",{className:"flex flex-col gap-8 lg:flex-row",children:[i.jsx("aside",{className:"lg:w-80",children:i.jsxs("div",{className:"sticky top-4 space-y-8 rounded-3xl border border-gray-100 bg-white/90 p-6 shadow-xl shadow-red-50/50 backdrop-blur",children:[i.jsx("div",{className:"rounded-3xl border border-rose-100 bg-rose-50/80 p-4 shadow-inner shadow-rose-100/60",children:i.jsxs("div",{className:"flex items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-rose-800",children:"Favorites spotlight"}),i.jsx("p",{className:"text-xs text-rose-600",children:"Jump back to saved listings instantly."})]}),i.jsx("button",{onClick:()=>g(S=>!S),className:`rounded-full px-3 py-2 text-xs font-semibold transition ${N?"bg-rose-600 text-white shadow-lg shadow-rose-200":"border border-rose-200 bg-white text-rose-600 hover:bg-rose-50"}`,children:N?" On":" Off"})]})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Browse by category"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Tap a category to filter listings. Counts update live."}),i.jsx("div",{className:"mt-4 space-y-3",children:nl.map(S=>{const M=c===S.id,W=S.id==="all"?r.length:J[S.id]??0;return i.jsxs("button",{onClick:()=>u(S.id),className:`flex w-full items-center gap-4 rounded-2xl border px-4 py-3 text-left transition ${M?`border-transparent bg-gradient-to-r ${S.gradient} text-white shadow-[0_18px_45px_rgba(196,30,58,0.25)] ring-2 ring-white/40`:"border-gray-200 bg-white hover:border-red-200 hover:shadow-md"}`,children:[i.jsx("span",{className:"text-xl",children:S.icon}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:`text-sm font-semibold ${M?"text-white":"text-gray-900"}`,children:S.label}),i.jsx("p",{className:`text-xs ${M?"text-white/80":"text-gray-500"}`,children:S.description})]}),i.jsx("span",{className:`inline-flex h-8 min-w-[2.5rem] items-center justify-center rounded-full px-2 text-xs font-semibold ${M?"bg-white/20 text-white":"bg-gray-100 text-gray-600"}`,children:W})]},S.id)})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Quick filters"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-400",children:"Price range"}),ld.map(S=>{const M=S.id===p;return i.jsxs("button",{onClick:()=>j(S.id),className:`flex w-full items-center gap-3 rounded-2xl border px-4 py-3 text-left transition ${M?"border-red-200 bg-red-50 text-red-600":"border-gray-200 bg-white text-gray-600 hover:border-red-200 hover:bg-red-50/40"}`,children:[i.jsx("span",{className:"text-lg",children:S.icon}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold",children:S.label}),i.jsx("p",{className:"text-xs text-gray-500",children:S.hint})]})]},S.id)})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-400",children:"Sort listings"}),i.jsx("select",{value:m,onChange:S=>w(S.target.value),className:"w-full rounded-2xl border border-gray-200 bg-white px-4 py-3 text-sm font-semibold text-gray-600 shadow focus:border-red-400 focus:ring-2 focus:ring-red-100",children:ad.map(S=>i.jsx("option",{value:S.id,children:S.label},S.id))}),i.jsx("p",{className:"text-xs text-gray-400",children:(bt=ad.find(S=>S.id===m))==null?void 0:bt.description})]})]})]})}),i.jsxs("main",{className:"flex-1 space-y-8",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-black text-gray-900",children:c==="all"?"All community listings":(ft=nl.find(S=>S.id===c))==null?void 0:ft.label}),i.jsxs("p",{className:"text-sm text-gray-500",children:[Re.length," ",Re.length===1?"result":"results"," "," ",N?"Favorites filtered view":"Scroll to explore whats new"]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsx("button",{onClick:I,className:"inline-flex items-center gap-2 rounded-2xl border border-gray-200 bg-white px-4 py-2 text-sm font-semibold text-gray-600 shadow hover:border-red-200 hover:text-red-600 hover:shadow-md",children:" Refresh feed"}),!N&&h.length>0&&i.jsxs("button",{onClick:()=>{u("all"),g(!0)},className:"inline-flex items-center gap-2 rounded-2xl bg-red-50 px-4 py-2 text-sm font-semibold text-red-600 shadow",children:[" ",h.length," saved"]})]})]}),s?i.jsx("div",{className:"grid gap-6 sm:grid-cols-2 xl:grid-cols-3",children:Array.from({length:6}).map((S,M)=>i.jsxs("div",{className:"animate-pulse space-y-4 rounded-3xl border border-gray-100 bg-white p-6 shadow-sm",children:[i.jsx("div",{className:"h-40 w-full rounded-2xl bg-gray-200"}),i.jsx("div",{className:"h-6 w-3/4 rounded-full bg-gray-200"}),i.jsx("div",{className:"h-4 w-1/2 rounded-full bg-gray-200"}),i.jsx("div",{className:"h-4 w-full rounded-full bg-gray-100"})]},M))}):Re.length===0?i.jsxs("div",{className:"rounded-3xl border border-gray-100 bg-white p-10 text-center shadow-sm",children:[i.jsx("div",{className:"mx-auto flex h-20 w-20 items-center justify-center rounded-full bg-red-50 text-3xl",children:""}),i.jsx("h3",{className:"mt-4 text-xl font-bold text-gray-900",children:"No listings found"}),i.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Try adjusting your filters or clear the search term to see more items."}),i.jsx("button",{onClick:()=>{u("all"),g(!1),j("all"),f(""),w("recent")},className:"mt-4 rounded-2xl border border-gray-200 bg-white px-4 py-2 text-sm font-semibold text-gray-600 shadow hover:border-red-200 hover:text-red-600",children:"Reset filters"})]}):i.jsx("div",{className:"grid gap-6 sm:grid-cols-2 xl:grid-cols-3",children:Re.map(S=>{const M=h.includes(S._id),W=Ww[S.condition||""]||"border border-gray-200 bg-gray-100 text-gray-700";return`${S.sellerName.replace(/\s+/g,".").toLowerCase()}`,i.jsxs("article",{onClick:()=>R(S),className:"group relative flex cursor-pointer flex-col overflow-hidden rounded-3xl border border-gray-100 bg-white shadow-sm transition hover:-translate-y-2 hover:shadow-2xl",children:[i.jsx(ud,{images:S.images||[]}),i.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-6",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-red-50 px-3 py-1 text-xs font-semibold text-red-600",children:[" ",S.location]}),i.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-gray-100 px-2.5 py-1 text-xs font-semibold text-gray-500",children:[" ",S.views]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"line-clamp-2 text-lg font-bold text-gray-900 transition group-hover:text-red-600",children:S.title}),i.jsx("p",{className:"mt-1 text-sm text-gray-500 line-clamp-2",children:S.description})]}),i.jsx("p",{className:"bg-gradient-to-r from-red-600 via-orange-500 to-yellow-500 bg-clip-text text-3xl font-black text-transparent",children:sl(S.price)}),i.jsx("span",{className:"inline-flex items-center gap-1 text-xs font-semibold uppercase tracking-wide text-emerald-600",children:" Admin approved"}),i.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-gray-400",children:"Seller"}),i.jsx("span",{className:"font-semibold text-gray-800",children:S.sellerName})]}),i.jsx("span",{className:`inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-semibold ${W}`,children:cd(S.condition)})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("button",{type:"button",onClick:Y=>ze(Y,S._id),className:`flex w-full items-center justify-center gap-2 rounded-2xl border px-4 py-2 text-sm font-semibold transition ${M?"border-red-200 bg-red-50 text-red-600 shadow-inner":"border-gray-200 bg-white text-gray-600 hover:border-red-200 hover:text-red-600"}`,children:M?" Saved":" Save to favorites"}),i.jsx("button",{type:"button",onClick:Y=>{if(Y.stopPropagation(),!e){a("Please log in to message sellers");return}T(S),K(""),B("")},className:"flex w-full items-center justify-center gap-2 rounded-2xl border border-gray-200 bg-white px-4 py-2 text-sm font-semibold text-gray-600 transition hover:border-red-200 hover:text-red-600",children:" Message seller"})]})]}),i.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-3xl opacity-0 transition group-hover:opacity-100 group-hover:shadow-[inset_0_0_40px_rgba(196,30,58,0.15)]"})]},S._id)})})]})]}),e&&k&&i.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/50 backdrop-blur-md p-4",children:i.jsxs("div",{className:"relative w-full max-w-3xl overflow-hidden rounded-3xl border border-red-100 bg-white shadow-2xl",children:[i.jsx("button",{onClick:()=>{C(!1),de(""),a("")},className:"absolute right-4 top-4 rounded-full bg-red-500 hover:bg-red-600 px-3 py-1 text-lg text-white font-bold transition shadow-lg shadow-red-500/50 ring-2 ring-red-200","aria-label":"Close create listing form",children:""}),i.jsxs("form",{onSubmit:rt,className:"max-h-[85vh] overflow-y-auto p-8",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-2xl font-black text-gray-900",children:"Share something with the community"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Great photos and clear details help your listing shine. Upload images and describe the item so neighbours know exactly what to expect."})]}),i.jsxs("div",{className:"mt-6 grid gap-5 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Title *"}),i.jsx("input",{type:"text",value:se.title,onChange:S=>P(M=>({...M,title:S.target.value})),className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-3 text-sm shadow-inner focus:border-red-400 focus:outline-none focus:ring-2 focus:ring-red-100",placeholder:"Eg. Traditional coffee set, like new",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Description *"}),i.jsx("textarea",{value:se.description,onChange:S=>P(M=>({...M,description:S.target.value})),rows:5,className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-3 text-sm shadow-inner focus:border-red-400 focus:outline-none focus:ring-2 focus:ring-red-100",placeholder:"Describe condition, why youre selling, whats included",required:!0})]}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Category *"}),i.jsx("select",{value:se.category,onChange:S=>P(M=>({...M,category:S.target.value})),className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-3 text-sm shadow-inner focus:border-red-400 focus:outline-none focus:ring-2 focus:ring-red-100",children:nl.filter(S=>S.id!=="all").map(S=>i.jsx("option",{value:S.id,children:S.label},S.id))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Condition"}),i.jsxs("select",{value:se.condition,onChange:S=>P(M=>({...M,condition:S.target.value})),className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-3 text-sm shadow-inner focus:border-red-400 focus:outline-none focus:ring-2 focus:ring-red-100",children:[i.jsx("option",{value:"new",children:"Brand new"}),i.jsx("option",{value:"like-new",children:"Like new"}),i.jsx("option",{value:"good",children:"Good"}),i.jsx("option",{value:"fair",children:"Needs some love"})]})]})]}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Price (CAD) *"}),i.jsx("input",{type:"number",min:"0",step:"0.01",value:se.price,onChange:S=>P(M=>({...M,price:S.target.value})),className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-3 text-sm shadow-inner focus:border-red-400 focus:outline-none focus:ring-2 focus:ring-red-100",placeholder:"Eg. 75",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Location"}),i.jsx("input",{type:"text",value:se.location,onChange:S=>P(M=>({...M,location:S.target.value})),className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-3 text-sm shadow-inner focus:border-red-400 focus:outline-none focus:ring-2 focus:ring-red-100",placeholder:"Eg. Kanata, Downtown Ottawa (optional)"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Photo gallery"}),i.jsxs("div",{className:"rounded-3xl border-2 border-dashed border-gray-200 bg-gray-50/70 p-6 text-center",children:[i.jsx("input",{id:"listing-images",type:"file",accept:"image/jpeg,image/png,image/webp",multiple:!0,hidden:!0,onChange:F}),i.jsxs("label",{htmlFor:"listing-images",className:"flex cursor-pointer flex-col items-center gap-2 text-sm text-gray-600",children:[i.jsx("span",{className:"text-3xl",children:""}),i.jsx("span",{className:"font-semibold text-gray-700",children:"Add photos"}),i.jsx("span",{className:"text-xs text-gray-500",children:"JPEG, PNG, WebP (max 10 images  10MB each)"})]}),Z.length>0&&i.jsx("div",{className:"mt-4 grid grid-cols-3 gap-3",children:Z.map((S,M)=>i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:S,alt:`Preview ${M+1}`,className:"h-24 w-full rounded-2xl object-cover"}),i.jsx("button",{type:"button",onClick:()=>ne(M),className:"absolute right-1 top-1 rounded-full bg-black/60 px-2 text-xs text-white",children:""})]},M))}),i.jsx("button",{type:"button",onClick:Oe,disabled:D.length===0||b,className:"mt-4 inline-flex items-center justify-center gap-2 rounded-2xl bg-gradient-to-r from-red-600 to-orange-500 px-4 py-2 text-sm font-semibold text-white shadow disabled:cursor-not-allowed disabled:opacity-60",children:b?"Uploading":"Upload selected images"}),le.length>0&&i.jsxs("p",{className:"mt-3 text-xs font-semibold text-emerald-600",children:[" ",le.length," image",le.length>1&&"s"," ready to publish"]})]})]})]}),i.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-3",children:[i.jsx("button",{type:"button",onClick:()=>{C(!1),de(""),a("")},className:"rounded-2xl border border-gray-200 bg-white px-5 py-2.5 text-sm font-semibold text-gray-600 hover:border-red-200 hover:text-red-600",children:"Cancel"}),i.jsx("button",{type:"submit",className:"rounded-2xl bg-gradient-to-r from-red-600 via-red-500 to-orange-500 px-6 py-3 text-sm font-semibold text-white shadow-lg shadow-red-200 hover:scale-[1.01] hover:shadow-xl",children:"Publish listing"})]})]})]})}),_&&i.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/60 p-4",children:i.jsxs("div",{className:"relative grid w-full max-w-4xl gap-6 rounded-3xl border border-red-100 bg-white/95 p-8 shadow-2xl backdrop-blur-lg md:grid-cols-[1.4fr,1fr]",children:[i.jsx("button",{onClick:()=>R(null),className:"absolute right-4 top-4 rounded-full bg-red-500 hover:bg-red-600 px-3 py-1 text-lg text-white font-bold transition shadow-lg shadow-red-500/50 ring-2 ring-red-200","aria-label":"Close listing detail",children:""}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(ud,{images:_.images||[]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-3xl font-black text-gray-900",children:_.title}),i.jsx("p",{className:"text-lg text-gray-600",children:_.description}),i.jsxs("div",{className:"flex flex-wrap gap-2 text-sm text-gray-500",children:[i.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-gray-100 px-3 py-1 font-semibold text-gray-600",children:[" ",_.location]}),i.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-gray-100 px-3 py-1 font-semibold text-gray-600 capitalize",children:[" ",_.category]}),i.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-gray-100 px-3 py-1 font-semibold text-gray-600",children:[" Posted ",Kw(_.createdAt)]})]})]})]}),i.jsxs("div",{className:"flex flex-col gap-6 rounded-3xl bg-white/80 p-6 shadow-inner",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-400",children:"Price"}),i.jsx("p",{className:"mt-1 bg-gradient-to-r from-red-600 via-orange-500 to-yellow-500 bg-clip-text text-4xl font-black text-transparent",children:sl(_.price)}),i.jsx("span",{className:"mt-2 inline-flex items-center gap-2 rounded-full bg-emerald-50 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-emerald-700",children:" Verified by moderators"})]}),i.jsxs("div",{className:"grid gap-4",children:[i.jsxs("div",{className:"rounded-2xl border border-gray-100 bg-white px-4 py-3",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-400",children:"Seller"}),i.jsx("p",{className:"mt-1 text-base font-semibold text-gray-800",children:_.sellerName}),i.jsxs("p",{className:"text-xs text-gray-500",children:[" ",_.views," views "," ",((Be=_.favorites)==null?void 0:Be.length)||0," saves"]})]}),i.jsxs("div",{className:"rounded-2xl border border-gray-100 bg-white px-4 py-3",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-400",children:"Condition"}),i.jsx("p",{className:"mt-1 inline-flex items-center gap-2 rounded-full border border-gray-200 bg-gray-100 px-3 py-1 text-sm font-semibold text-gray-700",children:cd(_.condition)})]})]}),i.jsxs("div",{className:"flex flex-col gap-3",children:[i.jsx("button",{onClick:S=>ze(S,_._id),className:`flex items-center justify-center gap-2 rounded-2xl px-4 py-3 text-sm font-semibold transition ${h.includes(_._id)?"bg-red-600 text-white shadow-lg shadow-red-200 hover:bg-red-700":"border border-red-200 bg-red-50 text-red-600 hover:bg-red-100"}`,children:h.includes(_._id)?" Saved to favorites":" Save listing"}),i.jsx("button",{onClick:()=>{if(!e){a("Please log in to message sellers");return}T(_),K(""),B("")},className:"flex items-center justify-center gap-2 rounded-2xl border border-gray-200 bg-white px-4 py-3 text-sm font-semibold text-gray-600 transition hover:border-red-200 hover:text-red-600",children:" Message seller"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Every message is monitored for safety. Report concerns to support@pomi.community so the admin team can step in."})]})]})]})}),V&&e&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-md p-4",children:i.jsxs("div",{className:"relative w-full max-w-md rounded-3xl border border-red-100 bg-white shadow-2xl",children:[i.jsx("button",{onClick:()=>{T(null),K(""),B("")},className:"absolute right-4 top-4 rounded-full bg-red-500 hover:bg-red-600 px-3 py-1 text-lg text-white font-bold transition shadow-lg shadow-red-500/50 ring-2 ring-red-200","aria-label":"Close messaging",children:""}),i.jsxs("div",{className:"space-y-4 border-b border-gray-100 p-6",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Message seller"}),i.jsxs("div",{className:"flex items-start gap-3 rounded-2xl bg-gray-50 p-4",children:[i.jsx("span",{className:"text-3xl",children:""}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-gray-800",children:V.sellerName}),i.jsxs("p",{className:"text-xs text-gray-500 line-clamp-1",children:["Selling: ",V.title]})]})]})]}),i.jsxs("form",{onSubmit:async S=>{var M,W;if(S.preventDefault(),!q.trim()||!V){a("Please write a message");return}Fe(!0),a("");try{const Ce=await(await fetch(`${ot}/marketplace/listings/${V._id}`,{headers:e?{Authorization:`Bearer ${e}`}:void 0})).json(),pt=((M=Ce.data.sellerId)==null?void 0:M._id)||((W=Ce.data.sellerId)==null?void 0:W.id);if(!pt)throw new Error("Unable to contact the seller right now");const Fs=q.trim(),Ms=fa();if(!!(Q&&we.isConnected()))we.sendMessage(pt,Fs,V._id,Ms);else if(!(await fetch(`${ot}/messages`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({recipientId:pt,content:Fs,listingId:V._id,clientMessageId:Ms})})).ok)throw new Error("Failed to send message");B(`Message sent to ${V.sellerName}! They'll get back to you soon. `),K(""),setTimeout(()=>B(""),4e3)}catch(Y){a(Y.message||"Failed to send message")}finally{Fe(!1)}},className:"space-y-4 p-6",children:[A&&i.jsx("div",{className:"rounded-2xl border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm font-semibold text-emerald-700 shadow-sm",children:A}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Your message"}),i.jsx("textarea",{value:q,onChange:S=>K(S.target.value),placeholder:"Hi! I'm interested in this item. Is it still available?...",className:"mt-2 w-full rounded-2xl border border-gray-200 px-4 py-3 text-sm shadow-inner focus:border-red-400 focus:outline-none focus:ring-2 focus:ring-red-100",rows:4,disabled:ee})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{type:"button",onClick:()=>{T(null),K(""),B("")},className:"flex-1 rounded-2xl border border-gray-200 bg-white px-4 py-2.5 text-sm font-semibold text-gray-600 transition hover:border-red-200 hover:text-red-600",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:ee||!q.trim(),className:"flex-1 rounded-2xl bg-gradient-to-r from-red-600 to-orange-500 px-4 py-2.5 text-sm font-semibold text-white shadow-lg shadow-red-200 transition hover:scale-[1.01] disabled:cursor-not-allowed disabled:opacity-60",children:ee?"Sending...":"Send message"})]}),i.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Messages are monitored for safety. The seller will receive your contact info."})]})]})})]})}function Jw(){var n;const e=ie.getToken()||"",t=!!((n=ie.getUserData())!=null&&n.isAdmin),r=Jr();return x.useEffect(()=>{t&&r("/admin",{replace:!0})},[t,r]),i.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100",children:[i.jsx("header",{className:"border-b border-white/10 bg-slate-950/80 backdrop-blur",children:i.jsxs("div",{className:"mx-auto flex max-w-6xl items-center justify-between gap-4 px-6 py-6",children:[i.jsx(Xt,{to:"/",className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-4 py-2 text-sm font-semibold text-white/80 transition hover:border-white/30 hover:text-white",children:" Home"}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/60",children:"Habesha Marketplace"}),i.jsx("h1",{className:"text-xl font-black text-white",children:"Community listings & services"})]})]})}),i.jsx("main",{className:"px-6 py-12",children:i.jsxs("div",{className:"mx-auto flex max-w-6xl flex-col gap-8",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("h2",{className:"text-2xl font-black text-white sm:text-3xl",children:"Discover listings shared by neighbours across Ottawa"}),i.jsx("p",{className:"text-sm text-white/70 sm:text-base",children:"Create listings, browse essentials, and support Habesha-owned services. Posting requires a Pomi account; browsing is open to everyone."})]}),i.jsx("div",{className:"overflow-hidden rounded-[32px] border border-gray-200 bg-white p-4 text-gray-900 shadow-[0_30px_60px_rgba(15,23,42,0.25)]",children:i.jsx(Qw,{token:e,isAdmin:t})})]})})]})}const Ye=_e.create({baseURL:ot,headers:{"Content-Type":"application/json"}});Ye.interceptors.request.use(e=>{const t=ie.getToken();return t&&(e.headers.Authorization=`Bearer ${t}`),e});Ye.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(ie.removeToken(),ie.clearUserData(),window.location.href="/"),Promise.reject(e)});const il={retail:"Retail & Shopping",restaurant:"Food & Hospitality",services:"Services",healthcare:"Healthcare",education:"Education",technology:"Technology",finance:"Finance",entertainment:"Entertainment",other:"Other"},oi="marakihay@gmail.com";function Yw(){const e=Jr(),t=ie.getUserData(),r=!!(t!=null&&t.isAdmin),[n,s]=x.useState([]),[o,l]=x.useState(!0),[a,c]=x.useState(null),[u,d]=x.useState("All");x.useEffect(()=>{r&&e("/admin",{replace:!0})},[r,e]),x.useEffect(()=>{(async()=>{try{l(!0),c(null);const w=await Ye.get("/businesses",{params:{status:"active",limit:100}}),N=w.data.data||w.data;s(Array.isArray(N)?N:[])}catch(w){console.error("Failed to fetch businesses:",w),c("Failed to load businesses. Please try again later."),s([])}finally{l(!1)}})()},[]);const f=x.useMemo(()=>{const m=new Set(n.filter(w=>w.status==="active").map(w=>il[w.category]||w.category));return["All",...Array.from(m).sort()]},[n]),p=x.useMemo(()=>{const m=n.filter(w=>w.status==="active");return u==="All"?m:m.filter(w=>(il[w.category]||w.category)===u)},[u,n]),j=x.useMemo(()=>n.filter(m=>m.verified&&m.status==="active").length,[n]);return i.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100",children:[i.jsx("header",{className:"border-b border-white/10 bg-slate-950/80 backdrop-blur",children:i.jsxs("div",{className:"mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-4 px-6 py-6",children:[i.jsx(Xt,{to:"/",className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-4 py-2 text-sm font-semibold text-white/80 transition hover:border-white/30 hover:text-white",children:" Home"}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/60",children:"Business directory"}),i.jsx("h1",{className:"text-xl font-black text-white",children:"Find and support Habesha-owned businesses"})]})]})}),i.jsx("main",{className:"px-6 py-12",children:i.jsxs("div",{className:"mx-auto flex max-w-6xl flex-col gap-8",children:[i.jsxs("section",{className:"space-y-6 rounded-[32px] border border-white/10 bg-white/10 p-8 shadow-[0_30px_60px_rgba(15,23,42,0.45)] backdrop-blur",children:[i.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.4fr,1fr] lg:items-start",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/10 px-3 py-1 text-xs font-semibold uppercase tracking-[0.3em] text-rose-200",children:"Curated & approved by the admin team"}),i.jsx("h2",{className:"text-3xl font-black text-white md:text-4xl",children:"Explore trusted services, eateries, creatives, and cultural educators."}),i.jsx("p",{className:"text-sm text-slate-200 md:text-base",children:"Every listing is reviewed with the business owner to verify offerings, contact details, and community alignment. Tap a card to learn more and reach out directly."}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-white/70",children:[i.jsxs("span",{className:"rounded-full border border-white/15 bg-white/5 px-3 py-1",children:[n.filter(m=>m.status==="active").length," active businesses"]}),i.jsxs("span",{className:"rounded-full border border-white/15 bg-white/5 px-3 py-1",children:[j," verified"]})]})]}),i.jsxs("div",{className:"space-y-3 rounded-3xl border border-white/10 bg-white/10 p-6 text-sm text-slate-200 shadow-inner shadow-slate-900/40",children:[i.jsx("p",{className:"font-semibold text-white",children:"Want to be listed?"}),i.jsxs("p",{children:["Send your business details, logo, and proof of services to"," ",i.jsx("a",{href:`mailto:${oi}`,className:"font-semibold text-white underline decoration-rose-300/60 underline-offset-4",children:oi})," ","and the admin team will review within 48 hours."]}),r&&i.jsx("p",{className:"rounded-2xl border border-emerald-300/40 bg-emerald-500/10 px-3 py-2 text-xs text-emerald-100",children:"Admin view: Use the console to add or manage businesses after verification calls."})]})]}),i.jsx("div",{className:"flex flex-wrap items-center gap-3",children:f.map(m=>{const w=m===u;return i.jsx("button",{onClick:()=>d(m),className:`rounded-full px-4 py-2 text-sm font-semibold transition ${w?"bg-gradient-to-r from-red-500 via-rose-500 to-orange-500 text-white shadow-lg shadow-rose-500/40":"border border-white/15 bg-white/5 text-white/70 hover:border-white/40 hover:text-white"}`,children:m},m)})})]}),i.jsxs("section",{className:"space-y-6",children:[o&&i.jsx("div",{className:"rounded-3xl border border-white/10 bg-white/10 p-10 text-center text-sm text-slate-200",children:"Loading businesses..."}),a&&i.jsx("div",{className:"rounded-3xl border border-rose-300/40 bg-rose-500/10 p-10 text-center text-sm text-rose-100",children:a}),!o&&!a&&p.length>0&&i.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:p.map(m=>i.jsxs("article",{className:"flex h-full flex-col gap-4 overflow-hidden rounded-3xl border border-white/10 bg-white/10 shadow-[0_20px_40px_rgba(15,23,42,0.45)] backdrop-blur transition hover:-translate-y-1 hover:border-white/20",children:[m.featuredImage&&i.jsx("div",{className:"aspect-video w-full overflow-hidden bg-slate-900",children:i.jsx("img",{src:m.featuredImage,alt:m.businessName,className:"h-full w-full object-cover"})}),i.jsxs("div",{className:"flex flex-col gap-4 px-6 pb-6 pt-6",children:[i.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-rose-200",children:il[m.category]||m.category}),i.jsx("h3",{className:"mt-2 text-2xl font-black text-white",children:m.businessName})]}),m.verified&&i.jsx("span",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-500/20 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-emerald-200",children:" Verified"})]}),i.jsx("p",{className:"text-sm leading-relaxed text-slate-200",children:m.description}),i.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/10 p-4 text-sm text-slate-200",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/40",children:"Contact"}),m.address&&i.jsx("p",{className:"mt-1 text-slate-100",children:m.address}),i.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-3 text-xs text-slate-200",children:[m.email&&i.jsx("a",{href:`mailto:${m.email}?subject=Pomi%20Business%20Directory%20Inquiry:%20${encodeURIComponent(m.businessName)}`,className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/10 px-3 py-1 font-semibold text-white transition hover:border-rose-300 hover:text-rose-100",children:" Email"}),m.phone&&i.jsxs("a",{href:`tel:${m.phone.replace(/[^\d]/g,"")}`,className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/10 px-3 py-1 font-semibold text-white transition hover:border-rose-300 hover:text-rose-100",children:[" ",m.phone]})]}),i.jsx("p",{className:"mt-3 text-xs text-white/50",children:"Listed businesses have verified their services with the Pomi admin team. Let us know if any details need an update."})]})]})]},m._id))}),!o&&!a&&p.length===0&&i.jsxs("div",{className:"rounded-3xl border border-white/10 bg-white/10 p-10 text-center text-sm text-slate-200",children:["No businesses in this category yet. Recommend one by emailing"," ",i.jsx("a",{href:`mailto:${oi}`,className:"font-semibold text-white underline decoration-rose-300/60 underline-offset-4",children:oi}),"."]})]})]})})]})}const Gr=[{id:"general",label:"Community Pulse",description:"Neighbourly updates, wins, and everyday check-ins.",badge:""},{id:"culture",label:"Culture & Celebrations",description:"Food, art, language, and holiday planning.",badge:""},{id:"business",label:"Marketplace & Business",description:"Buying, selling, services, and entrepreneurship.",badge:""},{id:"education",label:"Newcomers & Education",description:"Schooling, admissions, tutoring, and mentorship.",badge:""},{id:"technology",label:"Tech & Careers",description:"Job leads, interview prep, and technical help.",badge:""},{id:"events",label:"Events & Meetups",description:"Coordinate hangouts, volunteer drives, and tours.",badge:""},{id:"health",label:"Health & Wellness",description:"Mental health, family care, and support circles.",badge:""},{id:"other",label:"Open Topics",description:"Anything that doesnt fit neatly elsewhere.",badge:""}],dd={title:"",content:"",category:"general",tagsText:""},Gw=e=>{const t=new Date(e),n=new Date().getTime()-t.getTime(),s=Math.floor(n/1e3);if(s<60)return"just now";const o=Math.floor(s/60);if(o<60)return`${o}m ago`;const l=Math.floor(o/60);if(l<24)return`${l}h ago`;const a=Math.floor(l/24);return a<7?`${a}d ago`:t.toLocaleDateString("en-CA",{month:"short",day:"numeric"})};function Xw(){var se;const e=Dn(),t=Jr(),[r,n]=x.useState([]),[s,o]=x.useState(!0),[l,a]=x.useState(null),[c,u]=x.useState("all"),[d,f]=x.useState(""),[p,j]=x.useState(""),[m,w]=x.useState("top"),[N,g]=x.useState(!1),[h,y]=x.useState(dd),[k,C]=x.useState(null),[_,R]=x.useState(null),[b,O]=x.useState(!1),[D,H]=x.useState(!1),[Z,re]=x.useState(!1),le=x.useRef(e.search),Se=ie.isAuthenticated(),ue=!!((se=ie.getUserData())!=null&&se.isAdmin);x.useEffect(()=>{ue&&t("/admin",{replace:!0})},[ue,t]),x.useEffect(()=>{if(Z&&e.search===le.current)return;const P=new URLSearchParams(e.search),U=P.get("community"),Q=P.get("search"),I=P.get("sort");U&&Gr.some(J=>J.id===U)?u(U):u("all"),Q!==null?(f(Q),j(Q)):(f(""),j("")),w(I==="new"?"new":"top"),le.current=e.search,re(!0)},[Z,e.search]),x.useEffect(()=>{if(!Z)return;const P=new URLSearchParams;c!=="all"&&P.set("community",c),p.trim()&&P.set("search",p.trim()),m==="new"&&P.set("sort","new");const U=P.toString(),Q=U?`?${U}`:"";Q!==le.current&&(le.current=Q,t({pathname:e.pathname,search:Q},{replace:!0}))},[c,p,m,Z,t,e.pathname]);const de=x.useCallback(async()=>{var P,U;o(!0),a(null);try{const Q=await Ye.get("/forums/posts",{params:{category:c!=="all"?c:void 0,search:p||void 0,limit:60}}),I=Array.isArray((P=Q.data)==null?void 0:P.data)?Q.data.data:Array.isArray(Q.data)?Q.data:((U=Q.data)==null?void 0:U.posts)||[];n(I)}catch(Q){a(Q.message||"Unable to load threads right now."),n([])}finally{o(!1),H(!1)}},[c,p]);x.useEffect(()=>{Z&&de()},[de,Z]);const A=x.useMemo(()=>{const P=c==="all"?r:r.filter(I=>I.category===c),Q=[...p?P.filter(I=>I.title.toLowerCase().includes(p.toLowerCase())||I.content.toLowerCase().includes(p.toLowerCase())):P];return m==="top"?Q.sort((I,J)=>{const he=(I.repliesCount||0)*2+(I.viewsCount||0),ye=(J.repliesCount||0)*2+(J.viewsCount||0);return ye===he?new Date(J.createdAt).getTime()-new Date(I.createdAt).getTime():ye-he}):Q.sort((I,J)=>new Date(J.createdAt).getTime()-new Date(I.createdAt).getTime()),Q},[r,c,p,m]),B=x.useMemo(()=>{const P=r.reduce((U,Q)=>U.set(Q.category,(U.get(Q.category)||0)+1),new Map);return Gr.map(U=>({...U,total:P.get(U.id)||0})).sort((U,Q)=>Q.total-U.total).slice(0,4)},[r]),V=x.useMemo(()=>c==="all"?[]:r.filter(U=>U.category===c).sort((U,Q)=>(Q.upvotes||0)-(U.upvotes||0)).slice(0,5),[r,c]),T=x.useMemo(()=>{var Q;const P=[];if(c!=="all"){const I=((Q=Gr.find(J=>J.id===c))==null?void 0:Q.label)??"Community filter";P.push(I)}const U=p.trim();return U&&P.push(`Search: ${U}`),m==="new"&&P.push("Newest first"),P},[c,p,m]),q=P=>{P.preventDefault(),j(d.trim())},K=()=>{u("all"),f(""),j(""),w("top"),H(!0),de()},ee=async P=>{if(P.preventDefault(),!Se){C("Please log in to share a thread with the community.");return}if(!h.title.trim()||!h.content.trim()){C("Title and message are required.");return}O(!0),C(null),R(null);try{const U=h.tagsText.split(",").map(Q=>Q.trim()).filter(Boolean);await Ye.post("/forums/posts",{title:h.title.trim(),content:h.content.trim(),category:h.category,tags:U}),R("Thread published! Thanks for sharing with neighbours."),y(dd),g(!1),H(!0),await de()}catch(U){C(U.message||"Failed to publish thread.")}finally{O(!1)}},Fe=()=>{H(!0),de()};return i.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100",children:[i.jsx("header",{className:"border-b border-white/10 bg-slate-950/80 backdrop-blur",children:i.jsxs("div",{className:"mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-4 px-6 py-6",children:[i.jsx(Xt,{to:"/",className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-4 py-2 text-sm font-semibold text-white/80 transition hover:border-white/30 hover:text-white",children:" Home"}),i.jsxs("div",{className:"flex flex-col items-end gap-2 text-right",children:[i.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/60",children:"Pomi Forums"}),i.jsx("h1",{className:"text-xl font-black text-white md:text-2xl",children:"Crowd wisdom for every stage of the newcomer journey"})]})]})}),i.jsxs("main",{className:"mx-auto grid max-w-6xl gap-8 px-6 py-12 lg:grid-cols-[2fr,1fr]",children:[i.jsxs("section",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4 rounded-[32px] border border-white/10 bg-white/10 p-8 shadow-[0_30px_60px_rgba(15,23,42,0.45)] backdrop-blur",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/10 px-3 py-1 text-xs font-semibold uppercase tracking-[0.3em] text-rose-200",children:"Powered by the community"}),i.jsx("h2",{className:"text-3xl font-black text-white md:text-4xl",children:"Ask questions, swap tips, and celebrate wins together."}),i.jsx("p",{className:"text-sm text-slate-200 md:text-base",children:"Pick a community, share an update, and help the next neighbour in line. Inspired by Reddits best practicesbut rooted in Ottawas Habesha community."})]}),i.jsxs("div",{className:"flex flex-col gap-3 text-right text-sm text-white/70",children:[i.jsxs("p",{children:[r.length," ",r.length===1?"active thread":"active threads"]}),i.jsx("button",{onClick:()=>g(!0),className:"inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-red-500 via-rose-500 to-orange-500 px-4 py-2 text-sm font-semibold text-white shadow-lg shadow-rose-500/40 transition hover:-translate-y-0.5",children:" Start a thread"})]})]}),i.jsxs("form",{onSubmit:q,className:"flex flex-wrap items-center gap-3",children:[i.jsxs("div",{className:"relative flex-1 min-w-[220px]",children:[i.jsx("input",{value:d,onChange:P=>f(P.target.value),placeholder:"Search threads (housing, job tips, events...)",className:"w-full rounded-2xl border border-white/15 bg-white/90 px-5 py-3 text-sm text-slate-900 placeholder:text-slate-500 focus:border-rose-300 focus:outline-none focus:ring-2 focus:ring-rose-200/40"}),i.jsx("span",{className:"pointer-events-none absolute right-4 top-1/2 -translate-y-1/2 text-lg text-slate-400",children:""})]}),i.jsx("button",{type:"submit",className:"rounded-2xl border border-white/20 px-4 py-2 text-sm font-semibold text-white/80 transition hover:border-white/40 hover:text-white",children:"Search"}),i.jsx("button",{type:"button",onClick:K,className:"rounded-2xl border border-transparent px-4 py-2 text-sm font-semibold text-white/70 transition hover:text-white",children:"Reset"}),i.jsx("button",{type:"button",onClick:Fe,className:"rounded-2xl border border-white/15 px-4 py-2 text-sm font-semibold text-white/70 transition hover:border-white/40 hover:text-white",children:D?"Refreshing":"Refresh"})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("button",{onClick:()=>u("all"),className:`rounded-full px-4 py-2 text-sm font-semibold transition ${c==="all"?"bg-gradient-to-r from-red-500 via-rose-500 to-orange-500 text-white shadow-lg shadow-rose-500/40":"border border-white/15 bg-white/5 text-white/70 hover:border-white/40 hover:text-white"}`,children:"All communities"}),Gr.map(P=>i.jsxs("button",{onClick:()=>u(P.id),className:`rounded-full px-4 py-2 text-sm font-semibold transition ${c===P.id?"bg-white text-slate-900 shadow-lg shadow-white/30":"border border-white/15 bg-white/5 text-white/70 hover:border-white/40 hover:text-white"}`,children:[P.badge," ",P.label]},P.id))]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-white/60",children:[i.jsx("span",{children:"Sort by:"}),i.jsx("button",{onClick:()=>w("top"),className:`rounded-full px-3 py-1 font-semibold ${m==="top"?"bg-white/20 text-white":"border border-white/15 text-white/70 hover:border-white/30 hover:text-white"}`,children:"Trending"}),i.jsx("button",{onClick:()=>w("new"),className:`rounded-full px-3 py-1 font-semibold ${m==="new"?"bg-white/20 text-white":"border border-white/15 text-white/70 hover:border-white/30 hover:text-white"}`,children:"Newest"})]}),T.length>0&&i.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-white/70",children:[i.jsx("span",{children:"Active filters:"}),T.map(P=>i.jsx("span",{className:"rounded-full border border-white/20 bg-white/10 px-3 py-1 text-white",children:P},P)),i.jsx("button",{type:"button",onClick:K,className:"rounded-full border border-transparent px-3 py-1 font-semibold text-white/70 transition hover:text-white",children:"Clear all"})]})]}),!s&&!l&&i.jsxs("p",{className:"text-xs text-white/60",children:["Showing ",A.length," ",A.length===1?"thread":"threads"]}),s?i.jsx("div",{className:"rounded-3xl border border-white/10 bg-white/10 p-8 text-center text-sm text-white/70",children:"Loading the latest conversations"}):l?i.jsx("div",{className:"rounded-3xl border border-rose-300/40 bg-rose-500/10 p-8 text-center text-sm text-rose-100",children:l}):A.length===0?i.jsxs("div",{className:"rounded-3xl border border-white/10 bg-white/5 p-10 text-center text-white/70 shadow-lg shadow-slate-900/30 backdrop-blur",children:[i.jsx("p",{className:"text-lg font-semibold text-white",children:"No threads match these filters yet."}),i.jsx("p",{className:"mt-2 text-sm",children:"Try another community or be the first to start the conversation."}),i.jsx("button",{onClick:()=>g(!0),className:"mt-4 inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-red-500 via-rose-500 to-orange-500 px-5 py-2 text-sm font-semibold text-white shadow-lg shadow-rose-500/40 transition hover:-translate-y-0.5",children:" Share a thread"})]}):i.jsx("div",{className:"space-y-4",children:A.map(P=>{var U;return i.jsxs("article",{className:"rounded-3xl border border-white/10 bg-white/5 p-6 shadow-lg shadow-slate-900/40 backdrop-blur transition hover:-translate-y-1",children:[i.jsxs("header",{className:"flex flex-wrap items-center gap-3 text-xs text-white/60",children:[i.jsx("span",{className:"font-semibold text-white",children:((U=Gr.find(Q=>Q.id===P.category))==null?void 0:U.label)??"Community"}),i.jsx("span",{children:""}),i.jsx("span",{children:P.authorName||"Community member"}),i.jsx("span",{children:""}),i.jsx("span",{children:Gw(P.createdAt)})]}),i.jsxs(Xt,{to:`/forums/${P._id}`,className:"mt-3 block space-y-3",children:[i.jsx("h3",{className:"text-lg font-semibold text-white",children:P.title}),i.jsx("p",{className:"text-sm text-white/80 line-clamp-3",children:P.content})]}),i.jsxs("footer",{className:"mt-4 flex flex-wrap items-center gap-3 text-xs font-semibold text-white/60",children:[i.jsxs("span",{children:[" ",P.repliesCount??0," replies"]}),i.jsxs("span",{children:[" ",P.viewsCount??0," views"]}),P.tags&&P.tags.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2",children:P.tags.slice(0,3).map(Q=>i.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/15 px-3 py-1",children:["#",Q]},Q))}),i.jsx(Xt,{to:`/forums/${P._id}`,className:"ml-auto inline-flex items-center gap-1 rounded-full border border-white/20 px-3 py-1 text-white/80 transition hover:border-white/40 hover:text-white",children:"View thread "})]})]},P._id)})})]}),i.jsxs("aside",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4 rounded-3xl border border-white/10 bg-white/5 p-6 text-sm text-white/70 shadow-lg shadow-slate-900/40 backdrop-blur",children:[i.jsx("h3",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/50",children:c==="all"?"Trending communities":"Trending threads"}),i.jsx("ul",{className:"space-y-3",children:c==="all"?B.map((P,U)=>i.jsxs("li",{className:"flex items-center justify-between gap-3 rounded-2xl border border-white/10 bg-white/5 px-3 py-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-lg font-bold text-white/50",children:U+1}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-semibold text-white",children:[P.badge," ",P.label]}),i.jsx("p",{className:"text-xs text-white/60",children:P.description})]})]}),i.jsxs("span",{className:"rounded-full border border-white/10 px-3 py-1 text-xs text-white/60",children:[P.total," threads"]})]},P.id)):V.length>0?V.map((P,U)=>i.jsx("li",{className:"cursor-pointer rounded-2xl border border-white/10 bg-white/5 px-3 py-2 hover:bg-white/10 transition",onClick:()=>t(`/forums/${P._id}`),children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-sm font-bold text-white/50",children:U+1}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-semibold text-white text-sm line-clamp-2",children:P.title}),i.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-white/60",children:[i.jsxs("span",{children:[" ",P.upvotes||0]}),i.jsxs("span",{children:[" ",P.repliesCount||0]})]})]})]})},P._id)):i.jsx("li",{className:"text-white/50 text-sm py-4 text-center",children:"No threads yet in this community"})})]}),i.jsxs("div",{className:"space-y-4 rounded-3xl border border-white/10 bg-white/5 p-6 text-sm text-white/70 shadow-lg shadow-slate-900/40 backdrop-blur",children:[i.jsx("h3",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/50",children:"Quick guidelines"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsx("li",{children:"Be kind and assume good intent."}),i.jsx("li",{children:"No spam or cold DMsprotect the community."}),i.jsx("li",{children:"Tag posts so the right neighbours can help."}),i.jsx("li",{children:"Report anything suspicious so admins can review."})]})]})]})]}),N&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 p-4 backdrop-blur",children:i.jsxs("div",{className:"relative w-full max-w-3xl rounded-[32px] border border-white/10 bg-white/95 p-8 text-slate-900 shadow-2xl",children:[i.jsx("button",{onClick:()=>g(!1),className:"absolute right-4 top-4 rounded-full bg-red-500 hover:bg-red-600 px-3 py-1 text-lg text-white font-bold transition shadow-lg shadow-red-500/50 ring-2 ring-red-200",children:""}),i.jsx("h3",{className:"text-2xl font-black text-slate-900",children:"Start a new thread"}),i.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Share advice, a question, or a celebration. Clear titles help others find it later."}),k&&i.jsx("div",{className:"mt-4 rounded-2xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700",children:k}),_&&i.jsx("div",{className:"mt-4 rounded-2xl border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm text-emerald-700",children:_}),i.jsxs("form",{onSubmit:ee,className:"mt-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Title"}),i.jsx("input",{value:h.title,onChange:P=>y(U=>({...U,title:P.target.value})),className:"mt-2 w-full rounded-2xl border border-slate-200 px-4 py-3 text-sm shadow-inner focus:border-red-400 focus:outline-none focus:ring-2 focus:ring-red-100",placeholder:"Share the key takeaway in one line",required:!0})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Community"}),i.jsx("select",{value:h.category,onChange:P=>y(U=>({...U,category:P.target.value})),className:"mt-2 w-full rounded-2xl border border-slate-200 px-4 py-3 text-sm shadow-inner focus:border-red-400 focus:outline-none focus:ring-2 focus:ring-red-100",children:Gr.map(P=>i.jsx("option",{value:P.id,children:P.label},P.id))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Tags (optional)"}),i.jsx("input",{value:h.tagsText,onChange:P=>y(U=>({...U,tagsText:P.target.value})),className:"mt-2 w-full rounded-2xl border border-slate-200 px-4 py-3 text-sm shadow-inner focus:border-red-400 focus:outline-none focus:ring-2 focus:ring-red-100",placeholder:"housing, job, meetup"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Message"}),i.jsx("textarea",{value:h.content,onChange:P=>y(U=>({...U,content:P.target.value})),rows:6,className:"mt-2 w-full rounded-2xl border border-slate-200 px-4 py-3 text-sm shadow-inner focus:border-red-400 focus:outline-none focus:ring-2 focus:ring-red-100",placeholder:"Include context, what you need, or advice to share.",required:!0})]}),i.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-3",children:[i.jsx("button",{type:"button",onClick:()=>g(!1),className:"rounded-2xl border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:border-slate-400 hover:text-slate-800",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:b,className:"rounded-2xl bg-gradient-to-r from-red-500 via-rose-500 to-orange-500 px-5 py-2 text-sm font-semibold text-white shadow-lg shadow-rose-500/40 transition hover:-translate-y-0.5 disabled:cursor-not-allowed disabled:opacity-60",children:b?"Publishing":"Publish thread"})]}),!Se&&i.jsx("p",{className:"text-xs text-rose-500",children:"You need an account to post. Sign in or register to join the conversation."})]})]})})]})}const hd=e=>{const t=new Date(e),n=new Date().getTime()-t.getTime(),s=Math.floor(n/1e3);if(s<60)return"just now";const o=Math.floor(s/60);if(o<60)return`${o}m ago`;const l=Math.floor(o/60);if(l<24)return`${l}h ago`;const a=Math.floor(l/24);return a<7?`${a}d ago`:t.toLocaleDateString("en-CA",{month:"short",day:"numeric"})},Zw=e=>{switch(e){case"general":return"Community Pulse";case"culture":return"Culture & Celebrations";case"business":return"Marketplace & Business";case"education":return"Newcomers & Education";case"technology":return"Tech & Careers";case"events":return"Events & Meetups";case"health":return"Health & Wellness";case"other":default:return"Open Topics"}};function ev(){const{postId:e}=B0(),t=Jr(),[r,n]=x.useState(null),[s,o]=x.useState([]),[l,a]=x.useState(!0),[c,u]=x.useState(!0),[d,f]=x.useState(null),[p,j]=x.useState(null),[m,w]=x.useState(""),[N,g]=x.useState(!1),h=ie.isAuthenticated(),y=x.useCallback(async()=>{var R,b;if(e){a(!0),f(null);try{const O=await Ye.get(`/forums/posts/${e}`),D=((R=O.data)==null?void 0:R.data)||((b=O.data)==null?void 0:b.post)||O.data;n(D)}catch(O){f(O.message||"Unable to load this thread."),n(null)}finally{a(!1)}}},[e]),k=x.useCallback(async()=>{var R,b;if(e){u(!0),j(null);try{const O=await Ye.get(`/forums/posts/${e}/replies`,{params:{limit:100}}),D=Array.isArray((R=O.data)==null?void 0:R.data)?O.data.data:Array.isArray(O.data)?O.data:((b=O.data)==null?void 0:b.replies)||[];o(D)}catch(O){j(O.message||"Unable to load replies right now."),o([])}finally{u(!1)}}},[e]);x.useEffect(()=>{y(),k()},[y,k]);const C=async R=>{if(R.preventDefault(),!!e){if(!h){j("Please log in to participate in the discussion.");return}if(!m.trim()){j("Share a quick note before posting.");return}g(!0),j(null);try{await Ye.post(`/forums/posts/${e}/replies`,{content:m.trim()}),w(""),await k()}catch(b){j(b.message||"Failed to send reply.")}finally{g(!1)}}},_=()=>{window.history.length>1?t(-1):t("/forums")};return i.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100",children:[i.jsx("header",{className:"border-b border-white/10 bg-slate-950/80 backdrop-blur",children:i.jsxs("div",{className:"mx-auto flex max-w-5xl items-center justify-between gap-4 px-6 py-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:_,className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-4 py-2 text-sm font-semibold text-white/80 transition hover:border-white/30 hover:text-white",children:" Back"}),i.jsx(Xt,{to:"/forums",className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-4 py-2 text-sm font-semibold text-white/80 transition hover:border-white/30 hover:text-white",children:"Forums home"})]}),i.jsx("div",{className:"text-right text-xs font-semibold uppercase tracking-[0.3em] text-white/60",children:"Pomi Forums"})]})}),i.jsxs("main",{className:"mx-auto flex max-w-5xl flex-col gap-8 px-6 py-10",children:[l?i.jsx("div",{className:"rounded-3xl border border-white/10 bg-white/10 p-10 text-center text-sm text-white/70",children:"Loading thread"}):d?i.jsx("div",{className:"rounded-3xl border border-rose-300/40 bg-rose-500/10 p-10 text-center text-sm text-rose-100",children:d}):r?i.jsxs("article",{className:"space-y-5 rounded-3xl border border-white/10 bg-white/5 p-6 text-white shadow-lg shadow-slate-900/40 backdrop-blur",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-white/60",children:[i.jsx("span",{className:"font-semibold text-white",children:Zw(r.category)}),i.jsx("span",{children:""}),i.jsx("span",{children:r.authorName||"Community member"}),i.jsx("span",{children:""}),i.jsx("span",{children:hd(r.createdAt)})]}),i.jsx("h1",{className:"text-3xl font-black text-white",children:r.title}),i.jsx("p",{className:"text-base text-white/90 whitespace-pre-line",children:r.content}),r.tags&&r.tags.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2 text-xs text-white/70",children:r.tags.map(R=>i.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/15 px-3 py-1",children:["#",R]},R))}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-white/60",children:[i.jsxs("span",{children:[" ",r.repliesCount??s.length," replies"]}),i.jsxs("span",{children:[" ",r.viewsCount??0," views"]})]})]}):null,i.jsxs("section",{className:"space-y-4 rounded-3xl border border-white/10 bg-white/5 p-6 shadow-lg shadow-slate-900/40 backdrop-blur",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsx("h2",{className:"text-lg font-semibold text-white",children:"Replies"}),i.jsxs("span",{className:"text-xs text-white/60",children:[s.length," contributed"]})]}),c?i.jsx("p",{className:"text-sm text-white/70",children:"Loading replies"}):s.length===0?i.jsx("p",{className:"text-sm text-white/70",children:"No replies yet. Be the first to nudge this conversation forward."}):i.jsx("ul",{className:"space-y-4",children:s.map(R=>i.jsxs("li",{className:"rounded-2xl border border-white/10 bg-white/5 p-4 text-sm text-white/80",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs text-white/50",children:[i.jsx("span",{children:R.authorName||"Community member"}),i.jsx("span",{children:hd(R.createdAt)})]}),i.jsx("p",{className:"mt-2 whitespace-pre-line",children:R.content})]},R._id))}),i.jsxs("form",{onSubmit:C,className:"space-y-3",children:[i.jsx("label",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/50",children:"Add your voice"}),i.jsx("textarea",{value:m,onChange:R=>w(R.target.value),rows:4,className:"w-full rounded-2xl border border-white/15 bg-white/90 px-4 py-3 text-sm text-slate-900 placeholder:text-slate-500 focus:border-rose-300 focus:outline-none focus:ring-2 focus:ring-rose-200/40",placeholder:h?"Share an insight, a resource, or encouragement":"Sign in to reply.",disabled:!h}),p&&i.jsx("div",{className:"rounded-2xl border border-rose-200 bg-rose-50 px-4 py-2 text-xs text-rose-700",children:p}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{type:"submit",disabled:!h||N,className:"rounded-2xl bg-gradient-to-r from-red-500 via-rose-500 to-orange-500 px-4 py-2 text-sm font-semibold text-white shadow-lg shadow-rose-500/40 transition hover:-translate-y-0.5 disabled:cursor-not-allowed disabled:opacity-60",children:N?"Posting":"Post reply"})}),!h&&i.jsx("p",{className:"text-xs text-white/60",children:"You need to sign in to join the discussion."})]})]}),i.jsxs("div",{className:"text-center text-sm text-white/70",children:["Looking for more?"," ",i.jsx(Xt,{to:"/forums",className:"font-semibold text-white underline decoration-rose-300/60",children:"Return to the forum feed"})]})]})]})}const tv=[{value:"retail",label:"Retail & Shopping"},{value:"restaurant",label:"Food & Hospitality"},{value:"services",label:"Services"},{value:"healthcare",label:"Healthcare"},{value:"education",label:"Education"},{value:"technology",label:"Technology"},{value:"finance",label:"Finance"},{value:"entertainment",label:"Entertainment"},{value:"other",label:"Other"}];function rv({onSuccess:e,onCancel:t}){const[r,n]=x.useState(!1),[s,o]=x.useState(null),[l,a]=x.useState(null),[c,u]=x.useState(null),[d,f]=x.useState({businessName:"",description:"",category:"retail",phone:"",email:"",address:""}),[p,j]=x.useState([]),[m,w]=x.useState([]),N=x.useRef(null);ie.getToken();const g="w-full rounded-lg border border-white/25 bg-white text-gray-900 placeholder:text-gray-500 px-4 py-2 text-sm shadow-inner focus:border-rose-400 focus:outline-none focus:ring-2 focus:ring-rose-100",h=b=>{const{name:O,value:D}=b.target;f(H=>({...H,[O]:D}))},y=b=>{const O=Array.from(b.target.files||[]);j(D=>[...D,...O]),O.forEach(D=>{const H=new FileReader;H.onload=Z=>{var le;const re=(le=Z.target)==null?void 0:le.result;re&&w(Se=>[...Se,re])},H.readAsDataURL(D)})},k=b=>{j(O=>O.filter((D,H)=>H!==b)),w(O=>O.filter((D,H)=>H!==b))},C=async b=>{var O,D;b.preventDefault(),o(null),a(null),n(!0);try{const Z=(await Ye.post("/businesses",{...d})).data.business._id;u(Z),f({businessName:"",description:"",category:"retail",phone:"",email:"",address:""}),p.length>0?await _(Z):a(`Business "${d.businessName}" created successfully! Click "Publish Now" to make it visible in the directory.`)}catch(H){o(((D=(O=H.response)==null?void 0:O.data)==null?void 0:D.error)||"Failed to create business")}finally{n(!1)}},_=async b=>{var O,D;try{const H=new FormData;p.forEach(Z=>{H.append("images",Z)}),await Ye.post(`/businesses/${b}/images`,H,{headers:{"Content-Type":"multipart/form-data"}}),a('Business created and images uploaded successfully! Click "Publish Now" to make it visible in the directory.'),j([]),w([])}catch(H){o(((D=(O=H.response)==null?void 0:O.data)==null?void 0:D.error)||"Failed to upload images")}},R=async()=>{var b,O;if(c){n(!0);try{await Ye.put(`/businesses/${c}`,{status:"active"}),a("Business published successfully! It's now visible in the directory."),u(null),e&&setTimeout(e,2e3)}catch(D){o(((O=(b=D.response)==null?void 0:b.data)==null?void 0:O.error)||"Failed to publish business")}finally{n(!1)}}};return i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"rounded-3xl border border-white/10 bg-slate-900/50 p-8",children:[i.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Add New Business"}),s&&i.jsx("div",{className:"mb-6 rounded-2xl border border-rose-300/40 bg-rose-500/10 px-4 py-3 text-sm text-rose-100",children:s}),l&&c&&i.jsxs("div",{className:"mb-6 rounded-2xl border border-emerald-300/40 bg-emerald-500/10 px-4 py-4 text-sm text-emerald-100 space-y-3",children:[i.jsx("p",{children:l}),i.jsx("div",{className:"flex gap-2 pt-2",children:i.jsx("button",{type:"button",onClick:R,disabled:r,className:"rounded-lg bg-emerald-500 px-4 py-2 font-semibold text-white hover:bg-emerald-600 disabled:opacity-50 disabled:cursor-not-allowed transition",children:r?"Publishing...":" Publish Now"})})]}),l&&!c&&i.jsx("div",{className:"mb-6 rounded-2xl border border-emerald-300/40 bg-emerald-500/10 px-4 py-3 text-sm text-emerald-100",children:l}),i.jsxs("form",{onSubmit:C,className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Business Name *"}),i.jsx("input",{type:"text",name:"businessName",value:d.businessName,onChange:h,required:!0,className:g,placeholder:"e.g., Shega Caf & Bakery"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Category *"}),i.jsx("select",{name:"category",value:d.category,onChange:h,className:`${g} bg-white`,children:tv.map(b=>i.jsx("option",{value:b.value,className:"bg-slate-800 text-white",children:b.label},b.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Phone"}),i.jsx("input",{type:"tel",name:"phone",value:d.phone,onChange:h,className:g,placeholder:"(613) 555-0123"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Email"}),i.jsx("input",{type:"email",name:"email",value:d.email,onChange:h,className:g,placeholder:"contact@business.com"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Address"}),i.jsx("input",{type:"text",name:"address",value:d.address,onChange:h,className:g,placeholder:"123 Main St, Ottawa, ON"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Description *"}),i.jsx("textarea",{name:"description",value:d.description,onChange:h,required:!0,rows:4,className:`${g} min-h-[120px] resize-none`,placeholder:"Describe the business, products/services, and what makes it unique..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Business Photos"}),i.jsx("input",{ref:N,type:"file",multiple:!0,accept:"image/*",onChange:y,className:"hidden"}),i.jsxs("button",{type:"button",onClick:()=>{var b;return(b=N.current)==null?void 0:b.click()},className:"w-full rounded-lg border-2 border-dashed border-white/20 bg-white/5 px-4 py-8 text-center transition hover:border-white/40 hover:bg-white/10",children:[i.jsx("p",{className:"text-sm font-semibold text-white",children:"Click to upload or drag and drop"}),i.jsx("p",{className:"text-xs text-white/60",children:"PNG, JPG, or WebP (max 10MB each)"})]}),m.length>0&&i.jsx("div",{className:"mt-4 grid gap-4 sm:grid-cols-2 md:grid-cols-3",children:m.map((b,O)=>i.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden",children:[i.jsx("img",{src:b,alt:`Preview ${O+1}`,className:"h-full w-full object-cover"}),i.jsx("button",{type:"button",onClick:()=>k(O),className:"absolute top-2 right-2 rounded-full bg-rose-500 p-2 text-white hover:bg-rose-600",children:""})]},O))})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{type:"submit",disabled:r||!d.businessName||!d.description,className:"flex-1 rounded-lg bg-gradient-to-r from-red-500 via-rose-500 to-orange-500 px-6 py-3 font-semibold text-white hover:shadow-lg hover:shadow-rose-500/40 disabled:opacity-50 disabled:cursor-not-allowed transition",children:r?"Creating...":"Create Business"}),t&&i.jsx("button",{type:"button",onClick:t,className:"px-6 py-3 rounded-lg border border-white/15 text-white font-semibold hover:bg-white/10 transition",children:"Cancel"})]})]})]})})}const nv=[{value:"cultural",label:"Cultural"},{value:"social",label:"Social"},{value:"educational",label:"Educational"},{value:"business",label:"Business"},{value:"sports",label:"Sports"},{value:"faith",label:"Faith & Spirituality"},{value:"other",label:"Other"}];function sv({onSuccess:e,onCancel:t}){const[r,n]=x.useState(!1),[s,o]=x.useState(null),[l,a]=x.useState(null),[c,u]=x.useState({title:"",description:"",location:"",date:"",startTime:"",endTime:"",category:"cultural",maxAttendees:"",price:"",ticketLink:"",socialMediaLink:""}),d=p=>{const{name:j,value:m}=p.target;u(w=>({...w,[j]:m}))},f=async p=>{var j,m;p.preventDefault(),o(null),a(null),n(!0);try{if(!c.title||!c.description||!c.location||!c.date||!c.startTime||!c.endTime){o("All fields are required"),n(!1);return}if(c.title.length<3){o("Title must be at least 3 characters"),n(!1);return}if(c.description.length<10){o("Description must be at least 10 characters"),n(!1);return}if(c.location.length<3){o("Location must be at least 3 characters"),n(!1);return}const w=new Date(c.date),N=new Date;if(N.setHours(0,0,0,0),w<N){o("Event date must be in the future"),n(!1);return}const g=await Ye.post("/events",{...c,maxAttendees:c.maxAttendees?parseInt(c.maxAttendees):void 0,price:c.price?parseFloat(c.price):void 0});a("Event created successfully and published immediately!"),u({title:"",description:"",location:"",date:"",startTime:"",endTime:"",category:"cultural",maxAttendees:"",price:"",ticketLink:"",socialMediaLink:""}),e&&setTimeout(e,2e3)}catch(w){o(((m=(j=w.response)==null?void 0:j.data)==null?void 0:m.error)||w.message||"Failed to create event")}finally{n(!1)}};return i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"rounded-3xl border border-white/10 bg-slate-900/50 p-8",children:[i.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Create New Event"}),s&&i.jsx("div",{className:"mb-6 rounded-2xl border border-rose-300/40 bg-rose-500/10 px-4 py-3 text-sm text-rose-100",children:s}),l&&i.jsx("div",{className:"mb-6 rounded-2xl border border-emerald-300/40 bg-emerald-500/10 px-4 py-3 text-sm text-emerald-100",children:l}),i.jsxs("form",{onSubmit:f,className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Title *"}),i.jsx("input",{type:"text",name:"title",value:c.title,onChange:d,required:!0,className:"w-full rounded-lg border border-white/15 bg-white/5 px-4 py-2 text-white placeholder:text-white/40 focus:border-rose-300 focus:outline-none",placeholder:"e.g., Enkutatash Celebration 2025"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Category *"}),i.jsx("select",{name:"category",value:c.category,onChange:d,className:"w-full rounded-lg border border-white/15 bg-white/5 px-4 py-2 text-white focus:border-rose-300 focus:outline-none",children:nv.map(p=>i.jsx("option",{value:p.value,className:"bg-slate-800 text-white",children:p.label},p.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Date *"}),i.jsx("input",{type:"date",name:"date",value:c.date,onChange:d,required:!0,className:"w-full rounded-lg border border-white/15 bg-white/5 px-4 py-2 text-white focus:border-rose-300 focus:outline-none"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Location *"}),i.jsx("input",{type:"text",name:"location",value:c.location,onChange:d,required:!0,className:"w-full rounded-lg border border-white/15 bg-white/5 px-4 py-2 text-white placeholder:text-white/40 focus:border-rose-300 focus:outline-none",placeholder:"e.g., Parliament Hill, Ottawa"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Start Time *"}),i.jsx("input",{type:"time",name:"startTime",value:c.startTime,onChange:d,required:!0,className:"w-full rounded-lg border border-white/15 bg-white/5 px-4 py-2 text-white focus:border-rose-300 focus:outline-none"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"End Time *"}),i.jsx("input",{type:"time",name:"endTime",value:c.endTime,onChange:d,required:!0,className:"w-full rounded-lg border border-white/15 bg-white/5 px-4 py-2 text-white focus:border-rose-300 focus:outline-none"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Max Attendees"}),i.jsx("input",{type:"number",name:"maxAttendees",value:c.maxAttendees,onChange:d,className:"w-full rounded-lg border border-white/15 bg-white/5 px-4 py-2 text-white placeholder:text-white/40 focus:border-rose-300 focus:outline-none",placeholder:"Leave blank for unlimited",min:"1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Ticket Link"}),i.jsx("input",{type:"url",name:"ticketLink",value:c.ticketLink,onChange:d,className:"w-full rounded-lg border border-white/15 bg-white/5 px-4 py-2 text-white placeholder:text-white/40 focus:border-rose-300 focus:outline-none",placeholder:"https://example.com/tickets"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Social Media Link"}),i.jsx("input",{type:"url",name:"socialMediaLink",value:c.socialMediaLink,onChange:d,className:"w-full rounded-lg border border-white/15 bg-white/5 px-4 py-2 text-white placeholder:text-white/40 focus:border-rose-300 focus:outline-none",placeholder:"https://instagram.com/event or https://facebook.com/event"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Description *"}),i.jsx("textarea",{name:"description",value:c.description,onChange:d,required:!0,rows:4,className:"w-full rounded-lg border border-white/15 bg-white/5 px-4 py-2 text-white placeholder:text-white/40 focus:border-rose-300 focus:outline-none",placeholder:"Tell the community what this event is about..."})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{type:"submit",disabled:r,className:"flex-1 rounded-lg bg-gradient-to-r from-red-500 via-rose-500 to-orange-500 px-6 py-3 font-semibold text-white hover:shadow-lg hover:shadow-rose-500/40 disabled:opacity-50 disabled:cursor-not-allowed transition",children:r?"Creating...":"Create Event"}),t&&i.jsx("button",{type:"button",onClick:t,className:"px-6 py-3 rounded-lg border border-white/15 text-white font-semibold hover:bg-white/10 transition",children:"Cancel"})]})]})]})})}const fd=()=>({overview:null,events:null,businesses:null,listings:null,users:null,messages:null}),Xr=e=>e instanceof Error?e.message:typeof e=="string"?e:e&&typeof e=="object"&&"message"in e?String(e.message):"Unable to load this section. Please try again.",iv=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`msg-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,pd=e=>e.map(t=>{var r,n,s,o;return{id:((n=(r=t==null?void 0:t._id)==null?void 0:r.toString)==null?void 0:n.call(r))||(t==null?void 0:t.id)||iv(),recipientId:((o=(s=t==null?void 0:t.recipientId)==null?void 0:s.toString)==null?void 0:o.call(s))||(t==null?void 0:t.recipientId)||null,recipientName:(t==null?void 0:t.recipientName)||"Community member",content:(t==null?void 0:t.content)||"",createdAt:(t==null?void 0:t.createdAt)||new Date().toISOString()}}),ov=["draft","active","inactive"],Zr=e=>{if(!e)return"N/A";const t=typeof e=="string"?new Date(e):e;return Number.isNaN(t.getTime())?"N/A":t.toLocaleString("en-CA",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},lv=e=>e==null?"N/A":new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD"}).format(e),av=e=>{if(!e)return"Awaiting sync";const t=e instanceof Date?e:new Date(e);if(Number.isNaN(t.getTime()))return"Unknown";const r=Date.now()-t.getTime();if(r<6e4)return"Just now";if(r<36e5){const n=Math.floor(r/6e4);return`${n} minute${n===1?"":"s"} ago`}if(r<864e5){const n=Math.floor(r/36e5);return`${n} hour${n===1?"":"s"} ago`}return t.toLocaleString("en-CA",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})};function cv({token:e,onLogout:t,onBack:r}){const[n,s]=x.useState(null),[o,l]=x.useState([]),[a,c]=x.useState([]),[u,d]=x.useState([]),[f,p]=x.useState([]),[j,m]=x.useState([]),[w,N]=x.useState([]),[g,h]=x.useState(!0),[y,k]=x.useState(null),[C,_]=x.useState(fd()),[R,b]=x.useState(null),[O,D]=x.useState(null),[H,Z]=x.useState(null),[re,le]=x.useState(null),[Se,ue]=x.useState(!1),[de,A]=x.useState(!1),[B,V]=x.useState(!0),[T,q]=x.useState(!0),[K,ee]=x.useState(""),[Fe,se]=x.useState(!1),[P,U]=x.useState(null),[Q,I]=x.useState(!1),[J,he]=x.useState({recipientId:"",content:""}),[ye,Me]=x.useState(""),[Re,ze]=x.useState(null),[F,ne]=x.useState(!1),[Oe,rt]=x.useState(null),[Tr,bt]=x.useState(!1),ft=x.useMemo(()=>B?o.filter(v=>v.moderationStatus==="pending"):o,[o,B]),Be=x.useMemo(()=>T?a.filter(v=>v.moderationStatus==="pending"):a,[a,T]),S=async(v,$={})=>{const me=await fetch(`${ot}${v}`,{...$,headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`,...$.headers||{}}}),ce=await me.json().catch(()=>({}));if(!me.ok)throw new Error(ce.error||"Request failed");return ce},M=v=>{const $=v?`?search=${encodeURIComponent(v)}`:"";return S(`/admin/users${$}`)},W=()=>S("/admin/messages"),Y=()=>S("/admin/messages/inbox"),Ce=async()=>{var $,me;h(!0),k(null),b(null);const v=fd();try{const[ce,be,nt,jt,ae,st,jc]=await Promise.allSettled([S("/admin/overview"),S("/admin/events"),S("/admin/businesses"),S("/admin/marketplace"),M(),W(),Y()]);ce.status==="fulfilled"?s(ce.value.metrics):(s(null),v.overview=Xr(ce.reason)),be.status==="fulfilled"?l(be.value.events||[]):(l([]),v.events=Xr(be.reason)),nt.status==="fulfilled"?d(nt.value.businesses||[]):(d([]),v.businesses=Xr(nt.reason)),jt.status==="fulfilled"?c(jt.value.listings||[]):(c([]),v.listings=Xr(jt.reason)),ae.status==="fulfilled"?(p(ae.value.users||[]),U((($=ae.value.pagination)==null?void 0:$.total)??((me=ae.value.users)==null?void 0:me.length)??null),se(!1)):(p([]),U(null),v.users=Xr(ae.reason)),st.status==="fulfilled"?m(pd(st.value.data||[])):(m([]),v.messages=Xr(st.reason)),jc.status==="fulfilled"?N(jc.value.data||[]):N([]),rt(new Date);const Ap=Object.values(v).every(Op=>!!Op);k(Ap?"Failed to load admin data. Please try again.":null)}finally{_(v),h(!1)}},pt=async v=>{var me,ce;const $=v==null?void 0:v.trim();I(!0),_(be=>({...be,users:null}));try{const be=await M($);p(be.users||[]),U(((me=be.pagination)==null?void 0:me.total)??((ce=be.users)==null?void 0:ce.length)??null),se(!!$)}catch(be){_(nt=>({...nt,users:be.message||"Failed to load community members"}))}finally{I(!1)}},Fs=async v=>{v.preventDefault(),await pt(K)},Ms=async()=>{ee(""),await pt()},Bs=async()=>{try{const v=await W();m(pd(v.data||[])),_($=>({...$,messages:null}))}catch(v){_($=>({...$,messages:v.message||"Failed to load admin messages"}))}},yc=async v=>{if(v.preventDefault(),!J.recipientId||!J.content.trim()){ze({type:"error",message:"Select a recipient and write a message before sending."});return}ne(!0),ze(null);try{await S("/admin/messages",{method:"POST",body:JSON.stringify({recipientId:J.recipientId,content:J.content.trim()})}),ze({type:"success",message:"Message sent to the member."}),he({recipientId:"",content:""}),await Bs()}catch($){ze({type:"error",message:$.message||"Failed to send the message"})}finally{ne(!1)}},Sp=async v=>{if(v.preventDefault(),!ye.trim()){ze({type:"error",message:"Write a message before broadcasting to the community."});return}ne(!0),ze(null);try{await S("/admin/messages/broadcast",{method:"POST",body:JSON.stringify({content:ye.trim()})}),ze({type:"success",message:"Broadcast queued for all community members."}),Me(""),await Bs()}catch($){ze({type:"error",message:$.message||"Failed to broadcast the message"})}finally{ne(!1)}};x.useEffect(()=>{Ce()},[e]);const No=v=>{if(typeof document>"u")return;const $=document.getElementById(v);$&&$.scrollIntoView({behavior:"smooth",block:"start"})},Cp=()=>{try{bt(!0);const v={generatedAt:new Date().toISOString(),metrics:n,totals:{events:o.length,listings:a.length,businesses:u.length,members:P??f.length},queues:{pendingEvents:(n==null?void 0:n.pendingEvents)??0,pendingListings:(n==null?void 0:n.pendingListings)??0,pendingBusinesses:(n==null?void 0:n.pendingBusinesses)??0}},$=new Blob([JSON.stringify(v,null,2)],{type:"application/json"}),me=URL.createObjectURL($),ce=document.createElement("a");ce.href=me,ce.download=`pomi-admin-snapshot-${Date.now()}.json`,ce.click(),URL.revokeObjectURL(me),b("Snapshot downloaded successfully.")}catch(v){k((v==null?void 0:v.message)||"Failed to export snapshot")}finally{setTimeout(()=>bt(!1),400)}},Ep=()=>{A(!0),No("admin-events")},_p=()=>{ue(!0),No("admin-businesses")},wc=async(v,$)=>{D(v),k(null);try{const me=await S(`/admin/businesses/${v}/status`,{method:"PATCH",body:JSON.stringify($)});d(ce=>ce.map(be=>be.id===v?{...be,...me.business}:be)),b("Business details updated successfully.")}catch(me){k(me.message||"Failed to update business")}finally{D(null)}},vc=async(v,$)=>{var me;Z(v),k(null);try{const ce=o.find(ae=>ae.id===v),be=(ce==null?void 0:ce.moderationStatus)==="pending";let nt;$==="rejected"&&(nt=(me=window.prompt("Share a short note for the organiser? (optional)",""))==null?void 0:me.trim());const jt=await S(`/admin/events/${v}/status`,{method:"PATCH",body:JSON.stringify({status:$,rejectionReason:nt})});l(ae=>ae.map(st=>st.id===v?{...st,moderationStatus:$,rejectionReason:jt.event.rejectionReason??null,reviewedAt:jt.event.reviewedAt??new Date().toISOString()}:st)),b($==="approved"?"Event approved successfully.":"Event rejected successfully."),be&&s(ae=>ae&&{...ae,pendingEvents:Math.max(0,(ae.pendingEvents??0)-1)})}catch(ce){k(ce.message||"Failed to update event status")}finally{Z(null)}},bc=async(v,$)=>{var me;le(v),k(null);try{const ce=a.find(ae=>ae.id===v),be=(ce==null?void 0:ce.moderationStatus)==="pending";let nt;$==="rejected"&&(nt=(me=window.prompt("Share a short note for the seller? (optional)",""))==null?void 0:me.trim());const jt=await S(`/admin/marketplace/${v}/status`,{method:"PATCH",body:JSON.stringify({status:$,rejectionReason:nt})});c(ae=>ae.map(st=>st.id===v?{...st,moderationStatus:$,rejectionReason:jt.listing.rejectionReason??null,status:jt.listing.status??st.status}:st)),b($==="approved"?"Listing approved successfully.":"Listing rejected successfully."),be&&s(ae=>ae&&{...ae,pendingListings:Math.max(0,(ae.pendingListings??0)-1)})}catch(ce){k(ce.message||"Failed to update listing status")}finally{le(null)}},Tp=((n==null?void 0:n.pendingEvents)??0)+((n==null?void 0:n.pendingBusinesses)??0)+((n==null?void 0:n.pendingListings)??0),Rp=av(Oe),Pp=[{id:"admin-overview",label:"Overview"},{id:"admin-marketplace",label:"Marketplace"},{id:"admin-events",label:"Events"},{id:"admin-businesses",label:"Businesses"},{id:"admin-members",label:"Members"},{id:"admin-messaging",label:"Messaging"}],Dp=[{title:g?"Refreshing data":"Refresh console",description:"Pulls the newest approvals, messages, and metrics.",icon:"",action:Ce,disabled:g},{title:"New event review",description:"Open the composer to spotlight official gatherings.",icon:"",action:Ep},{title:"New business listing",description:"Guide entrepreneurs through the verification flow.",icon:"",action:_p},{title:Tr?"Exporting":"Export snapshot",description:"Download a JSON summary for reporting or audits.",icon:"",action:Cp,disabled:Tr}];return i.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100",children:[i.jsx("header",{className:"sticky top-0 z-30 border-b border-white/10 bg-slate-950/95 backdrop-blur supports-[backdrop-filter]:bg-slate-950/70",children:i.jsxs("div",{className:"mx-auto max-w-7xl space-y-6 px-6 py-6",children:[i.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/10 px-4 py-1 text-[11px] font-semibold uppercase tracking-[0.35em] text-white/70",children:"Pomi Admin  Private"}),i.jsx("h1",{className:"text-2xl font-black text-white md:text-3xl",children:"Community safety & marketplace intelligence"}),i.jsx("p",{className:"max-w-2xl text-sm text-white/70 md:text-base",children:"One dashboard to approve listings, issue announcements, and keep the Ottawa Habesha community curated. Every action is loggeduse the controls below to jump to the queues that need attention first."}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-white/60",children:[i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/15 px-3 py-1",children:[i.jsx("span",{className:"text-white/80",children:" Last sync:"})," ",Rp]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/15 px-3 py-1",children:[i.jsx("span",{className:"text-white/80",children:" Pending approvals:"})," ",Tp]})]})]}),i.jsxs("div",{className:"flex flex-shrink-0 flex-wrap items-center gap-3",children:[r&&i.jsx("button",{onClick:r,className:"inline-flex items-center gap-2 rounded-full border border-white/20 px-4 py-2 text-xs font-semibold text-white/80 transition hover:border-white/40 hover:text-white",children:" Back"}),i.jsx("button",{onClick:t,className:"inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-rose-500 via-red-500 to-orange-500 px-5 py-2 text-xs font-semibold text-white shadow-lg shadow-red-500/40 transition hover:-translate-y-0.5",children:"Log out"})]})]}),i.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:Dp.map(v=>i.jsxs("button",{onClick:v.action,disabled:v.disabled,className:"flex flex-col items-start rounded-3xl border border-white/10 bg-white/5 px-5 py-4 text-left shadow-lg shadow-slate-900/30 transition hover:-translate-y-1 hover:border-white/30 disabled:cursor-not-allowed disabled:opacity-70",children:[i.jsx("span",{className:"text-2xl",children:v.icon}),i.jsx("p",{className:"mt-3 text-sm font-semibold text-white",children:v.title}),i.jsx("p",{className:"mt-1 text-xs text-white/70",children:v.description})]},v.title))})]})}),i.jsx("div",{className:"border-b border-white/10 bg-slate-950/90 backdrop-blur",children:i.jsxs("div",{className:"mx-auto flex max-w-7xl flex-wrap items-center justify-between gap-4 px-6 py-4",children:[i.jsx("nav",{className:"flex flex-wrap gap-2 text-xs font-semibold uppercase tracking-wide text-white/60",children:Pp.map(v=>i.jsx("button",{onClick:()=>No(v.id),className:"rounded-full border border-white/15 px-3 py-1 text-white/70 transition hover:border-white/40 hover:text-white",children:v.label},v.id))}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-white/60",children:[i.jsxs("span",{className:"rounded-full border border-white/15 px-3 py-1",children:["Events queue: ",(n==null?void 0:n.pendingEvents)??0]}),i.jsxs("span",{className:"rounded-full border border-white/15 px-3 py-1",children:["Listings queue: ",(n==null?void 0:n.pendingListings)??0]}),i.jsxs("span",{className:"rounded-full border border-white/15 px-3 py-1",children:["Businesses queue: ",(n==null?void 0:n.pendingBusinesses)??0]})]})]})}),i.jsxs("main",{className:"mx-auto max-w-7xl space-y-12 px-6 py-10",children:[g&&i.jsxs("div",{className:"py-24 text-center text-white/70",children:[i.jsx("div",{className:"mb-6 text-5xl animate-spin",children:""}),"Loading the latest metrics"]}),!g&&y&&i.jsx("div",{className:"rounded-3xl border border-red-200 bg-red-50/90 px-6 py-4 text-sm font-semibold text-red-700 shadow-lg shadow-red-500/30",children:y}),!g&&!y&&i.jsxs("div",{className:"space-y-12",children:[i.jsxs("section",{id:"admin-overview",children:[i.jsx("div",{className:"mb-6 flex flex-wrap items-center justify-between gap-4",children:i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-black text-white",children:"Executive snapshot"}),i.jsx("p",{className:"text-sm text-white/60",children:"Key health metrics across the marketplace, events, and business directory."})]})}),R&&i.jsx("div",{className:"mb-4 rounded-3xl border border-emerald-300/40 bg-emerald-500/10 px-6 py-4 text-sm font-semibold text-emerald-200 shadow-lg shadow-emerald-900/30 backdrop-blur",children:R}),C.overview?i.jsx("div",{className:"rounded-3xl border border-rose-300/40 bg-rose-500/10 px-6 py-4 text-sm text-rose-100",children:C.overview}):i.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-7",children:[i.jsx(Rr,{title:"Community Members",value:(n==null?void 0:n.totalUsers)??0,icon:"",accent:"from-red-500 to-orange-500"}),i.jsx(Rr,{title:"Active Events",value:(n==null?void 0:n.totalEvents)??0,icon:"",accent:"from-orange-500 to-amber-500"}),i.jsx(Rr,{title:"Business Listings",value:(n==null?void 0:n.totalBusinesses)??0,icon:"",accent:"from-amber-500 to-yellow-500"}),i.jsx(Rr,{title:"Total RSVPs",value:(n==null?void 0:n.totalRegistrations)??0,icon:"",accent:"from-emerald-500 to-teal-500"}),i.jsx(Rr,{title:"Pending Businesses",value:(n==null?void 0:n.pendingBusinesses)??0,icon:"",accent:"from-blue-500 to-indigo-500"}),i.jsx(Rr,{title:"Pending Events",value:(n==null?void 0:n.pendingEvents)??0,icon:"",accent:"from-purple-500 to-violet-500"}),i.jsx(Rr,{title:"Pending Listings",value:(n==null?void 0:n.pendingListings)??0,icon:"",accent:"from-fuchsia-500 to-pink-500"})]})]}),i.jsxs("section",{id:"admin-marketplace",className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"flex items-center gap-2 text-xl font-black text-white",children:[i.jsx("span",{className:"text-2xl",children:""})," Marketplace moderation"]}),i.jsx("p",{className:"text-sm text-white/60",children:"Approve community submissions before they appear in the marketplace feed."})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("label",{className:"inline-flex items-center gap-2 rounded-full border border-white/15 px-3 py-1 text-xs font-semibold text-white/70",children:[i.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-white/30 bg-transparent text-rose-400 focus:ring-rose-400",checked:T,onChange:()=>q(v=>!v)}),"Pending only"]}),i.jsx("span",{className:"rounded-full border border-white/15 px-3 py-1 text-xs font-semibold text-white/70",children:T?`${Be.length} pending`:`${a.length} submissions`})]})]}),C.listings?i.jsx("div",{className:"rounded-3xl border border-rose-300/40 bg-rose-500/10 px-6 py-4 text-sm text-rose-100",children:C.listings}):Be.length===0?i.jsx("div",{className:"rounded-3xl border border-white/10 bg-white/5 px-6 py-10 text-center text-white/70 shadow-lg shadow-slate-900/30 backdrop-blur",children:T&&a.length>0?"No pending marketplace submissions. Toggle the filter to review approved or rejected posts.":"No marketplace submissions yet. Encourage members to share their listings."}):i.jsx("div",{className:"grid gap-4",children:Be.map(v=>{const $=v.moderationStatus||"approved",me=$==="rejected",ce=$==="approved"?"Approved":$==="pending"?"Pending review":"Rejected",be=$==="approved"?"bg-emerald-500/15 text-emerald-200 border border-emerald-400/40":$==="pending"?"bg-amber-500/15 text-amber-200 border border-amber-400/40":"bg-rose-500/15 text-rose-200 border border-rose-400/40";return i.jsxs("article",{className:"rounded-3xl border border-white/10 bg-white/5 p-6 shadow-lg shadow-slate-900/40 backdrop-blur transition hover:-translate-y-1",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-xs text-white/70",children:[i.jsx("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 font-semibold uppercase tracking-wide ${be}`,children:ce}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[$!=="approved"&&i.jsx("button",{onClick:()=>bc(v.id,"approved"),disabled:re===v.id,className:"inline-flex items-center gap-2 rounded-full border border-emerald-300/40 bg-emerald-500/20 px-3 py-1 text-[11px] font-semibold text-emerald-100 hover:bg-emerald-500/30 disabled:cursor-not-allowed disabled:opacity-60",children:" Approve"}),$!=="rejected"&&i.jsx("button",{onClick:()=>bc(v.id,"rejected"),disabled:re===v.id,className:"inline-flex items-center gap-2 rounded-full border border-rose-300/40 bg-rose-500/10 px-3 py-1 text-[11px] font-semibold text-rose-100 hover:bg-rose-500/20 disabled:cursor-not-allowed disabled:opacity-60",children:" Reject"})]})]}),me&&v.rejectionReason&&i.jsxs("p",{className:"mt-3 rounded-2xl border border-rose-300/30 bg-rose-500/10 px-3 py-2 text-xs text-rose-100",children:["Rejection note: ",v.rejectionReason]}),i.jsxs("div",{className:"mt-4 grid gap-4 md:grid-cols-[1.2fr,1fr]",children:[i.jsxs("div",{className:"space-y-3 text-sm text-white/80",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-lg font-semibold text-white",children:v.title}),i.jsxs("p",{className:"text-sm text-white/60",children:[v.category.toUpperCase(),"  ",v.location]})]}),i.jsx("p",{className:"text-2xl font-black text-white",children:new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD",maximumFractionDigits:0}).format(v.price)}),i.jsxs("p",{className:"text-xs text-white/50",children:["Submitted ",Zr(v.createdAt)]})]}),i.jsxs("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-white/5 p-4 text-xs text-white/70",children:[i.jsx("p",{className:"font-semibold uppercase tracking-[0.3em] text-white/50",children:"Seller"}),v.seller?i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-white",children:v.seller.username||"Member"}),i.jsx("p",{children:v.seller.email||""}),i.jsx("p",{children:[v.seller.area,v.seller.workOrSchool].filter(Boolean).join("  ")||""})]}):i.jsx("p",{children:"No seller details available."})]})]})]},v.id)})})]}),i.jsxs("section",{id:"admin-events",className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"flex items-center gap-2 text-xl font-black text-white",children:[i.jsx("span",{className:"text-2xl",children:""})," Event registrations"]}),i.jsx("p",{className:"text-sm text-white/60",children:"Upcoming gatherings curated by the community team."})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>A(!de),className:"inline-flex items-center gap-2 rounded-full border border-rose-300/40 bg-rose-500/20 px-4 py-2 text-xs font-semibold text-rose-100 hover:bg-rose-500/30",children:de?" Cancel":"+ Create Event"}),i.jsxs("label",{className:"inline-flex items-center gap-2 rounded-full border border-white/15 px-3 py-1 text-xs font-semibold text-white/70",children:[i.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-white/30 bg-transparent text-rose-400 focus:ring-rose-400",checked:B,onChange:()=>V(v=>!v)}),"Pending only"]}),i.jsx("span",{className:"rounded-full border border-white/15 px-3 py-1 text-xs font-semibold text-white/70",children:B?`${ft.length} pending`:`${o.length} tracked`})]})]}),de&&i.jsx("div",{className:"rounded-3xl border border-white/10 bg-white/5 p-6 shadow-lg shadow-slate-900/40 backdrop-blur",children:i.jsx(sv,{onSuccess:()=>{A(!1),Ce()},onCancel:()=>A(!1)})}),C.events?i.jsx("div",{className:"rounded-3xl border border-rose-300/40 bg-rose-500/10 px-6 py-4 text-sm text-rose-100",children:C.events}):ft.length===0?i.jsx("div",{className:"rounded-3xl border border-white/10 bg-white/5 px-6 py-10 text-center text-white/70 shadow-lg shadow-slate-900/30 backdrop-blur",children:B&&o.length>0?"No pending events right now. Toggle the filter to review approved or rejected submissions.":"No events to review yet. Encourage organisers to submit upcoming meetups."}):i.jsx("div",{className:"grid gap-4",children:ft.map(v=>{var nt,jt;const $=v.moderationStatus||"approved",me=$==="rejected",ce=$==="approved"?"Approved":$==="pending"?"Pending review":"Rejected",be=$==="approved"?"bg-emerald-500/15 text-emerald-200 border border-emerald-400/40":$==="pending"?"bg-amber-500/15 text-amber-200 border border-amber-400/40":"bg-rose-500/15 text-rose-200 border border-rose-400/40";return i.jsxs("article",{className:"rounded-3xl border border-white/10 bg-white/5 p-6 shadow-lg shadow-slate-900/40 backdrop-blur transition hover:-translate-y-1",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-xs text-white/70",children:[i.jsx("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 font-semibold uppercase tracking-wide ${be}`,children:ce}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[$!=="approved"&&i.jsx("button",{onClick:()=>vc(v.id,"approved"),disabled:H===v.id,className:"inline-flex items-center gap-2 rounded-full border border-emerald-300/40 bg-emerald-500/20 px-3 py-1 text-[11px] font-semibold text-emerald-100 hover:bg-emerald-500/30 disabled:cursor-not-allowed disabled:opacity-60",children:" Approve"}),$!=="rejected"&&i.jsx("button",{onClick:()=>vc(v.id,"rejected"),disabled:H===v.id,className:"inline-flex items-center gap-2 rounded-full border border-rose-300/40 bg-rose-500/10 px-3 py-1 text-[11px] font-semibold text-rose-100 hover:bg-rose-500/20 disabled:cursor-not-allowed disabled:opacity-60",children:" Reject"})]})]}),me&&v.rejectionReason&&i.jsxs("p",{className:"mt-3 rounded-2xl border border-rose-300/30 bg-rose-500/10 px-3 py-2 text-xs text-rose-100",children:["Rejection note: ",v.rejectionReason]}),v.image&&i.jsx("div",{className:"mt-4 overflow-hidden rounded-2xl border border-white/10 bg-black/20",children:i.jsx("img",{src:v.image,alt:`${v.title} cover`,className:"h-56 w-full object-cover"})}),i.jsxs("div",{className:"mt-4 grid gap-6 lg:grid-cols-[1.2fr,1fr]",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("dl",{className:"grid gap-3 text-sm text-white/80",children:[i.jsxs("div",{children:[i.jsx("dt",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/50",children:"Title"}),i.jsx("dd",{className:"text-lg font-semibold text-white",children:v.title})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-white/60",children:[i.jsx("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/20 px-3 py-1",children:v.category.toUpperCase()}),i.jsx("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/20 px-3 py-1",children:Zr(v.date)}),i.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/20 px-3 py-1",children:[" ",v.location]})]}),(v.startTime||v.endTime||v.maxAttendees)&&i.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-white/70",children:[(v.startTime||v.endTime)&&i.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/20 px-3 py-1",children:[" ",v.startTime??"TBD",v.endTime?`  ${v.endTime}`:""]}),v.maxAttendees?i.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/20 px-3 py-1",children:[" Max ",v.maxAttendees]}):null]}),i.jsxs("div",{children:[i.jsx("dt",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/50",children:"Organiser"}),i.jsxs("dd",{className:"text-sm text-white/80",children:[((nt=v.organizerProfile)==null?void 0:nt.username)||v.organizer,((jt=v.organizerProfile)==null?void 0:jt.email)&&i.jsxs("span",{className:"text-white/50",children:[" "," ",v.organizerProfile.email]})]})]}),v.description&&i.jsxs("div",{children:[i.jsx("dt",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/50",children:"Description"}),i.jsx("dd",{className:"text-sm text-white/70 whitespace-pre-line",children:v.description})]})]}),v.tags&&v.tags.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2 text-[11px] text-white/60",children:v.tags.map(ae=>i.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/20 px-3 py-1 uppercase tracking-wide",children:["#",ae]},ae))})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-white/5 p-4 text-sm text-white/80",children:[i.jsxs("div",{className:"flex items-center justify-between text-white",children:[i.jsx("span",{children:"Pricing"}),i.jsx("span",{className:"font-semibold",children:v.isFree||!v.price&&v.price!==0?"Free":lv(v.price)})]}),typeof v.maxAttendees=="number"&&i.jsxs("div",{className:"flex items-center justify-between text-xs text-white/70",children:[i.jsx("span",{children:"Capacity"}),i.jsx("span",{children:v.maxAttendees})]}),v.ticketLink&&i.jsx("a",{href:v.ticketLink,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white/80 hover:border-emerald-300/60 hover:text-emerald-100",children:" Ticket link"}),v.socialMediaLink&&i.jsx("a",{href:v.socialMediaLink,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white/80 hover:border-sky-300/60 hover:text-sky-100",children:" Promo link"})]}),i.jsxs("div",{className:"space-y-4 rounded-2xl border border-white/10 bg-white/5 p-4",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm font-semibold text-white",children:[i.jsxs("span",{children:[v.attendeeCount," RSVP"]}),v.attendeeCount===0&&i.jsx("span",{className:"text-xs text-white/60",children:"Encourage more promotion"})]}),v.attendees.length>0?i.jsx("div",{className:"max-h-40 overflow-y-auto rounded-xl border border-white/10 bg-white/5",children:i.jsx("table",{className:"w-full text-left text-xs text-white/80",children:i.jsx("tbody",{children:v.attendees.map((ae,st)=>i.jsxs("tr",{className:"border-b border-white/10 last:border-b-0",children:[i.jsx("td",{className:"px-4 py-2 font-semibold text-white",children:ae.username||"Member"}),i.jsx("td",{className:"px-4 py-2 text-white/60",children:ae.email||""}),i.jsx("td",{className:"px-4 py-2 text-white/60",children:[ae.area,ae.workOrSchool].filter(Boolean).join("  ")||""})]},`${ae.id??st}`))})})}):i.jsx("p",{className:"text-xs text-white/60",children:"No RSVP data yet."})]})]})]})]},v.id)})})]}),i.jsxs("section",{id:"admin-businesses",className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"flex items-center gap-2 text-xl font-black text-white",children:[i.jsx("span",{className:"text-2xl",children:""})," Business directory management"]}),i.jsx("p",{className:"text-sm text-white/60",children:"Approve listings, verify ownership, and track traction."})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>ue(!Se),className:"inline-flex items-center gap-2 rounded-full border border-rose-300/40 bg-rose-500/20 px-4 py-2 text-xs font-semibold text-rose-100 hover:bg-rose-500/30",children:Se?" Cancel":"+ Add Business"}),i.jsxs("span",{className:"rounded-full border border-white/15 px-3 py-1 text-xs font-semibold text-white/70",children:[u.length," submissions"]})]})]}),Se&&i.jsx("div",{className:"rounded-3xl border border-white/10 bg-white/5 p-6 shadow-lg shadow-slate-900/40 backdrop-blur",children:i.jsx(rv,{onSuccess:()=>{ue(!1),Ce()},onCancel:()=>ue(!1)})}),C.businesses?i.jsx("div",{className:"rounded-3xl border border-rose-300/40 bg-rose-500/10 px-6 py-4 text-sm text-rose-100",children:C.businesses}):u.length===0?i.jsx("div",{className:"rounded-3xl border border-white/10 bg-white/5 px-6 py-10 text-center text-white/70 shadow-lg shadow-slate-900/30 backdrop-blur",children:"No business listings yet. They will appear here once submitted."}):i.jsx("div",{className:"grid gap-4",children:u.map(v=>i.jsx("article",{className:"rounded-3xl border border-white/10 bg-white/5 p-6 shadow-lg shadow-slate-900/40 backdrop-blur transition hover:-translate-y-1",children:i.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.2fr,1fr,1fr]",children:[i.jsxs("dl",{className:"space-y-3 text-sm text-white/80",children:[i.jsxs("div",{children:[i.jsx("dt",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/50",children:"Business name"}),i.jsx("dd",{className:"text-lg font-semibold text-white",children:v.businessName})]}),i.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-white/60",children:[i.jsx("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/20 px-3 py-1",children:v.category}),i.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/20 px-3 py-1",children:["Submitted ",Zr(v.createdAt||void 0)]})]}),v.owner&&i.jsxs("div",{children:[i.jsx("dt",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/50",children:"Owner"}),i.jsxs("dd",{className:"text-sm text-white/80",children:[v.owner.username,v.owner.email&&i.jsxs("span",{className:"text-white/50",children:["  ",v.owner.email]})]})]})]}),i.jsxs("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-white/5 p-4",children:[i.jsx("label",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/50",children:"Listing status"}),i.jsx("select",{value:v.status,onChange:$=>wc(v.id,{status:$.target.value}),disabled:O===v.id||g,className:"w-full rounded-xl border border-white/20 bg-slate-950/40 px-3 py-2 text-sm font-semibold text-white/80 focus:border-rose-400 focus:outline-none focus:ring-2 focus:ring-rose-400/30",children:ov.map($=>i.jsx("option",{value:$,children:$.charAt(0).toUpperCase()+$.slice(1)},$))})]}),i.jsxs("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-white/5 p-4",children:[i.jsx("label",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/50",children:"Verification"}),i.jsx("button",{onClick:()=>wc(v.id,{verified:!v.verified}),disabled:O===v.id||g,className:`w-full rounded-xl px-4 py-2 text-sm font-semibold transition ${v.verified?"bg-emerald-500/20 text-emerald-200 hover:bg-emerald-500/30":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:v.verified?"Verified":"Mark as verified"})]})]})},v.id))})]}),i.jsxs("section",{id:"admin-members",className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"flex items-center gap-2 text-xl font-black text-white",children:[i.jsx("span",{className:"text-2xl",children:""})," Community members"]}),i.jsx("p",{className:"text-sm text-white/60",children:"Manage and view all registered community members."})]}),i.jsx("span",{className:"rounded-full border border-white/15 px-3 py-1 text-xs font-semibold text-white/70",children:Fe?`${f.length} matching ${f.length===1?"member":"members"}`:P?`${f.length} of ${P} members`:`${f.length} members`})]}),i.jsxs("form",{onSubmit:Fs,className:"flex flex-wrap items-center gap-3",children:[i.jsx("input",{type:"search",value:K,onChange:v=>ee(v.target.value),placeholder:"Search by name, email, or area",className:"w-full max-w-sm rounded-2xl border border-white/15 bg-white/90 px-4 py-2 text-sm text-slate-900 placeholder:text-slate-500 focus:border-rose-300 focus:outline-none focus:ring-2 focus:ring-rose-200/40"}),i.jsx("button",{type:"submit",disabled:Q,className:"rounded-2xl border border-white/20 px-4 py-2 text-xs font-semibold text-white/80 transition hover:border-white/40 hover:text-white disabled:cursor-not-allowed disabled:opacity-60",children:Q?"Searching":"Search"}),i.jsx("button",{type:"button",disabled:Q||!Fe&&!K,onClick:()=>void Ms(),className:"rounded-2xl border border-white/20 px-4 py-2 text-xs font-semibold text-white/80 transition hover:border-white/40 hover:text-white disabled:cursor-not-allowed disabled:opacity-60",children:"Reset"})]}),C.users?i.jsx("div",{className:"rounded-3xl border border-rose-300/40 bg-rose-500/10 px-6 py-4 text-sm text-rose-100",children:C.users}):f.length===0?i.jsx("div",{className:"rounded-3xl border border-white/10 bg-white/5 px-6 py-10 text-center text-white/70 shadow-lg shadow-slate-900/30 backdrop-blur",children:Fe?"No members matched this search. Try another term or reset the filter.":"No community members yet."}):i.jsx("div",{className:"overflow-x-auto rounded-3xl border border-white/10 bg-white/5 shadow-lg shadow-slate-900/40 backdrop-blur",children:i.jsxs("table",{className:"w-full text-sm text-white/80",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-white/10",children:[i.jsx("th",{className:"px-6 py-4 text-left font-semibold text-white",children:"Username"}),i.jsx("th",{className:"px-6 py-4 text-left font-semibold text-white",children:"Email"}),i.jsx("th",{className:"px-6 py-4 text-left font-semibold text-white",children:"Area"}),i.jsx("th",{className:"px-6 py-4 text-left font-semibold text-white",children:"Work/School"}),i.jsx("th",{className:"px-6 py-4 text-left font-semibold text-white",children:"Status"}),i.jsx("th",{className:"px-6 py-4 text-left font-semibold text-white",children:"Joined"})]})}),i.jsx("tbody",{children:f.map((v,$)=>i.jsxs("tr",{className:`border-b border-white/10 last:border-b-0 ${$%2===0?"bg-white/2":""}`,children:[i.jsx("td",{className:"px-6 py-4 font-semibold text-white",children:v.username}),i.jsx("td",{className:"px-6 py-4",children:v.email}),i.jsx("td",{className:"px-6 py-4",children:v.area||""}),i.jsx("td",{className:"px-6 py-4",children:v.workOrSchool||""}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${v.isAdmin?"bg-purple-500/20 text-purple-200 border border-purple-400/40":"bg-emerald-500/20 text-emerald-200 border border-emerald-400/40"}`,children:v.isAdmin?" Admin":"Member"})}),i.jsx("td",{className:"px-6 py-4 text-white/60",children:Zr(v.joinedAt)})]},v.id))})]})})]}),i.jsxs("section",{id:"admin-messaging",className:"space-y-5",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"flex items-center gap-2 text-xl font-black text-white",children:[i.jsx("span",{className:"text-2xl",children:""})," Admin messaging"]}),i.jsx("p",{className:"text-sm text-white/60",children:"Send quick updates to members or broadcast announcements to the entire community."})]}),i.jsx("button",{onClick:()=>void Bs(),className:"inline-flex items-center gap-2 rounded-full border border-white/20 px-4 py-2 text-xs font-semibold text-white/80 transition hover:border-white/40 hover:text-white",children:" Refresh history"})]}),Re&&i.jsx("div",{className:`rounded-2xl border px-4 py-3 text-sm ${Re.type==="error"?"border-rose-300/40 bg-rose-500/10 text-rose-100":"border-emerald-300/40 bg-emerald-500/10 text-emerald-100"}`,children:Re.message}),C.messages&&i.jsx("div",{className:"rounded-2xl border border-rose-300/40 bg-rose-500/10 px-4 py-3 text-sm text-rose-100",children:C.messages}),i.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[i.jsxs("form",{onSubmit:yc,className:"space-y-4 rounded-3xl border border-white/10 bg-white/5 p-6 text-sm text-white/70 shadow-lg shadow-slate-900/40 backdrop-blur",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/50",children:"Direct message"}),i.jsx("p",{children:"Reach out to an individual member with guidance or reminders."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/50",children:"Recipient"}),i.jsxs("select",{value:J.recipientId,onChange:v=>he($=>({...$,recipientId:v.target.value})),disabled:F||f.length===0,className:"w-full rounded-2xl border border-white/20 bg-slate-950/40 px-3 py-2 text-sm font-semibold text-white/80 focus:border-rose-400 focus:outline-none focus:ring-2 focus:ring-rose-400/30 disabled:cursor-not-allowed disabled:opacity-60",children:[i.jsx("option",{value:"",children:"Select community member"}),f.map(v=>i.jsxs("option",{value:v.id,children:[v.username,"  ",v.email]},v.id))]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/50",children:"Message"}),i.jsx("textarea",{value:J.content,onChange:v=>he($=>({...$,content:v.target.value})),placeholder:"Share reminders, approvals, or follow-ups",rows:4,className:"w-full rounded-2xl border border-white/20 bg-white/90 px-4 py-3 text-sm text-slate-900 placeholder:text-slate-500 focus:border-rose-300 focus:outline-none focus:ring-2 focus:ring-rose-200/40"})]}),i.jsx("button",{type:"submit",disabled:F||f.length===0||!J.recipientId||!J.content.trim(),className:"w-full rounded-2xl bg-gradient-to-r from-red-500 via-rose-500 to-orange-500 px-4 py-2 text-sm font-semibold text-white shadow-lg shadow-rose-500/40 transition hover:-translate-y-0.5 disabled:cursor-not-allowed disabled:opacity-60",children:F?"Sending":"Send message"})]}),i.jsxs("form",{onSubmit:Sp,className:"space-y-4 rounded-3xl border border-white/10 bg-white/5 p-6 text-sm text-white/70 shadow-lg shadow-slate-900/40 backdrop-blur",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/50",children:"Broadcast update"}),i.jsx("p",{children:"Send a short announcement to every member inbox."})]}),i.jsx("textarea",{value:ye,onChange:v=>Me(v.target.value),placeholder:"Example: Marketplace maintenance tonight at 8pm",rows:6,className:"w-full rounded-2xl border border-white/20 bg-white/90 px-4 py-3 text-sm text-slate-900 placeholder:text-slate-500 focus:border-rose-300 focus:outline-none focus:ring-2 focus:ring-rose-200/40"}),i.jsx("button",{type:"submit",disabled:F||!ye.trim(),className:"w-full rounded-2xl border border-white/20 px-4 py-2 text-sm font-semibold text-white/80 transition hover:border-white/40 hover:text-white disabled:cursor-not-allowed disabled:opacity-60",children:F?"Broadcasting":"Broadcast to all members"})]})]}),i.jsxs("div",{className:"rounded-3xl border border-white/10 bg-white/5 p-6 shadow-lg shadow-slate-900/40 backdrop-blur",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsx("h4",{className:"text-lg font-semibold text-white",children:"Recent admin messages"}),i.jsxs("span",{className:"text-xs text-white/60",children:["Showing ",Math.min(j.length,8)," of ",j.length]})]}),j.length===0?i.jsx("p",{className:"mt-4 text-sm text-white/60",children:"No admin messages yet. Use the tools above to send your first update."}):i.jsx("ul",{className:"mt-4 space-y-3",children:j.slice(0,8).map(v=>i.jsxs("li",{className:"rounded-2xl border border-white/10 bg-white/5 p-3 text-white/80",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs text-white/60",children:[i.jsx("span",{children:v.recipientName||"Community member"}),i.jsx("span",{children:Zr(v.createdAt)})]}),i.jsx("p",{className:"mt-2 text-sm text-white/80",children:v.content})]},v.id))})]}),i.jsxs("div",{className:"rounded-3xl border border-white/10 bg-white/5 p-6 shadow-lg shadow-slate-900/40 backdrop-blur",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsx("h4",{className:"text-lg font-semibold text-white",children:"Messages from Users"}),i.jsxs("span",{className:"text-xs text-white/60",children:["Showing ",Math.min(w.length,8)," of ",w.length]})]}),w.length===0?i.jsx("p",{className:"mt-4 text-sm text-white/60",children:"No messages from users yet. Users can message you through their inbox."}):i.jsx("ul",{className:"mt-4 space-y-3",children:w.slice(0,8).map(v=>{var $;return i.jsxs("li",{className:"rounded-2xl border border-white/10 bg-white/5 p-3 text-white/80",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs text-white/60",children:[i.jsx("span",{children:(($=v.senderId)==null?void 0:$.username)||v.senderName||"Community member"}),i.jsx("span",{children:Zr(v.createdAt)})]}),i.jsx("p",{className:"mt-2 text-sm text-white/80",children:v.content}),!v.isRead&&i.jsx("span",{className:"mt-2 inline-block rounded-full bg-amber-500/20 px-2 py-1 text-xs font-semibold text-amber-300",children:"Unread"})]},v._id||v.id)})})]})]})]})]})]})}function Rr({title:e,value:t,icon:r,accent:n}){return i.jsxs("div",{className:`rounded-3xl border border-white/15 bg-gradient-to-br ${n} p-5 text-white shadow-lg shadow-slate-900/40`,children:[i.jsx("div",{className:"inline-flex h-12 w-12 items-center justify-center rounded-2xl bg-white/15 text-2xl",children:r}),i.jsx("p",{className:"mt-4 text-xs font-semibold uppercase tracking-[0.3em] text-white/70",children:e}),i.jsx("p",{className:"text-3xl font-black",children:t})]})}const uv="bg-gradient-to-br from-rose-50 via-white to-amber-50 text-slate-900 min-h-screen flex flex-col",Wn="support@pomi.community",Kn="adminAuthToken",en="adminUserData";function dv(){const[e,t]=x.useState(!1),[r,n]=x.useState(null),[s,o]=x.useState(null),[l,a]=x.useState(()=>typeof window>"u"?null:localStorage.getItem(Kn)),[c,u]=x.useState(()=>{if(typeof window>"u")return null;try{const C=localStorage.getItem(en);return C?JSON.parse(C):null}catch{return null}}),[d,f]=x.useState(!!(l&&(c!=null&&c.isAdmin))),[p,j]=x.useState({email:"",password:""}),m=x.useMemo(()=>l,[l]),w=[{icon:"",title:"Single credential control",body:"Only one admin identity is active at a time. Every action is traceable."},{icon:"",title:"Audit-ready logging",body:"Marketplace approvals, messages, and deletions are stored for compliance reviews."},{icon:"",title:"Operations handbook",body:"Credential rotation and escalation steps live in the internal handbook."},{icon:"",title:"Two-person integrity",body:"Credential resets require the community lead plus one core maintainer."}],N=["Always log out after moderating from a shared machine.","Rotate the admin password immediately after large campaigns or incidents.","Use the admin inbox to notify membersavoid personal email threads.",`Escalate suspicious access attempts to ${Wn}.`],g=[{step:"01",title:"Credential rotation",detail:"Planned quarterly. Emergency rotations can be triggered sooner."},{step:"02",title:"Marketplace audit",detail:"Weekly review of pending listings, businesses, and events."},{step:"03",title:"Comms sync",detail:"Broadcast safety or celebration notes via the admin messaging hub."}];x.useEffect(()=>{if(!l){u(null),f(!1);return}const C=new AbortController;return fetch(`${ot}/auth/me`,{headers:{Authorization:`Bearer ${l}`},signal:C.signal}).then(async _=>{var b;if(!_.ok)throw new Error("Session expired");const R=await _.json();u(R.user),f(!!((b=R.user)!=null&&b.isAdmin)),localStorage.setItem(en,JSON.stringify(R.user))}).catch(()=>{localStorage.removeItem(Kn),localStorage.removeItem(en),a(null),u(null),f(!1)}),()=>C.abort()},[l]);const h=()=>{n(null),o(null)},y=()=>{localStorage.removeItem(Kn),localStorage.removeItem(en),a(null),u(null),f(!1),o("You have been signed out of the admin console.")},k=async C=>{C.preventDefault(),h(),t(!0);try{const _=await ie.adminLogin({email:p.email.trim(),password:p.password});if(localStorage.setItem(Kn,_.token),localStorage.setItem(en,JSON.stringify(_.user)),a(_.token),u(_.user),!_.user.isAdmin){n("Access denied. Only the designated admin credential can open the console. Please contact the community lead if you need assistance."),localStorage.removeItem(Kn),localStorage.removeItem(en),a(null),u(null);return}f(!0),o("Welcome back! Launching the admin console")}catch(_){n(_.message||"Admin login failed. Confirm you are using the shared credential from the operations handbook.")}finally{t(!1)}};return d&&m?i.jsx(cv,{token:m,onBack:()=>{f(!1),o("Admin console closed. You can reopen it anytime.")},onLogout:y}):i.jsxs("div",{className:`${uv} relative overflow-hidden`,children:[i.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[i.jsx("div",{className:"absolute -left-12 top-6 h-60 w-60 rounded-full bg-rose-500/25 blur-3xl"}),i.jsx("div",{className:"absolute bottom-0 right-0 h-72 w-72 rounded-full bg-orange-500/15 blur-3xl"})]}),i.jsx("header",{className:"relative border-b border-slate-200/70 bg-white/80 backdrop-blur",children:i.jsxs("div",{className:"mx-auto flex max-w-6xl items-center justify-between gap-4 px-6 py-5 text-slate-900",children:[i.jsx(Xt,{to:"/",className:"inline-flex items-center gap-2 rounded-full border border-slate-200/70 bg-white px-4 py-2 text-sm font-semibold text-slate-700 transition hover:border-slate-300 hover:bg-white",children:" Back to Pomi"}),i.jsxs("div",{className:"text-xs text-slate-500",children:["Operations desk:"," ",i.jsx("a",{href:`mailto:${Wn}`,className:"font-semibold text-rose-600 underline decoration-rose-200 underline-offset-4",children:Wn})]})]})}),i.jsx("main",{className:"relative mx-auto flex-1 px-6 py-12 text-slate-900",children:i.jsxs("div",{className:"mx-auto grid w-full max-w-6xl gap-8 lg:grid-cols-[1.15fr,0.85fr]",children:[i.jsxs("section",{className:"space-y-8 rounded-[32px] border border-slate-200 bg-white/95 p-8 shadow-2xl",children:[i.jsxs("div",{children:[i.jsx("p",{className:"inline-flex items-center gap-2 rounded-full border border-rose-100 bg-rose-50 px-4 py-1 text-[11px] font-semibold uppercase tracking-[0.4em] text-rose-500",children:"Admin cockpit  Trusted access only"}),i.jsx("h1",{className:"mt-4 text-3xl font-black md:text-4xl",children:"Professional-grade console for Pomi operations."}),i.jsx("p",{className:"mt-3 text-sm text-slate-600 md:text-base",children:"Approvals, escalations, and community broadcasts are all handled within this secure interface. The credential is distributed via the operations handbook and rotates every quarteror sooner if a security incident occurs."})]}),i.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:w.map(C=>i.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 text-sm text-slate-600 shadow-lg shadow-slate-200",children:[i.jsx("div",{className:"text-2xl",children:C.icon}),i.jsx("p",{className:"mt-3 text-base font-semibold text-slate-900",children:C.title}),i.jsx("p",{className:"mt-2 text-xs leading-relaxed text-slate-600",children:C.body})]},C.title))}),i.jsxs("div",{className:"space-y-4 rounded-3xl border border-slate-200 bg-white p-6 shadow-lg shadow-slate-200",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.4em] text-slate-500",children:"Operations rhythm"}),i.jsx("div",{className:"space-y-4",children:g.map(C=>i.jsxs("div",{className:"flex gap-4 rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3",children:[i.jsx("div",{className:"text-2xl font-black text-slate-400",children:C.step}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:C.title}),i.jsx("p",{className:"text-xs text-slate-600",children:C.detail})]})]},C.step))})]})]}),i.jsxs("section",{className:"space-y-6",children:[i.jsxs("div",{className:"rounded-[32px] border border-white/10 bg-white/95 p-8 text-slate-900 shadow-2xl",children:[i.jsxs("div",{className:"space-y-1 text-center",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.4em] text-slate-500",children:"Secure login"}),i.jsx("h2",{className:"text-2xl font-black text-slate-900",children:"Unlock the admin console"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Use the credential from the operations handbook. Sessions automatically expire after inactivity."})]}),r&&i.jsx("div",{className:"mt-4 rounded-2xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700",children:r}),s&&i.jsx("div",{className:"mt-4 rounded-2xl border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm text-emerald-700",children:s}),i.jsxs("form",{onSubmit:k,className:"mt-6 space-y-5",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-slate-500",children:"Admin email"}),i.jsx("input",{type:"email",autoComplete:"username",required:!0,value:p.email,onChange:C=>j(_=>({..._,email:C.target.value})),placeholder:"admin@pomi.community",className:"mt-2 w-full rounded-2xl border border-slate-200 px-4 py-3 text-sm shadow-inner focus:border-rose-400 focus:outline-none focus:ring-2 focus:ring-rose-100"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-slate-500",children:"Password"}),i.jsx("input",{type:"password",autoComplete:"current-password",required:!0,value:p.password,onChange:C=>j(_=>({..._,password:C.target.value})),placeholder:"Enter admin password",className:"mt-2 w-full rounded-2xl border border-slate-200 px-4 py-3 text-sm shadow-inner focus:border-rose-400 focus:outline-none focus:ring-2 focus:ring-rose-100"})]}),i.jsx("button",{type:"submit",disabled:e,className:"w-full rounded-2xl bg-gradient-to-r from-red-500 via-rose-500 to-orange-500 px-6 py-3 text-sm font-semibold text-white shadow-lg shadow-rose-500/40 transition hover:-translate-y-0.5 disabled:cursor-not-allowed disabled:opacity-60",children:e?"Signing in":"Access admin console"}),i.jsxs("p",{className:"text-center text-xs text-slate-500",children:["Problems signing in? Email"," ",i.jsx("a",{href:`mailto:${Wn}`,className:"font-semibold text-rose-500 underline decoration-rose-200 underline-offset-4",children:Wn})]})]})]}),i.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white/95 p-6 shadow-xl",children:[i.jsx("h3",{className:"text-sm font-semibold uppercase tracking-[0.3em] text-slate-600",children:"Security reminders"}),i.jsx("ul",{className:"mt-4 space-y-3 text-sm text-slate-600",children:N.map(C=>i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"text-lg",children:""}),i.jsx("span",{children:C})]},C))})]})]})]})})]})}const hv=e=>e.map(t=>({...t,status:"sent"})),fv=e=>e==null?"":new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD"}).format(e),md=e=>{if(!e)return"";const t=typeof e=="string"?new Date(e):e;if(!t||Number.isNaN(t.getTime()))return"";const r=Date.now()-t.getTime();return r<6e4?"just now":r<36e5?`${Math.floor(r/6e4)}m ago`:r<864e5?`${Math.floor(r/36e5)}h ago`:t.toLocaleDateString(void 0,{month:"short",day:"numeric"})};function pv({currentUserId:e,currentUserName:t}){var Q;const[r,n]=x.useState([]),[s,o]=x.useState(""),[l,a]=x.useState(null),[c,u]=x.useState([]),[d,f]=x.useState(""),[p,j]=x.useState(!1),[m,w]=x.useState(""),[N,g]=x.useState(!1),[h,y]=x.useState(new Set),[k,C]=x.useState(!0),[_,R]=x.useState(""),[b,O]=x.useState(null),[D,H]=x.useState(null),[Z,re]=x.useState(!1),[le,Se]=x.useState(""),ue=x.useRef(null),de=x.useRef(),A=x.useRef(null),B=x.useMemo(()=>{const I=s.trim().toLowerCase();return I?r.filter(J=>{var Me,Re;const he=((Me=J.userName)==null?void 0:Me.toLowerCase())||"",ye=((Re=J.lastMessage)==null?void 0:Re.toLowerCase())||"";return he.includes(I)||ye.includes(I)}):r},[s,r]),V=x.useCallback(async()=>{try{C(!0);const I=await Ye.get("/messages");n(I.data.data),R("")}catch(I){console.error("Failed to fetch conversations:",I),R("Failed to load conversations")}finally{C(!1)}},[]),T=x.useCallback(async(I,J)=>{try{re(!0),Se(""),H({conversationId:J,listingId:I});const he=await Ye.get(`/marketplace/listings/${I}`);if(A.current!==J)return;O(he.data.data)}catch(he){console.error("Failed to fetch listing details:",he),A.current===J&&(Se("Unable to load listing details right now"),O(null),H(null))}finally{A.current===J&&re(!1)}},[]);x.useEffect(()=>{we.connect(e);const I=F=>{const ne=F==null?void 0:F.senderId,Oe=(F==null?void 0:F.timestamp)||new Date().toISOString(),rt=!!l&&ne===(l==null?void 0:l.userId);if(rt&&ne&&l){const bt=l.userName;u(ft=>{const Be=((F==null?void 0:F._id)||(F==null?void 0:F.id)||fa()).toString(),S=(F==null?void 0:F.clientMessageId)||null;return ft.some(W=>W._id===Be||!!S&&W.clientMessageId===S)?ft:[...ft,{_id:Be,clientMessageId:S,senderId:ne,senderName:bt,content:(F==null?void 0:F.content)??"",createdAt:Oe,isRead:!0,listingId:F==null?void 0:F.listingId,status:"sent"}]})}let Tr=!1;n(bt=>{const ft=bt.some(Be=>Be.userId===ne);return Tr=ft,!ft||!ne?bt:bt.map(Be=>Be.userId===ne?{...Be,lastMessage:(F==null?void 0:F.content)??"",lastMessageTime:Oe,unreadCount:rt?0:Be.unreadCount+1,hasListing:Be.hasListing||!!(F!=null&&F.listingId),lastListingId:(F==null?void 0:F.listingId)||Be.lastListingId}:Be)}),Tr||V(),rt&&(F!=null&&F.listingId)&&l&&(!D||D.conversationId!==l.userId||D.listingId!==F.listingId)&&T(F.listingId,l.userId)},J=F=>{l&&F.userId===l.userId&&g(!0)},he=F=>{l&&F.userId===l.userId&&g(!1)},ye=F=>{F!=null&&F.userId&&y(ne=>new Set([...ne,F.userId]))},Me=F=>{F!=null&&F.userId&&y(ne=>{const Oe=new Set(ne);return Oe.delete(F.userId),Oe})},Re=F=>{!F||!Array.isArray(F.userIds)||y(new Set(F.userIds))},ze=F=>{F!=null&&F.clientMessageId&&(!l||F.recipientId!==l.userId||u(ne=>ne.map(Oe=>{var rt;return Oe.clientMessageId===F.clientMessageId?{...Oe,_id:(rt=(F==null?void 0:F._id)||Oe._id)==null?void 0:rt.toString(),createdAt:(F==null?void 0:F.timestamp)||Oe.createdAt,status:"sent"}:Oe})))};return we.on("message:receive",I),we.on("message:sent",ze),we.on("typing:start",J),we.on("typing:stop",he),we.on("user:online",ye),we.on("user:offline",Me),we.on("user:presence",Re),V(),()=>{we.off("message:receive",I),we.off("message:sent",ze),we.off("typing:start",J),we.off("typing:stop",he),we.off("user:online",ye),we.off("user:offline",Me),we.off("user:presence",Re),de.current&&clearTimeout(de.current)}},[l,e,V,T,D==null?void 0:D.conversationId,D==null?void 0:D.listingId]),x.useEffect(()=>{var I;(I=ue.current)==null||I.scrollIntoView({behavior:"smooth"})},[c]);const q=x.useCallback(async I=>{try{j(!0);const J=await Ye.get(`/messages/${I}`),he=hv(J.data.data);return u(he),w(""),he}catch(J){return console.error("Failed to fetch messages:",J),w("Failed to load messages"),null}finally{j(!1)}},[]),K=x.useCallback(()=>{if(!l)return null;const I=c.find(J=>!!J.listingId);return(I==null?void 0:I.listingId)||l.lastListingId||null},[c,l]),ee=async I=>{var ye;a(I),A.current=I.userId,f(""),g(!1),O(null),H(null),Se(""),re(!1);const J=await q(I.userId),he=((ye=J==null?void 0:J.find(Me=>!!Me.listingId))==null?void 0:ye.listingId)||I.lastListingId||null;he&&T(he,I.userId),n(Me=>Me.map(Re=>Re.userId===I.userId?{...Re,unreadCount:0}:Re))},Fe=()=>{V()},se=async I=>{var ze;if(I.preventDefault(),!d.trim()||!l)return;const J=d.trim();w("");const he=K(),ye=fa(),Me=new Date().toISOString(),Re={_id:ye,clientMessageId:ye,senderId:e,senderName:t,content:J,createdAt:Me,isRead:!0,listingId:he||void 0,status:we.isConnected()?"sending":"sent"};u(F=>[...F,Re]);try{if(we.isConnected())we.sendMessage(l.userId,J,he||void 0,ye);else{const ne=(ze=(await Ye.post("/messages",{recipientId:l.userId,content:J,listingId:he||void 0,clientMessageId:ye})).data)==null?void 0:ze.data;ne!=null&&ne._id&&u(Oe=>Oe.map(rt=>rt.clientMessageId===ye?{...rt,_id:ne._id,createdAt:ne.createdAt,isRead:ne.isRead,status:"sent"}:rt))}f(""),n(F=>F.map(ne=>ne.userId===l.userId?{...ne,lastMessage:J,lastMessageTime:Me,hasListing:ne.hasListing||!!he,lastListingId:he||ne.lastListingId}:ne))}catch(F){console.error("Failed to send message:",F),w("Failed to send message"),u(ne=>ne.filter(Oe=>Oe.clientMessageId!==ye))}finally{l&&we.stopTyping(l.userId)}},P=I=>{const J=I.target.value;f(J),l&&(we.startTyping(l.userId),de.current&&clearTimeout(de.current),de.current=setTimeout(()=>{we.stopTyping(l.userId)},3e3))},U=l?h.has(l.userId):!1;return k&&r.length===0?i.jsx("div",{className:"flex flex-col items-center justify-center h-96 text-center",children:i.jsx("span",{className:"text-gray-400 text-sm",children:"Loading conversations..."})}):_&&r.length===0?i.jsx("div",{className:"flex flex-col items-center justify-center h-96 text-center",children:i.jsx("span",{className:"text-sm text-rose-500",children:_})}):r.length===0&&!p&&!_?i.jsxs("div",{className:"flex flex-col items-center justify-center h-96 text-center",children:[i.jsx("span",{className:"text-6xl mb-4",children:""}),i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No conversations yet"}),i.jsx("p",{className:"text-gray-500",children:"Start a conversation by messaging a seller or community member"})]}):i.jsxs("div",{className:"flex gap-6 h-[520px] lg:h-[600px] bg-white rounded-3xl border border-gray-100 shadow-xl",children:[i.jsxs("div",{className:"w-80 border-r border-gray-100 flex flex-col",children:[i.jsxs("div",{className:"p-4 border-b border-gray-100 space-y-3",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Messages"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Direct conversations"}),_&&i.jsx("p",{className:"mt-2 text-xs text-red-600",children:_})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-[11px] uppercase tracking-[0.3em] text-gray-400",children:"Search inbox"}),i.jsxs("div",{className:"mt-1 relative",children:[i.jsx("input",{value:s,onChange:I=>o(I.target.value),placeholder:"Find a neighbour or listing",className:"w-full rounded-2xl border border-gray-200 bg-gray-50 px-3 py-2 text-sm focus:border-rose-400 focus:outline-none focus:ring-2 focus:ring-rose-100"}),s&&i.jsx("button",{type:"button",onClick:()=>o(""),className:"absolute inset-y-0 right-0 px-3 text-xs text-gray-400 hover:text-gray-600",children:"Clear"})]})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[i.jsxs("span",{children:["Showing ",B.length," of ",r.length," chats"]}),i.jsx("button",{type:"button",onClick:Fe,className:"rounded-full border border-gray-200 px-3 py-1 text-[11px] font-semibold text-gray-600 hover:text-gray-900",children:"Refresh"})]})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto",children:[B.map(I=>i.jsx("button",{onClick:()=>void ee(I),className:`w-full p-4 border-b border-gray-50 text-left transition ${(l==null?void 0:l.userId)===I.userId?"bg-red-50 border-l-4 border-l-red-500":"hover:bg-gray-50"}`,children:i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"font-semibold text-gray-900 truncate",children:I.userName}),i.jsx("div",{className:`w-2 h-2 rounded-full ${h.has(I.userId)?"bg-emerald-500":"bg-gray-300"}`})]}),i.jsx("p",{className:"text-xs text-gray-500 line-clamp-1",children:I.lastMessage}),I.hasListing&&i.jsx("p",{className:"text-[11px] font-semibold text-amber-600",children:"Listing inquiry"}),i.jsx("p",{className:"text-[11px] text-gray-400 mt-1",children:md(I.lastMessageTime)})]}),i.jsxs("div",{className:"flex flex-col items-end gap-1",children:[I.unreadCount>0&&i.jsx("span",{className:"inline-flex items-center justify-center rounded-full bg-rose-50 px-2 py-0.5 text-xs font-semibold text-rose-600",children:I.unreadCount}),i.jsx("span",{className:"text-[10px] text-gray-400",children:I.lastMessageTime?new Date(I.lastMessageTime).toLocaleDateString():""})]})]})},I.userId)),!B.length&&i.jsx("div",{className:"p-6 text-center text-sm text-gray-400",children:s.trim()?`No conversations match ${s.trim()}.`:"Start a chat by messaging a listing or community member."})]})]}),i.jsx("div",{className:"flex-1 flex flex-col",children:l?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:l.userName}),i.jsxs("span",{className:`text-xs font-semibold ${U?"text-emerald-600":"text-gray-400"}`,children:[" ",U?"Online now":"Offline"]})]}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Last active ",md(l.lastMessageTime)]})]}),i.jsx("div",{className:"text-right",children:l.hasListing&&i.jsx("span",{className:"inline-flex items-center gap-1 rounded-full border border-amber-200 bg-amber-50 px-3 py-1 text-xs font-semibold text-amber-700",children:" Listing chat"})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[(D==null?void 0:D.conversationId)===l.userId&&i.jsx(i.Fragment,{children:Z?i.jsx("div",{className:"rounded-2xl border border-white/60 bg-white p-4 text-sm text-gray-500 shadow",children:"Loading listing details..."}):le?i.jsx("div",{className:"rounded-2xl border border-rose-200 bg-rose-50 p-4 text-xs text-rose-600 shadow",children:le}):b?i.jsxs("div",{className:"flex items-center gap-4 rounded-2xl border border-white/80 bg-white p-4 shadow",children:[(Q=b.images)!=null&&Q.length?i.jsx("img",{src:b.images[0],alt:b.title,className:"h-16 w-16 rounded-xl object-cover"}):i.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-xl bg-gray-100 text-2xl",children:""}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-semibold text-gray-900",children:b.title}),i.jsx("p",{className:"text-xs text-gray-500",children:b.location||"Location TBD"}),i.jsx("p",{className:"text-sm font-bold text-gray-900",children:fv(b.price)}),b.status&&i.jsxs("p",{className:"text-xs text-gray-500 capitalize",children:["Status: ",b.status.toLowerCase()]})]})]}):null}),p?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("span",{className:"text-gray-400",children:"Loading messages..."})}):c.length===0?i.jsx("div",{className:"flex items-center justify-center h-full text-center",children:i.jsx("span",{className:"text-gray-400",children:"No messages yet. Start the conversation!"})}):c.map(I=>i.jsx("div",{className:`flex ${I.senderId===e?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`max-w-xs px-4 py-2 rounded-2xl ${I.senderId===e?"bg-rose-50 border border-rose-100 text-gray-900 shadow-sm":"bg-white border border-gray-200 text-gray-900"}`,children:[i.jsx("p",{className:"text-sm break-words",children:I.content}),i.jsx("p",{className:`text-xs mt-1 ${I.senderId===e?"text-gray-500":"text-gray-400"}`,children:new Date(I.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),I.senderId===e&&I.status==="sending"&&i.jsx("p",{className:"text-[11px] font-semibold text-amber-600 text-right mt-0.5",children:"Sending..."})]})},I._id)),N&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-xs text-gray-500",children:[l.userName," is typing"]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),i.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),i.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]}),i.jsx("div",{ref:ue})]}),i.jsxs("form",{onSubmit:se,className:"p-4 border-t border-gray-100",children:[m&&i.jsx("div",{className:"mb-3 text-xs text-red-600 bg-red-50 p-2 rounded-lg",children:m}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("textarea",{value:d,onChange:P,placeholder:"Type a message...",className:"flex-1 rounded-2xl border border-gray-200 px-4 py-2 text-sm shadow-inner focus:border-red-400 focus:outline-none focus:ring-2 focus:ring-red-100 resize-none",rows:3}),i.jsx("button",{type:"submit",disabled:!d.trim(),className:"self-end rounded-2xl bg-red-600 hover:bg-red-700 disabled:bg-gray-300 text-white px-4 py-2 font-semibold transition",children:"Send "})]}),i.jsx("p",{className:"mt-2 text-xs text-gray-400",children:"Heads-up: recipients also get a short email alert so they never miss your note."})]})]}):i.jsx("div",{className:"flex-1 flex items-center justify-center text-center",children:i.jsxs("div",{children:[i.jsx("span",{className:"text-5xl mb-4 block",children:""}),i.jsx("p",{className:"text-gray-500",children:"Select a conversation to start messaging"})]})})})]})}function mv(){const e=Jr(),t=ie.getUserData(),r=ie.getToken();x.useEffect(()=>{if(!r||!t){e("/",{replace:!0,state:{requireAuth:!0}});return}if(t!=null&&t.isAdmin){e("/admin",{replace:!0});return}},[r,t,e]);const n=x.useCallback(()=>{typeof window<"u"&&window.history.length>1?e(-1):e("/")},[e]);return t?i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950",children:[i.jsx("nav",{className:"sticky top-0 z-40 border-b border-white/10 bg-slate-950/70 backdrop-blur-xl",children:i.jsxs("div",{className:"mx-auto flex max-w-7xl items-center justify-between gap-6 px-6 py-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("button",{onClick:n,className:"inline-flex items-center gap-2 rounded-full border border-white/20 px-4 py-2 text-xs font-semibold text-white/80 transition hover:border-white/40 hover:text-white","aria-label":"Go back",children:[i.jsx("span",{className:"text-base",children:""}),i.jsx("span",{className:"hidden sm:inline",children:"Back"})]}),i.jsxs("button",{onClick:()=>e("/"),className:"group flex items-center gap-3 hover:opacity-80 transition",children:[i.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-red-500 via-rose-500 to-orange-400 text-2xl font-black text-white shadow-lg shadow-red-500/40",children:"P"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.4em] text-white/60",children:"Pomi"}),i.jsx("p",{className:"text-lg font-black text-white",children:"Messages"})]})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("span",{className:"text-sm text-white/70",children:["Welcome, ",i.jsx("span",{className:"font-semibold text-white",children:t.username})]}),i.jsx("button",{onClick:()=>{ie.removeToken(),ie.clearUserData(),e("/")},className:"rounded-full bg-white/10 border border-white/20 px-4 py-2 text-sm font-semibold text-white/80 hover:text-white hover:bg-white/20 transition",children:"Sign out"})]})]})}),i.jsx("div",{className:"mx-auto max-w-7xl px-6 py-8",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-4xl font-black text-white",children:"Direct Messages"}),i.jsx("p",{className:"mt-2 text-lg text-white/70",children:"Stay connected with community members and sellers"})]}),i.jsx(pv,{currentUserId:t._id||"",currentUserName:t.username})]})}),i.jsxs("div",{className:"pointer-events-none fixed inset-0",children:[i.jsx("div",{className:"absolute -top-24 -right-32 h-[420px] w-[420px] rounded-full bg-red-500/30 blur-3xl"}),i.jsx("div",{className:"absolute -bottom-32 -left-24 h-[400px] w-[400px] rounded-full bg-orange-500/20 blur-3xl"})]})]}):i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx("span",{className:"text-gray-500",children:"Loading..."})})}ol.createRoot(document.getElementById("root")).render(i.jsx(Cd.StrictMode,{children:i.jsx(ag,{children:i.jsxs(tg,{children:[i.jsx(ir,{path:"/admin/*",element:i.jsx(dv,{})}),i.jsx(ir,{path:"/marketplace",element:i.jsx(Jw,{})}),i.jsx(ir,{path:"/forums",element:i.jsx(Xw,{})}),i.jsx(ir,{path:"/forums/:postId",element:i.jsx(ev,{})}),i.jsx(ir,{path:"/business",element:i.jsx(Yw,{})}),i.jsx(ir,{path:"/messages",element:i.jsx(mv,{})}),i.jsx(ir,{path:"/*",element:i.jsx(Jy,{})})]})})}));
//# sourceMappingURL=index-D7p26LKf.js.map
