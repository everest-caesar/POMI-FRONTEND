function j0(e,t){for(var s=0;s<t.length;s++){const r=t[s];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();function Xh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Zh={exports:{}},Ba={},em={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var li=Symbol.for("react.element"),N0=Symbol.for("react.portal"),k0=Symbol.for("react.fragment"),S0=Symbol.for("react.strict_mode"),C0=Symbol.for("react.profiler"),E0=Symbol.for("react.provider"),T0=Symbol.for("react.context"),P0=Symbol.for("react.forward_ref"),_0=Symbol.for("react.suspense"),R0=Symbol.for("react.memo"),A0=Symbol.for("react.lazy"),Kd=Symbol.iterator;function O0(e){return e===null||typeof e!="object"?null:(e=Kd&&e[Kd]||e["@@iterator"],typeof e=="function"?e:null)}var tm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sm=Object.assign,rm={};function Zr(e,t,s){this.props=e,this.context=t,this.refs=rm,this.updater=s||tm}Zr.prototype.isReactComponent={};Zr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function nm(){}nm.prototype=Zr.prototype;function Nc(e,t,s){this.props=e,this.context=t,this.refs=rm,this.updater=s||tm}var kc=Nc.prototype=new nm;kc.constructor=Nc;sm(kc,Zr.prototype);kc.isPureReactComponent=!0;var Jd=Array.isArray,im=Object.prototype.hasOwnProperty,Sc={current:null},am={key:!0,ref:!0,__self:!0,__source:!0};function om(e,t,s){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)im.call(t,r)&&!am.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=s;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:li,type:e,key:a,ref:o,props:i,_owner:Sc.current}}function L0(e,t){return{$$typeof:li,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Cc(e){return typeof e=="object"&&e!==null&&e.$$typeof===li}function D0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var Gd=/\/+/g;function go(e,t){return typeof e=="object"&&e!==null&&e.key!=null?D0(""+e.key):t.toString(36)}function Hi(e,t,s,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case li:case N0:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+go(o,0):r,Jd(i)?(s="",e!=null&&(s=e.replace(Gd,"$&/")+"/"),Hi(i,t,s,"",function(d){return d})):i!=null&&(Cc(i)&&(i=L0(i,s+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Gd,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Jd(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+go(a,l);o+=Hi(a,t,s,c,i)}else if(c=O0(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+go(a,l++),o+=Hi(a,t,s,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function wi(e,t,s){if(e==null)return e;var r=[],i=0;return Hi(e,r,"","",function(a){return t.call(s,a,i++)}),r}function I0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var mt={current:null},Wi={transition:null},M0={ReactCurrentDispatcher:mt,ReactCurrentBatchConfig:Wi,ReactCurrentOwner:Sc};function lm(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:wi,forEach:function(e,t,s){wi(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return wi(e,function(){t++}),t},toArray:function(e){return wi(e,function(t){return t})||[]},only:function(e){if(!Cc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ue.Component=Zr;ue.Fragment=k0;ue.Profiler=C0;ue.PureComponent=Nc;ue.StrictMode=S0;ue.Suspense=_0;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M0;ue.act=lm;ue.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=sm({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Sc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)im.call(t,c)&&!am.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=s;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:li,type:e.type,key:i,ref:a,props:r,_owner:o}};ue.createContext=function(e){return e={$$typeof:T0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:E0,_context:e},e.Consumer=e};ue.createElement=om;ue.createFactory=function(e){var t=om.bind(null,e);return t.type=e,t};ue.createRef=function(){return{current:null}};ue.forwardRef=function(e){return{$$typeof:P0,render:e}};ue.isValidElement=Cc;ue.lazy=function(e){return{$$typeof:A0,_payload:{_status:-1,_result:e},_init:I0}};ue.memo=function(e,t){return{$$typeof:R0,type:e,compare:t===void 0?null:t}};ue.startTransition=function(e){var t=Wi.transition;Wi.transition={};try{e()}finally{Wi.transition=t}};ue.unstable_act=lm;ue.useCallback=function(e,t){return mt.current.useCallback(e,t)};ue.useContext=function(e){return mt.current.useContext(e)};ue.useDebugValue=function(){};ue.useDeferredValue=function(e){return mt.current.useDeferredValue(e)};ue.useEffect=function(e,t){return mt.current.useEffect(e,t)};ue.useId=function(){return mt.current.useId()};ue.useImperativeHandle=function(e,t,s){return mt.current.useImperativeHandle(e,t,s)};ue.useInsertionEffect=function(e,t){return mt.current.useInsertionEffect(e,t)};ue.useLayoutEffect=function(e,t){return mt.current.useLayoutEffect(e,t)};ue.useMemo=function(e,t){return mt.current.useMemo(e,t)};ue.useReducer=function(e,t,s){return mt.current.useReducer(e,t,s)};ue.useRef=function(e){return mt.current.useRef(e)};ue.useState=function(e){return mt.current.useState(e)};ue.useSyncExternalStore=function(e,t,s){return mt.current.useSyncExternalStore(e,t,s)};ue.useTransition=function(){return mt.current.useTransition()};ue.version="18.3.1";em.exports=ue;var u=em.exports;const us=Xh(u),F0=j0({__proto__:null,default:us},[u]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0=u,z0=Symbol.for("react.element"),$0=Symbol.for("react.fragment"),U0=Object.prototype.hasOwnProperty,V0=B0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H0={key:!0,ref:!0,__self:!0,__source:!0};function cm(e,t,s){var r,i={},a=null,o=null;s!==void 0&&(a=""+s),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)U0.call(t,r)&&!H0.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:z0,type:e,key:a,ref:o,props:i,_owner:V0.current}}Ba.Fragment=$0;Ba.jsx=cm;Ba.jsxs=cm;Zh.exports=Ba;var n=Zh.exports,ol={},dm={exports:{}},Rt={},um={exports:{}},hm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,M){var U=_.length;_.push(M);e:for(;0<U;){var V=U-1>>>1,X=_[V];if(0<i(X,M))_[V]=M,_[U]=X,U=V;else break e}}function s(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var M=_[0],U=_.pop();if(U!==M){_[0]=U;e:for(var V=0,X=_.length,he=X>>>1;V<he;){var ie=2*(V+1)-1,He=_[ie],me=ie+1,Z=_[me];if(0>i(He,U))me<X&&0>i(Z,He)?(_[V]=Z,_[me]=U,V=me):(_[V]=He,_[ie]=U,V=ie);else if(me<X&&0>i(Z,U))_[V]=Z,_[me]=U,V=me;else break e}}return M}function i(_,M){var U=_.sortIndex-M.sortIndex;return U!==0?U:_.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],m=1,h=null,x=3,w=!1,g=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(_){for(var M=s(d);M!==null;){if(M.callback===null)r(d);else if(M.startTime<=_)r(d),M.sortIndex=M.expirationTime,t(c,M);else break;M=s(d)}}function N(_){if(v=!1,y(_),!g)if(s(c)!==null)g=!0,te(k);else{var M=s(d);M!==null&&ae(N,M.startTime-_)}}function k(_,M){g=!1,v&&(v=!1,p(L),L=-1),w=!0;var U=x;try{for(y(M),h=s(c);h!==null&&(!(h.expirationTime>M)||_&&!P());){var V=h.callback;if(typeof V=="function"){h.callback=null,x=h.priorityLevel;var X=V(h.expirationTime<=M);M=e.unstable_now(),typeof X=="function"?h.callback=X:h===s(c)&&r(c),y(M)}else r(c);h=s(c)}if(h!==null)var he=!0;else{var ie=s(d);ie!==null&&ae(N,ie.startTime-M),he=!1}return he}finally{h=null,x=U,w=!1}}var E=!1,C=null,L=-1,D=5,j=-1;function P(){return!(e.unstable_now()-j<D)}function R(){if(C!==null){var _=e.unstable_now();j=_;var M=!0;try{M=C(!0,_)}finally{M?B():(E=!1,C=null)}}else E=!1}var B;if(typeof f=="function")B=function(){f(R)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,K=A.port2;A.port1.onmessage=R,B=function(){K.postMessage(null)}}else B=function(){b(R,0)};function te(_){C=_,E||(E=!0,B())}function ae(_,M){L=b(function(){_(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){g||w||(g=!0,te(k))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(_){switch(x){case 1:case 2:case 3:var M=3;break;default:M=x}var U=x;x=M;try{return _()}finally{x=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,M){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var U=x;x=_;try{return M()}finally{x=U}},e.unstable_scheduleCallback=function(_,M,U){var V=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?V+U:V):U=V,_){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=U+X,_={id:m++,callback:M,priorityLevel:_,startTime:U,expirationTime:X,sortIndex:-1},U>V?(_.sortIndex=U,t(d,_),s(c)===null&&_===s(d)&&(v?(p(L),L=-1):v=!0,ae(N,U-V))):(_.sortIndex=X,t(c,_),g||w||(g=!0,te(k))),_},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(_){var M=x;return function(){var U=x;x=M;try{return _.apply(this,arguments)}finally{x=U}}}})(hm);um.exports=hm;var W0=um.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q0=u,_t=W0;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mm=new Set,$n={};function vr(e,t){Wr(e,t),Wr(e+"Capture",t)}function Wr(e,t){for($n[e]=t,e=0;e<t.length;e++)mm.add(t[e])}var gs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ll=Object.prototype.hasOwnProperty,K0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qd={},Yd={};function J0(e){return ll.call(Yd,e)?!0:ll.call(Qd,e)?!1:K0.test(e)?Yd[e]=!0:(Qd[e]=!0,!1)}function G0(e,t,s,r){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Q0(e,t,s,r){if(t===null||typeof t>"u"||G0(e,t,s,r))return!0;if(r)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ft(e,t,s,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var st={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){st[e]=new ft(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];st[t]=new ft(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){st[e]=new ft(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){st[e]=new ft(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){st[e]=new ft(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){st[e]=new ft(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){st[e]=new ft(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){st[e]=new ft(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){st[e]=new ft(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ec=/[\-:]([a-z])/g;function Tc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ec,Tc);st[t]=new ft(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ec,Tc);st[t]=new ft(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ec,Tc);st[t]=new ft(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){st[e]=new ft(e,1,!1,e.toLowerCase(),null,!1,!1)});st.xlinkHref=new ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){st[e]=new ft(e,1,!1,e.toLowerCase(),null,!0,!0)});function Pc(e,t,s,r){var i=st.hasOwnProperty(t)?st[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Q0(t,s,i,r)&&(s=null),r||i===null?J0(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):i.mustUseProperty?e[i.propertyName]=s===null?i.type===3?!1:"":s:(t=i.attributeName,r=i.attributeNamespace,s===null?e.removeAttribute(t):(i=i.type,s=i===3||i===4&&s===!0?"":""+s,r?e.setAttributeNS(r,t,s):e.setAttribute(t,s))))}var Ns=q0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ji=Symbol.for("react.element"),Cr=Symbol.for("react.portal"),Er=Symbol.for("react.fragment"),_c=Symbol.for("react.strict_mode"),cl=Symbol.for("react.profiler"),fm=Symbol.for("react.provider"),pm=Symbol.for("react.context"),Rc=Symbol.for("react.forward_ref"),dl=Symbol.for("react.suspense"),ul=Symbol.for("react.suspense_list"),Ac=Symbol.for("react.memo"),Ts=Symbol.for("react.lazy"),xm=Symbol.for("react.offscreen"),Xd=Symbol.iterator;function un(e){return e===null||typeof e!="object"?null:(e=Xd&&e[Xd]||e["@@iterator"],typeof e=="function"?e:null)}var Be=Object.assign,yo;function Sn(e){if(yo===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);yo=t&&t[1]||""}return`
`+yo+e}var bo=!1;function vo(e,t){if(!e||bo)return"";bo=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{bo=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Sn(e):""}function Y0(e){switch(e.tag){case 5:return Sn(e.type);case 16:return Sn("Lazy");case 13:return Sn("Suspense");case 19:return Sn("SuspenseList");case 0:case 2:case 15:return e=vo(e.type,!1),e;case 11:return e=vo(e.type.render,!1),e;case 1:return e=vo(e.type,!0),e;default:return""}}function hl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Er:return"Fragment";case Cr:return"Portal";case cl:return"Profiler";case _c:return"StrictMode";case dl:return"Suspense";case ul:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pm:return(e.displayName||"Context")+".Consumer";case fm:return(e._context.displayName||"Context")+".Provider";case Rc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ac:return t=e.displayName||null,t!==null?t:hl(e.type)||"Memo";case Ts:t=e._payload,e=e._init;try{return hl(e(t))}catch{}}return null}function X0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hl(t);case 8:return t===_c?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ws(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Z0(e){var t=gm(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var i=s.get,a=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ni(e){e._valueTracker||(e._valueTracker=Z0(e))}function ym(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),r="";return e&&(r=gm(e)?e.checked?"true":"false":e.value),e=r,e!==s?(t.setValue(e),!0):!1}function ua(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ml(e,t){var s=t.checked;return Be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Zd(e,t){var s=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;s=Ws(t.value!=null?t.value:s),e._wrapperState={initialChecked:r,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function bm(e,t){t=t.checked,t!=null&&Pc(e,"checked",t,!1)}function fl(e,t){bm(e,t);var s=Ws(t.value),r=t.type;if(s!=null)r==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?pl(e,t.type,s):t.hasOwnProperty("defaultValue")&&pl(e,t.type,Ws(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function eu(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function pl(e,t,s){(t!=="number"||ua(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Cn=Array.isArray;function Fr(e,t,s,r){if(e=e.options,t){t={};for(var i=0;i<s.length;i++)t["$"+s[i]]=!0;for(s=0;s<e.length;s++)i=t.hasOwnProperty("$"+e[s].value),e[s].selected!==i&&(e[s].selected=i),i&&r&&(e[s].defaultSelected=!0)}else{for(s=""+Ws(s),t=null,i=0;i<e.length;i++){if(e[i].value===s){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function xl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return Be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function tu(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error($(92));if(Cn(s)){if(1<s.length)throw Error($(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:Ws(s)}}function vm(e,t){var s=Ws(t.value),r=Ws(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),r!=null&&(e.defaultValue=""+r)}function su(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function wm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?wm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ki,jm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,s,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ki=ki||document.createElement("div"),ki.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ki.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Un(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var _n={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eg=["Webkit","ms","Moz","O"];Object.keys(_n).forEach(function(e){eg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_n[t]=_n[e]})});function Nm(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||_n.hasOwnProperty(e)&&_n[e]?(""+t).trim():t+"px"}function km(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var r=s.indexOf("--")===0,i=Nm(s,t[s],r);s==="float"&&(s="cssFloat"),r?e.setProperty(s,i):e[s]=i}}var tg=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yl(e,t){if(t){if(tg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function bl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vl=null;function Oc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wl=null,Br=null,zr=null;function ru(e){if(e=ui(e)){if(typeof wl!="function")throw Error($(280));var t=e.stateNode;t&&(t=Ha(t),wl(e.stateNode,e.type,t))}}function Sm(e){Br?zr?zr.push(e):zr=[e]:Br=e}function Cm(){if(Br){var e=Br,t=zr;if(zr=Br=null,ru(e),t)for(e=0;e<t.length;e++)ru(t[e])}}function Em(e,t){return e(t)}function Tm(){}var wo=!1;function Pm(e,t,s){if(wo)return e(t,s);wo=!0;try{return Em(e,t,s)}finally{wo=!1,(Br!==null||zr!==null)&&(Tm(),Cm())}}function Vn(e,t){var s=e.stateNode;if(s===null)return null;var r=Ha(s);if(r===null)return null;s=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error($(231,t,typeof s));return s}var jl=!1;if(gs)try{var hn={};Object.defineProperty(hn,"passive",{get:function(){jl=!0}}),window.addEventListener("test",hn,hn),window.removeEventListener("test",hn,hn)}catch{jl=!1}function sg(e,t,s,r,i,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(s,d)}catch(m){this.onError(m)}}var Rn=!1,ha=null,ma=!1,Nl=null,rg={onError:function(e){Rn=!0,ha=e}};function ng(e,t,s,r,i,a,o,l,c){Rn=!1,ha=null,sg.apply(rg,arguments)}function ig(e,t,s,r,i,a,o,l,c){if(ng.apply(this,arguments),Rn){if(Rn){var d=ha;Rn=!1,ha=null}else throw Error($(198));ma||(ma=!0,Nl=d)}}function wr(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function _m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function nu(e){if(wr(e)!==e)throw Error($(188))}function ag(e){var t=e.alternate;if(!t){if(t=wr(e),t===null)throw Error($(188));return t!==e?null:e}for(var s=e,r=t;;){var i=s.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){s=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===s)return nu(i),e;if(a===r)return nu(i),t;a=a.sibling}throw Error($(188))}if(s.return!==r.return)s=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===s){o=!0,s=i,r=a;break}if(l===r){o=!0,r=i,s=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===s){o=!0,s=a,r=i;break}if(l===r){o=!0,r=a,s=i;break}l=l.sibling}if(!o)throw Error($(189))}}if(s.alternate!==r)throw Error($(190))}if(s.tag!==3)throw Error($(188));return s.stateNode.current===s?e:t}function Rm(e){return e=ag(e),e!==null?Am(e):null}function Am(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Am(e);if(t!==null)return t;e=e.sibling}return null}var Om=_t.unstable_scheduleCallback,iu=_t.unstable_cancelCallback,og=_t.unstable_shouldYield,lg=_t.unstable_requestPaint,Ve=_t.unstable_now,cg=_t.unstable_getCurrentPriorityLevel,Lc=_t.unstable_ImmediatePriority,Lm=_t.unstable_UserBlockingPriority,fa=_t.unstable_NormalPriority,dg=_t.unstable_LowPriority,Dm=_t.unstable_IdlePriority,za=null,rs=null;function ug(e){if(rs&&typeof rs.onCommitFiberRoot=="function")try{rs.onCommitFiberRoot(za,e,void 0,(e.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:fg,hg=Math.log,mg=Math.LN2;function fg(e){return e>>>=0,e===0?32:31-(hg(e)/mg|0)|0}var Si=64,Ci=4194304;function En(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pa(e,t){var s=e.pendingLanes;if(s===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=s&268435455;if(o!==0){var l=o&~i;l!==0?r=En(l):(a&=o,a!==0&&(r=En(a)))}else o=s&~i,o!==0?r=En(o):a!==0&&(r=En(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)s=31-Kt(t),i=1<<s,r|=e[s],t&=~i;return r}function pg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xg(e,t){for(var s=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Kt(a),l=1<<o,c=i[o];c===-1?(!(l&s)||l&r)&&(i[o]=pg(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function kl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Im(){var e=Si;return Si<<=1,!(Si&4194240)&&(Si=64),e}function jo(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function ci(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Kt(t),e[t]=s}function gg(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<s;){var i=31-Kt(s),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,s&=~a}}function Dc(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var r=31-Kt(s),i=1<<r;i&t|e[r]&t&&(e[r]|=t),s&=~i}}var Ne=0;function Mm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Fm,Ic,Bm,zm,$m,Sl=!1,Ei=[],Ds=null,Is=null,Ms=null,Hn=new Map,Wn=new Map,_s=[],yg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function au(e,t){switch(e){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":Is=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":Hn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wn.delete(t.pointerId)}}function mn(e,t,s,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:s,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=ui(t),t!==null&&Ic(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function bg(e,t,s,r,i){switch(t){case"focusin":return Ds=mn(Ds,e,t,s,r,i),!0;case"dragenter":return Is=mn(Is,e,t,s,r,i),!0;case"mouseover":return Ms=mn(Ms,e,t,s,r,i),!0;case"pointerover":var a=i.pointerId;return Hn.set(a,mn(Hn.get(a)||null,e,t,s,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Wn.set(a,mn(Wn.get(a)||null,e,t,s,r,i)),!0}return!1}function Um(e){var t=rr(e.target);if(t!==null){var s=wr(t);if(s!==null){if(t=s.tag,t===13){if(t=_m(s),t!==null){e.blockedOn=t,$m(e.priority,function(){Bm(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Cl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);vl=r,s.target.dispatchEvent(r),vl=null}else return t=ui(s),t!==null&&Ic(t),e.blockedOn=s,!1;t.shift()}return!0}function ou(e,t,s){qi(e)&&s.delete(t)}function vg(){Sl=!1,Ds!==null&&qi(Ds)&&(Ds=null),Is!==null&&qi(Is)&&(Is=null),Ms!==null&&qi(Ms)&&(Ms=null),Hn.forEach(ou),Wn.forEach(ou)}function fn(e,t){e.blockedOn===t&&(e.blockedOn=null,Sl||(Sl=!0,_t.unstable_scheduleCallback(_t.unstable_NormalPriority,vg)))}function qn(e){function t(i){return fn(i,e)}if(0<Ei.length){fn(Ei[0],e);for(var s=1;s<Ei.length;s++){var r=Ei[s];r.blockedOn===e&&(r.blockedOn=null)}}for(Ds!==null&&fn(Ds,e),Is!==null&&fn(Is,e),Ms!==null&&fn(Ms,e),Hn.forEach(t),Wn.forEach(t),s=0;s<_s.length;s++)r=_s[s],r.blockedOn===e&&(r.blockedOn=null);for(;0<_s.length&&(s=_s[0],s.blockedOn===null);)Um(s),s.blockedOn===null&&_s.shift()}var $r=Ns.ReactCurrentBatchConfig,xa=!0;function wg(e,t,s,r){var i=Ne,a=$r.transition;$r.transition=null;try{Ne=1,Mc(e,t,s,r)}finally{Ne=i,$r.transition=a}}function jg(e,t,s,r){var i=Ne,a=$r.transition;$r.transition=null;try{Ne=4,Mc(e,t,s,r)}finally{Ne=i,$r.transition=a}}function Mc(e,t,s,r){if(xa){var i=Cl(e,t,s,r);if(i===null)Ao(e,t,r,ga,s),au(e,r);else if(bg(i,e,t,s,r))r.stopPropagation();else if(au(e,r),t&4&&-1<yg.indexOf(e)){for(;i!==null;){var a=ui(i);if(a!==null&&Fm(a),a=Cl(e,t,s,r),a===null&&Ao(e,t,r,ga,s),a===i)break;i=a}i!==null&&r.stopPropagation()}else Ao(e,t,r,null,s)}}var ga=null;function Cl(e,t,s,r){if(ga=null,e=Oc(r),e=rr(e),e!==null)if(t=wr(e),t===null)e=null;else if(s=t.tag,s===13){if(e=_m(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ga=e,null}function Vm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cg()){case Lc:return 1;case Lm:return 4;case fa:case dg:return 16;case Dm:return 536870912;default:return 16}default:return 16}}var As=null,Fc=null,Ki=null;function Hm(){if(Ki)return Ki;var e,t=Fc,s=t.length,r,i="value"in As?As.value:As.textContent,a=i.length;for(e=0;e<s&&t[e]===i[e];e++);var o=s-e;for(r=1;r<=o&&t[s-r]===i[a-r];r++);return Ki=i.slice(e,1<r?1-r:void 0)}function Ji(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ti(){return!0}function lu(){return!1}function At(e){function t(s,r,i,a,o){this._reactName=s,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(s=e[l],this[l]=s?s(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ti:lu,this.isPropagationStopped=lu,this}return Be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ti)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ti)},persist:function(){},isPersistent:Ti}),t}var en={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bc=At(en),di=Be({},en,{view:0,detail:0}),Ng=At(di),No,ko,pn,$a=Be({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pn&&(pn&&e.type==="mousemove"?(No=e.screenX-pn.screenX,ko=e.screenY-pn.screenY):ko=No=0,pn=e),No)},movementY:function(e){return"movementY"in e?e.movementY:ko}}),cu=At($a),kg=Be({},$a,{dataTransfer:0}),Sg=At(kg),Cg=Be({},di,{relatedTarget:0}),So=At(Cg),Eg=Be({},en,{animationName:0,elapsedTime:0,pseudoElement:0}),Tg=At(Eg),Pg=Be({},en,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_g=At(Pg),Rg=Be({},en,{data:0}),du=At(Rg),Ag={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Og={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Lg[e])?!!t[e]:!1}function zc(){return Dg}var Ig=Be({},di,{key:function(e){if(e.key){var t=Ag[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ji(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Og[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zc,charCode:function(e){return e.type==="keypress"?Ji(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ji(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Mg=At(Ig),Fg=Be({},$a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uu=At(Fg),Bg=Be({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zc}),zg=At(Bg),$g=Be({},en,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ug=At($g),Vg=Be({},$a,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Hg=At(Vg),Wg=[9,13,27,32],$c=gs&&"CompositionEvent"in window,An=null;gs&&"documentMode"in document&&(An=document.documentMode);var qg=gs&&"TextEvent"in window&&!An,Wm=gs&&(!$c||An&&8<An&&11>=An),hu=" ",mu=!1;function qm(e,t){switch(e){case"keyup":return Wg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Km(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Tr=!1;function Kg(e,t){switch(e){case"compositionend":return Km(t);case"keypress":return t.which!==32?null:(mu=!0,hu);case"textInput":return e=t.data,e===hu&&mu?null:e;default:return null}}function Jg(e,t){if(Tr)return e==="compositionend"||!$c&&qm(e,t)?(e=Hm(),Ki=Fc=As=null,Tr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wm&&t.locale!=="ko"?null:t.data;default:return null}}var Gg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Gg[e.type]:t==="textarea"}function Jm(e,t,s,r){Sm(r),t=ya(t,"onChange"),0<t.length&&(s=new Bc("onChange","change",null,s,r),e.push({event:s,listeners:t}))}var On=null,Kn=null;function Qg(e){af(e,0)}function Ua(e){var t=Rr(e);if(ym(t))return e}function Yg(e,t){if(e==="change")return t}var Gm=!1;if(gs){var Co;if(gs){var Eo="oninput"in document;if(!Eo){var pu=document.createElement("div");pu.setAttribute("oninput","return;"),Eo=typeof pu.oninput=="function"}Co=Eo}else Co=!1;Gm=Co&&(!document.documentMode||9<document.documentMode)}function xu(){On&&(On.detachEvent("onpropertychange",Qm),Kn=On=null)}function Qm(e){if(e.propertyName==="value"&&Ua(Kn)){var t=[];Jm(t,Kn,e,Oc(e)),Pm(Qg,t)}}function Xg(e,t,s){e==="focusin"?(xu(),On=t,Kn=s,On.attachEvent("onpropertychange",Qm)):e==="focusout"&&xu()}function Zg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ua(Kn)}function ey(e,t){if(e==="click")return Ua(t)}function ty(e,t){if(e==="input"||e==="change")return Ua(t)}function sy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gt=typeof Object.is=="function"?Object.is:sy;function Jn(e,t){if(Gt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var i=s[r];if(!ll.call(t,i)||!Gt(e[i],t[i]))return!1}return!0}function gu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yu(e,t){var s=gu(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=t&&r>=t)return{node:s,offset:t-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=gu(s)}}function Ym(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ym(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Xm(){for(var e=window,t=ua();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=ua(e.document)}return t}function Uc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ry(e){var t=Xm(),s=e.focusedElem,r=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Ym(s.ownerDocument.documentElement,s)){if(r!==null&&Uc(s)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=s.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=yu(s,a);var o=yu(s,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ny=gs&&"documentMode"in document&&11>=document.documentMode,Pr=null,El=null,Ln=null,Tl=!1;function bu(e,t,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Tl||Pr==null||Pr!==ua(r)||(r=Pr,"selectionStart"in r&&Uc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ln&&Jn(Ln,r)||(Ln=r,r=ya(El,"onSelect"),0<r.length&&(t=new Bc("onSelect","select",null,t,s),e.push({event:t,listeners:r}),t.target=Pr)))}function Pi(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var _r={animationend:Pi("Animation","AnimationEnd"),animationiteration:Pi("Animation","AnimationIteration"),animationstart:Pi("Animation","AnimationStart"),transitionend:Pi("Transition","TransitionEnd")},To={},Zm={};gs&&(Zm=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);function Va(e){if(To[e])return To[e];if(!_r[e])return e;var t=_r[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Zm)return To[e]=t[s];return e}var ef=Va("animationend"),tf=Va("animationiteration"),sf=Va("animationstart"),rf=Va("transitionend"),nf=new Map,vu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Js(e,t){nf.set(e,t),vr(t,[e])}for(var Po=0;Po<vu.length;Po++){var _o=vu[Po],iy=_o.toLowerCase(),ay=_o[0].toUpperCase()+_o.slice(1);Js(iy,"on"+ay)}Js(ef,"onAnimationEnd");Js(tf,"onAnimationIteration");Js(sf,"onAnimationStart");Js("dblclick","onDoubleClick");Js("focusin","onFocus");Js("focusout","onBlur");Js(rf,"onTransitionEnd");Wr("onMouseEnter",["mouseout","mouseover"]);Wr("onMouseLeave",["mouseout","mouseover"]);Wr("onPointerEnter",["pointerout","pointerover"]);Wr("onPointerLeave",["pointerout","pointerover"]);vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vr("onBeforeInput",["compositionend","keypress","textInput","paste"]);vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tn));function wu(e,t,s){var r=e.type||"unknown-event";e.currentTarget=s,ig(r,t,void 0,e),e.currentTarget=null}function af(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;wu(i,l,d),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;wu(i,l,d),a=c}}}if(ma)throw e=Nl,ma=!1,Nl=null,e}function Ae(e,t){var s=t[Ol];s===void 0&&(s=t[Ol]=new Set);var r=e+"__bubble";s.has(r)||(of(t,e,2,!1),s.add(r))}function Ro(e,t,s){var r=0;t&&(r|=4),of(s,e,r,t)}var _i="_reactListening"+Math.random().toString(36).slice(2);function Gn(e){if(!e[_i]){e[_i]=!0,mm.forEach(function(s){s!=="selectionchange"&&(oy.has(s)||Ro(s,!1,e),Ro(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_i]||(t[_i]=!0,Ro("selectionchange",!1,t))}}function of(e,t,s,r){switch(Vm(t)){case 1:var i=wg;break;case 4:i=jg;break;default:i=Mc}s=i.bind(null,t,s,e),i=void 0,!jl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,s,{capture:!0,passive:i}):e.addEventListener(t,s,!0):i!==void 0?e.addEventListener(t,s,{passive:i}):e.addEventListener(t,s,!1)}function Ao(e,t,s,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=rr(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}Pm(function(){var d=a,m=Oc(s),h=[];e:{var x=nf.get(e);if(x!==void 0){var w=Bc,g=e;switch(e){case"keypress":if(Ji(s)===0)break e;case"keydown":case"keyup":w=Mg;break;case"focusin":g="focus",w=So;break;case"focusout":g="blur",w=So;break;case"beforeblur":case"afterblur":w=So;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=cu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=Sg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=zg;break;case ef:case tf:case sf:w=Tg;break;case rf:w=Ug;break;case"scroll":w=Ng;break;case"wheel":w=Hg;break;case"copy":case"cut":case"paste":w=_g;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=uu}var v=(t&4)!==0,b=!v&&e==="scroll",p=v?x!==null?x+"Capture":null:x;v=[];for(var f=d,y;f!==null;){y=f;var N=y.stateNode;if(y.tag===5&&N!==null&&(y=N,p!==null&&(N=Vn(f,p),N!=null&&v.push(Qn(f,N,y)))),b)break;f=f.return}0<v.length&&(x=new w(x,g,null,s,m),h.push({event:x,listeners:v}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",x&&s!==vl&&(g=s.relatedTarget||s.fromElement)&&(rr(g)||g[ys]))break e;if((w||x)&&(x=m.window===m?m:(x=m.ownerDocument)?x.defaultView||x.parentWindow:window,w?(g=s.relatedTarget||s.toElement,w=d,g=g?rr(g):null,g!==null&&(b=wr(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(w=null,g=d),w!==g)){if(v=cu,N="onMouseLeave",p="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(v=uu,N="onPointerLeave",p="onPointerEnter",f="pointer"),b=w==null?x:Rr(w),y=g==null?x:Rr(g),x=new v(N,f+"leave",w,s,m),x.target=b,x.relatedTarget=y,N=null,rr(m)===d&&(v=new v(p,f+"enter",g,s,m),v.target=y,v.relatedTarget=b,N=v),b=N,w&&g)t:{for(v=w,p=g,f=0,y=v;y;y=Nr(y))f++;for(y=0,N=p;N;N=Nr(N))y++;for(;0<f-y;)v=Nr(v),f--;for(;0<y-f;)p=Nr(p),y--;for(;f--;){if(v===p||p!==null&&v===p.alternate)break t;v=Nr(v),p=Nr(p)}v=null}else v=null;w!==null&&ju(h,x,w,v,!1),g!==null&&b!==null&&ju(h,b,g,v,!0)}}e:{if(x=d?Rr(d):window,w=x.nodeName&&x.nodeName.toLowerCase(),w==="select"||w==="input"&&x.type==="file")var k=Yg;else if(fu(x))if(Gm)k=ty;else{k=Zg;var E=Xg}else(w=x.nodeName)&&w.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(k=ey);if(k&&(k=k(e,d))){Jm(h,k,s,m);break e}E&&E(e,x,d),e==="focusout"&&(E=x._wrapperState)&&E.controlled&&x.type==="number"&&pl(x,"number",x.value)}switch(E=d?Rr(d):window,e){case"focusin":(fu(E)||E.contentEditable==="true")&&(Pr=E,El=d,Ln=null);break;case"focusout":Ln=El=Pr=null;break;case"mousedown":Tl=!0;break;case"contextmenu":case"mouseup":case"dragend":Tl=!1,bu(h,s,m);break;case"selectionchange":if(ny)break;case"keydown":case"keyup":bu(h,s,m)}var C;if($c)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Tr?qm(e,s)&&(L="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(L="onCompositionStart");L&&(Wm&&s.locale!=="ko"&&(Tr||L!=="onCompositionStart"?L==="onCompositionEnd"&&Tr&&(C=Hm()):(As=m,Fc="value"in As?As.value:As.textContent,Tr=!0)),E=ya(d,L),0<E.length&&(L=new du(L,e,null,s,m),h.push({event:L,listeners:E}),C?L.data=C:(C=Km(s),C!==null&&(L.data=C)))),(C=qg?Kg(e,s):Jg(e,s))&&(d=ya(d,"onBeforeInput"),0<d.length&&(m=new du("onBeforeInput","beforeinput",null,s,m),h.push({event:m,listeners:d}),m.data=C))}af(h,t)})}function Qn(e,t,s){return{instance:e,listener:t,currentTarget:s}}function ya(e,t){for(var s=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Vn(e,s),a!=null&&r.unshift(Qn(e,a,i)),a=Vn(e,t),a!=null&&r.push(Qn(e,a,i))),e=e.return}return r}function Nr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ju(e,t,s,r,i){for(var a=t._reactName,o=[];s!==null&&s!==r;){var l=s,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,i?(c=Vn(s,a),c!=null&&o.unshift(Qn(s,c,l))):i||(c=Vn(s,a),c!=null&&o.push(Qn(s,c,l)))),s=s.return}o.length!==0&&e.push({event:t,listeners:o})}var ly=/\r\n?/g,cy=/\u0000|\uFFFD/g;function Nu(e){return(typeof e=="string"?e:""+e).replace(ly,`
`).replace(cy,"")}function Ri(e,t,s){if(t=Nu(t),Nu(e)!==t&&s)throw Error($(425))}function ba(){}var Pl=null,_l=null;function Rl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Al=typeof setTimeout=="function"?setTimeout:void 0,dy=typeof clearTimeout=="function"?clearTimeout:void 0,ku=typeof Promise=="function"?Promise:void 0,uy=typeof queueMicrotask=="function"?queueMicrotask:typeof ku<"u"?function(e){return ku.resolve(null).then(e).catch(hy)}:Al;function hy(e){setTimeout(function(){throw e})}function Oo(e,t){var s=t,r=0;do{var i=s.nextSibling;if(e.removeChild(s),i&&i.nodeType===8)if(s=i.data,s==="/$"){if(r===0){e.removeChild(i),qn(t);return}r--}else s!=="$"&&s!=="$?"&&s!=="$!"||r++;s=i}while(s);qn(t)}function Fs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Su(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var tn=Math.random().toString(36).slice(2),ss="__reactFiber$"+tn,Yn="__reactProps$"+tn,ys="__reactContainer$"+tn,Ol="__reactEvents$"+tn,my="__reactListeners$"+tn,fy="__reactHandles$"+tn;function rr(e){var t=e[ss];if(t)return t;for(var s=e.parentNode;s;){if(t=s[ys]||s[ss]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Su(e);e!==null;){if(s=e[ss])return s;e=Su(e)}return t}e=s,s=e.parentNode}return null}function ui(e){return e=e[ss]||e[ys],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function Ha(e){return e[Yn]||null}var Ll=[],Ar=-1;function Gs(e){return{current:e}}function Oe(e){0>Ar||(e.current=Ll[Ar],Ll[Ar]=null,Ar--)}function Ee(e,t){Ar++,Ll[Ar]=e.current,e.current=t}var qs={},ct=Gs(qs),vt=Gs(!1),hr=qs;function qr(e,t){var s=e.type.contextTypes;if(!s)return qs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in s)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function wt(e){return e=e.childContextTypes,e!=null}function va(){Oe(vt),Oe(ct)}function Cu(e,t,s){if(ct.current!==qs)throw Error($(168));Ee(ct,t),Ee(vt,s)}function lf(e,t,s){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return s;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error($(108,X0(e)||"Unknown",i));return Be({},s,r)}function wa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qs,hr=ct.current,Ee(ct,e),Ee(vt,vt.current),!0}function Eu(e,t,s){var r=e.stateNode;if(!r)throw Error($(169));s?(e=lf(e,t,hr),r.__reactInternalMemoizedMergedChildContext=e,Oe(vt),Oe(ct),Ee(ct,e)):Oe(vt),Ee(vt,s)}var ms=null,Wa=!1,Lo=!1;function cf(e){ms===null?ms=[e]:ms.push(e)}function py(e){Wa=!0,cf(e)}function Qs(){if(!Lo&&ms!==null){Lo=!0;var e=0,t=Ne;try{var s=ms;for(Ne=1;e<s.length;e++){var r=s[e];do r=r(!0);while(r!==null)}ms=null,Wa=!1}catch(i){throw ms!==null&&(ms=ms.slice(e+1)),Om(Lc,Qs),i}finally{Ne=t,Lo=!1}}return null}var Or=[],Lr=0,ja=null,Na=0,Dt=[],It=0,mr=null,fs=1,ps="";function tr(e,t){Or[Lr++]=Na,Or[Lr++]=ja,ja=e,Na=t}function df(e,t,s){Dt[It++]=fs,Dt[It++]=ps,Dt[It++]=mr,mr=e;var r=fs;e=ps;var i=32-Kt(r)-1;r&=~(1<<i),s+=1;var a=32-Kt(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,fs=1<<32-Kt(t)+i|s<<i|r,ps=a+e}else fs=1<<a|s<<i|r,ps=e}function Vc(e){e.return!==null&&(tr(e,1),df(e,1,0))}function Hc(e){for(;e===ja;)ja=Or[--Lr],Or[Lr]=null,Na=Or[--Lr],Or[Lr]=null;for(;e===mr;)mr=Dt[--It],Dt[It]=null,ps=Dt[--It],Dt[It]=null,fs=Dt[--It],Dt[It]=null}var Pt=null,Tt=null,Ie=!1,qt=null;function uf(e,t){var s=Ft(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Tu(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pt=e,Tt=Fs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pt=e,Tt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=mr!==null?{id:fs,overflow:ps}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=Ft(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,Pt=e,Tt=null,!0):!1;default:return!1}}function Dl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Il(e){if(Ie){var t=Tt;if(t){var s=t;if(!Tu(e,t)){if(Dl(e))throw Error($(418));t=Fs(s.nextSibling);var r=Pt;t&&Tu(e,t)?uf(r,s):(e.flags=e.flags&-4097|2,Ie=!1,Pt=e)}}else{if(Dl(e))throw Error($(418));e.flags=e.flags&-4097|2,Ie=!1,Pt=e}}}function Pu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pt=e}function Ai(e){if(e!==Pt)return!1;if(!Ie)return Pu(e),Ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Rl(e.type,e.memoizedProps)),t&&(t=Tt)){if(Dl(e))throw hf(),Error($(418));for(;t;)uf(e,t),t=Fs(t.nextSibling)}if(Pu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){Tt=Fs(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}Tt=null}}else Tt=Pt?Fs(e.stateNode.nextSibling):null;return!0}function hf(){for(var e=Tt;e;)e=Fs(e.nextSibling)}function Kr(){Tt=Pt=null,Ie=!1}function Wc(e){qt===null?qt=[e]:qt.push(e)}var xy=Ns.ReactCurrentBatchConfig;function xn(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error($(309));var r=s.stateNode}if(!r)throw Error($(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error($(284));if(!s._owner)throw Error($(290,e))}return e}function Oi(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _u(e){var t=e._init;return t(e._payload)}function mf(e){function t(p,f){if(e){var y=p.deletions;y===null?(p.deletions=[f],p.flags|=16):y.push(f)}}function s(p,f){if(!e)return null;for(;f!==null;)t(p,f),f=f.sibling;return null}function r(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function i(p,f){return p=Us(p,f),p.index=0,p.sibling=null,p}function a(p,f,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<f?(p.flags|=2,f):y):(p.flags|=2,f)):(p.flags|=1048576,f)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,f,y,N){return f===null||f.tag!==6?(f=$o(y,p.mode,N),f.return=p,f):(f=i(f,y),f.return=p,f)}function c(p,f,y,N){var k=y.type;return k===Er?m(p,f,y.props.children,N,y.key):f!==null&&(f.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ts&&_u(k)===f.type)?(N=i(f,y.props),N.ref=xn(p,f,y),N.return=p,N):(N=ta(y.type,y.key,y.props,null,p.mode,N),N.ref=xn(p,f,y),N.return=p,N)}function d(p,f,y,N){return f===null||f.tag!==4||f.stateNode.containerInfo!==y.containerInfo||f.stateNode.implementation!==y.implementation?(f=Uo(y,p.mode,N),f.return=p,f):(f=i(f,y.children||[]),f.return=p,f)}function m(p,f,y,N,k){return f===null||f.tag!==7?(f=cr(y,p.mode,N,k),f.return=p,f):(f=i(f,y),f.return=p,f)}function h(p,f,y){if(typeof f=="string"&&f!==""||typeof f=="number")return f=$o(""+f,p.mode,y),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ji:return y=ta(f.type,f.key,f.props,null,p.mode,y),y.ref=xn(p,null,f),y.return=p,y;case Cr:return f=Uo(f,p.mode,y),f.return=p,f;case Ts:var N=f._init;return h(p,N(f._payload),y)}if(Cn(f)||un(f))return f=cr(f,p.mode,y,null),f.return=p,f;Oi(p,f)}return null}function x(p,f,y,N){var k=f!==null?f.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return k!==null?null:l(p,f,""+y,N);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ji:return y.key===k?c(p,f,y,N):null;case Cr:return y.key===k?d(p,f,y,N):null;case Ts:return k=y._init,x(p,f,k(y._payload),N)}if(Cn(y)||un(y))return k!==null?null:m(p,f,y,N,null);Oi(p,y)}return null}function w(p,f,y,N,k){if(typeof N=="string"&&N!==""||typeof N=="number")return p=p.get(y)||null,l(f,p,""+N,k);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ji:return p=p.get(N.key===null?y:N.key)||null,c(f,p,N,k);case Cr:return p=p.get(N.key===null?y:N.key)||null,d(f,p,N,k);case Ts:var E=N._init;return w(p,f,y,E(N._payload),k)}if(Cn(N)||un(N))return p=p.get(y)||null,m(f,p,N,k,null);Oi(f,N)}return null}function g(p,f,y,N){for(var k=null,E=null,C=f,L=f=0,D=null;C!==null&&L<y.length;L++){C.index>L?(D=C,C=null):D=C.sibling;var j=x(p,C,y[L],N);if(j===null){C===null&&(C=D);break}e&&C&&j.alternate===null&&t(p,C),f=a(j,f,L),E===null?k=j:E.sibling=j,E=j,C=D}if(L===y.length)return s(p,C),Ie&&tr(p,L),k;if(C===null){for(;L<y.length;L++)C=h(p,y[L],N),C!==null&&(f=a(C,f,L),E===null?k=C:E.sibling=C,E=C);return Ie&&tr(p,L),k}for(C=r(p,C);L<y.length;L++)D=w(C,p,L,y[L],N),D!==null&&(e&&D.alternate!==null&&C.delete(D.key===null?L:D.key),f=a(D,f,L),E===null?k=D:E.sibling=D,E=D);return e&&C.forEach(function(P){return t(p,P)}),Ie&&tr(p,L),k}function v(p,f,y,N){var k=un(y);if(typeof k!="function")throw Error($(150));if(y=k.call(y),y==null)throw Error($(151));for(var E=k=null,C=f,L=f=0,D=null,j=y.next();C!==null&&!j.done;L++,j=y.next()){C.index>L?(D=C,C=null):D=C.sibling;var P=x(p,C,j.value,N);if(P===null){C===null&&(C=D);break}e&&C&&P.alternate===null&&t(p,C),f=a(P,f,L),E===null?k=P:E.sibling=P,E=P,C=D}if(j.done)return s(p,C),Ie&&tr(p,L),k;if(C===null){for(;!j.done;L++,j=y.next())j=h(p,j.value,N),j!==null&&(f=a(j,f,L),E===null?k=j:E.sibling=j,E=j);return Ie&&tr(p,L),k}for(C=r(p,C);!j.done;L++,j=y.next())j=w(C,p,L,j.value,N),j!==null&&(e&&j.alternate!==null&&C.delete(j.key===null?L:j.key),f=a(j,f,L),E===null?k=j:E.sibling=j,E=j);return e&&C.forEach(function(R){return t(p,R)}),Ie&&tr(p,L),k}function b(p,f,y,N){if(typeof y=="object"&&y!==null&&y.type===Er&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ji:e:{for(var k=y.key,E=f;E!==null;){if(E.key===k){if(k=y.type,k===Er){if(E.tag===7){s(p,E.sibling),f=i(E,y.props.children),f.return=p,p=f;break e}}else if(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ts&&_u(k)===E.type){s(p,E.sibling),f=i(E,y.props),f.ref=xn(p,E,y),f.return=p,p=f;break e}s(p,E);break}else t(p,E);E=E.sibling}y.type===Er?(f=cr(y.props.children,p.mode,N,y.key),f.return=p,p=f):(N=ta(y.type,y.key,y.props,null,p.mode,N),N.ref=xn(p,f,y),N.return=p,p=N)}return o(p);case Cr:e:{for(E=y.key;f!==null;){if(f.key===E)if(f.tag===4&&f.stateNode.containerInfo===y.containerInfo&&f.stateNode.implementation===y.implementation){s(p,f.sibling),f=i(f,y.children||[]),f.return=p,p=f;break e}else{s(p,f);break}else t(p,f);f=f.sibling}f=Uo(y,p.mode,N),f.return=p,p=f}return o(p);case Ts:return E=y._init,b(p,f,E(y._payload),N)}if(Cn(y))return g(p,f,y,N);if(un(y))return v(p,f,y,N);Oi(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,f!==null&&f.tag===6?(s(p,f.sibling),f=i(f,y),f.return=p,p=f):(s(p,f),f=$o(y,p.mode,N),f.return=p,p=f),o(p)):s(p,f)}return b}var Jr=mf(!0),ff=mf(!1),ka=Gs(null),Sa=null,Dr=null,qc=null;function Kc(){qc=Dr=Sa=null}function Jc(e){var t=ka.current;Oe(ka),e._currentValue=t}function Ml(e,t,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===s)break;e=e.return}}function Ur(e,t){Sa=e,qc=Dr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(bt=!0),e.firstContext=null)}function zt(e){var t=e._currentValue;if(qc!==e)if(e={context:e,memoizedValue:t,next:null},Dr===null){if(Sa===null)throw Error($(308));Dr=e,Sa.dependencies={lanes:0,firstContext:e}}else Dr=Dr.next=e;return t}var nr=null;function Gc(e){nr===null?nr=[e]:nr.push(e)}function pf(e,t,s,r){var i=t.interleaved;return i===null?(s.next=s,Gc(t)):(s.next=i.next,i.next=s),t.interleaved=s,bs(e,r)}function bs(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Ps=!1;function Qc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bs(e,t,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ye&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,bs(e,s)}return i=r.interleaved,i===null?(t.next=t,Gc(r)):(t.next=i.next,i.next=t),r.interleaved=t,bs(e,s)}function Gi(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,Dc(e,s)}}function Ru(e,t){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var i=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};a===null?i=a=o:a=a.next=o,s=s.next}while(s!==null);a===null?i=a=t:a=a.next=t}else i=a=t;s={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Ca(e,t,s,r){var i=e.updateQueue;Ps=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var m=e.alternate;m!==null&&(m=m.updateQueue,l=m.lastBaseUpdate,l!==o&&(l===null?m.firstBaseUpdate=d:l.next=d,m.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;o=0,m=d=c=null,l=a;do{var x=l.lane,w=l.eventTime;if((r&x)===x){m!==null&&(m=m.next={eventTime:w,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,v=l;switch(x=t,w=s,v.tag){case 1:if(g=v.payload,typeof g=="function"){h=g.call(w,h,x);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,x=typeof g=="function"?g.call(w,h,x):g,x==null)break e;h=Be({},h,x);break e;case 2:Ps=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,x=i.effects,x===null?i.effects=[l]:x.push(l))}else w={eventTime:w,lane:x,tag:l.tag,payload:l.payload,callback:l.callback,next:null},m===null?(d=m=w,c=h):m=m.next=w,o|=x;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;x=l,l=x.next,x.next=null,i.lastBaseUpdate=x,i.shared.pending=null}}while(!0);if(m===null&&(c=h),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=m,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);pr|=o,e.lanes=o,e.memoizedState=h}}function Au(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=s,typeof i!="function")throw Error($(191,i));i.call(r)}}}var hi={},ns=Gs(hi),Xn=Gs(hi),Zn=Gs(hi);function ir(e){if(e===hi)throw Error($(174));return e}function Yc(e,t){switch(Ee(Zn,t),Ee(Xn,e),Ee(ns,hi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:gl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=gl(t,e)}Oe(ns),Ee(ns,t)}function Gr(){Oe(ns),Oe(Xn),Oe(Zn)}function gf(e){ir(Zn.current);var t=ir(ns.current),s=gl(t,e.type);t!==s&&(Ee(Xn,e),Ee(ns,s))}function Xc(e){Xn.current===e&&(Oe(ns),Oe(Xn))}var Me=Gs(0);function Ea(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Do=[];function Zc(){for(var e=0;e<Do.length;e++)Do[e]._workInProgressVersionPrimary=null;Do.length=0}var Qi=Ns.ReactCurrentDispatcher,Io=Ns.ReactCurrentBatchConfig,fr=0,Fe=null,Je=null,Qe=null,Ta=!1,Dn=!1,ei=0,gy=0;function rt(){throw Error($(321))}function ed(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Gt(e[s],t[s]))return!1;return!0}function td(e,t,s,r,i,a){if(fr=a,Fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qi.current=e===null||e.memoizedState===null?wy:jy,e=s(r,i),Dn){a=0;do{if(Dn=!1,ei=0,25<=a)throw Error($(301));a+=1,Qe=Je=null,t.updateQueue=null,Qi.current=Ny,e=s(r,i)}while(Dn)}if(Qi.current=Pa,t=Je!==null&&Je.next!==null,fr=0,Qe=Je=Fe=null,Ta=!1,t)throw Error($(300));return e}function sd(){var e=ei!==0;return ei=0,e}function ts(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Fe.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function $t(){if(Je===null){var e=Fe.alternate;e=e!==null?e.memoizedState:null}else e=Je.next;var t=Qe===null?Fe.memoizedState:Qe.next;if(t!==null)Qe=t,Je=e;else{if(e===null)throw Error($(310));Je=e,e={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Qe===null?Fe.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function ti(e,t){return typeof t=="function"?t(e):t}function Mo(e){var t=$t(),s=t.queue;if(s===null)throw Error($(311));s.lastRenderedReducer=e;var r=Je,i=r.baseQueue,a=s.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,s.pending=null}if(i!==null){a=i.next,r=r.baseState;var l=o=null,c=null,d=a;do{var m=d.lane;if((fr&m)===m)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var h={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,Fe.lanes|=m,pr|=m}d=d.next}while(d!==null&&d!==a);c===null?o=r:c.next=l,Gt(r,t.memoizedState)||(bt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,s.lastRenderedState=r}if(e=s.interleaved,e!==null){i=e;do a=i.lane,Fe.lanes|=a,pr|=a,i=i.next;while(i!==e)}else i===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function Fo(e){var t=$t(),s=t.queue;if(s===null)throw Error($(311));s.lastRenderedReducer=e;var r=s.dispatch,i=s.pending,a=t.memoizedState;if(i!==null){s.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Gt(a,t.memoizedState)||(bt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),s.lastRenderedState=a}return[a,r]}function yf(){}function bf(e,t){var s=Fe,r=$t(),i=t(),a=!Gt(r.memoizedState,i);if(a&&(r.memoizedState=i,bt=!0),r=r.queue,rd(jf.bind(null,s,r,e),[e]),r.getSnapshot!==t||a||Qe!==null&&Qe.memoizedState.tag&1){if(s.flags|=2048,si(9,wf.bind(null,s,r,i,t),void 0,null),Xe===null)throw Error($(349));fr&30||vf(s,t,i)}return i}function vf(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function wf(e,t,s,r){t.value=s,t.getSnapshot=r,Nf(t)&&kf(e)}function jf(e,t,s){return s(function(){Nf(t)&&kf(e)})}function Nf(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Gt(e,s)}catch{return!0}}function kf(e){var t=bs(e,1);t!==null&&Jt(t,e,1,-1)}function Ou(e){var t=ts();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:e},t.queue=e,e=e.dispatch=vy.bind(null,Fe,e),[t.memoizedState,e]}function si(e,t,s,r){return e={tag:e,create:t,destroy:s,deps:r,next:null},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,t.lastEffect=e)),e}function Sf(){return $t().memoizedState}function Yi(e,t,s,r){var i=ts();Fe.flags|=e,i.memoizedState=si(1|t,s,void 0,r===void 0?null:r)}function qa(e,t,s,r){var i=$t();r=r===void 0?null:r;var a=void 0;if(Je!==null){var o=Je.memoizedState;if(a=o.destroy,r!==null&&ed(r,o.deps)){i.memoizedState=si(t,s,a,r);return}}Fe.flags|=e,i.memoizedState=si(1|t,s,a,r)}function Lu(e,t){return Yi(8390656,8,e,t)}function rd(e,t){return qa(2048,8,e,t)}function Cf(e,t){return qa(4,2,e,t)}function Ef(e,t){return qa(4,4,e,t)}function Tf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Pf(e,t,s){return s=s!=null?s.concat([e]):null,qa(4,4,Tf.bind(null,t,e),s)}function nd(){}function _f(e,t){var s=$t();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&ed(t,r[1])?r[0]:(s.memoizedState=[e,t],e)}function Rf(e,t){var s=$t();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&ed(t,r[1])?r[0]:(e=e(),s.memoizedState=[e,t],e)}function Af(e,t,s){return fr&21?(Gt(s,t)||(s=Im(),Fe.lanes|=s,pr|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bt=!0),e.memoizedState=s)}function yy(e,t){var s=Ne;Ne=s!==0&&4>s?s:4,e(!0);var r=Io.transition;Io.transition={};try{e(!1),t()}finally{Ne=s,Io.transition=r}}function Of(){return $t().memoizedState}function by(e,t,s){var r=$s(e);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},Lf(e))Df(t,s);else if(s=pf(e,t,s,r),s!==null){var i=ht();Jt(s,e,r,i),If(s,t,r)}}function vy(e,t,s){var r=$s(e),i={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if(Lf(e))Df(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,s);if(i.hasEagerState=!0,i.eagerState=l,Gt(l,o)){var c=t.interleaved;c===null?(i.next=i,Gc(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}s=pf(e,t,i,r),s!==null&&(i=ht(),Jt(s,e,r,i),If(s,t,r))}}function Lf(e){var t=e.alternate;return e===Fe||t!==null&&t===Fe}function Df(e,t){Dn=Ta=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function If(e,t,s){if(s&4194240){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,Dc(e,s)}}var Pa={readContext:zt,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},wy={readContext:zt,useCallback:function(e,t){return ts().memoizedState=[e,t===void 0?null:t],e},useContext:zt,useEffect:Lu,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,Yi(4194308,4,Tf.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Yi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yi(4,2,e,t)},useMemo:function(e,t){var s=ts();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var r=ts();return t=s!==void 0?s(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=by.bind(null,Fe,e),[r.memoizedState,e]},useRef:function(e){var t=ts();return e={current:e},t.memoizedState=e},useState:Ou,useDebugValue:nd,useDeferredValue:function(e){return ts().memoizedState=e},useTransition:function(){var e=Ou(!1),t=e[0];return e=yy.bind(null,e[1]),ts().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var r=Fe,i=ts();if(Ie){if(s===void 0)throw Error($(407));s=s()}else{if(s=t(),Xe===null)throw Error($(349));fr&30||vf(r,t,s)}i.memoizedState=s;var a={value:s,getSnapshot:t};return i.queue=a,Lu(jf.bind(null,r,a,e),[e]),r.flags|=2048,si(9,wf.bind(null,r,a,s,t),void 0,null),s},useId:function(){var e=ts(),t=Xe.identifierPrefix;if(Ie){var s=ps,r=fs;s=(r&~(1<<32-Kt(r)-1)).toString(32)+s,t=":"+t+"R"+s,s=ei++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=gy++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jy={readContext:zt,useCallback:_f,useContext:zt,useEffect:rd,useImperativeHandle:Pf,useInsertionEffect:Cf,useLayoutEffect:Ef,useMemo:Rf,useReducer:Mo,useRef:Sf,useState:function(){return Mo(ti)},useDebugValue:nd,useDeferredValue:function(e){var t=$t();return Af(t,Je.memoizedState,e)},useTransition:function(){var e=Mo(ti)[0],t=$t().memoizedState;return[e,t]},useMutableSource:yf,useSyncExternalStore:bf,useId:Of,unstable_isNewReconciler:!1},Ny={readContext:zt,useCallback:_f,useContext:zt,useEffect:rd,useImperativeHandle:Pf,useInsertionEffect:Cf,useLayoutEffect:Ef,useMemo:Rf,useReducer:Fo,useRef:Sf,useState:function(){return Fo(ti)},useDebugValue:nd,useDeferredValue:function(e){var t=$t();return Je===null?t.memoizedState=e:Af(t,Je.memoizedState,e)},useTransition:function(){var e=Fo(ti)[0],t=$t().memoizedState;return[e,t]},useMutableSource:yf,useSyncExternalStore:bf,useId:Of,unstable_isNewReconciler:!1};function Vt(e,t){if(e&&e.defaultProps){t=Be({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function Fl(e,t,s,r){t=e.memoizedState,s=s(r,t),s=s==null?t:Be({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Ka={isMounted:function(e){return(e=e._reactInternals)?wr(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var r=ht(),i=$s(e),a=xs(r,i);a.payload=t,s!=null&&(a.callback=s),t=Bs(e,a,i),t!==null&&(Jt(t,e,i,r),Gi(t,e,i))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var r=ht(),i=$s(e),a=xs(r,i);a.tag=1,a.payload=t,s!=null&&(a.callback=s),t=Bs(e,a,i),t!==null&&(Jt(t,e,i,r),Gi(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=ht(),r=$s(e),i=xs(s,r);i.tag=2,t!=null&&(i.callback=t),t=Bs(e,i,r),t!==null&&(Jt(t,e,r,s),Gi(t,e,r))}};function Du(e,t,s,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Jn(s,r)||!Jn(i,a):!0}function Mf(e,t,s){var r=!1,i=qs,a=t.contextType;return typeof a=="object"&&a!==null?a=zt(a):(i=wt(t)?hr:ct.current,r=t.contextTypes,a=(r=r!=null)?qr(e,i):qs),t=new t(s,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ka,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Iu(e,t,s,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,r),t.state!==e&&Ka.enqueueReplaceState(t,t.state,null)}function Bl(e,t,s,r){var i=e.stateNode;i.props=s,i.state=e.memoizedState,i.refs={},Qc(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=zt(a):(a=wt(t)?hr:ct.current,i.context=qr(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Fl(e,t,a,s),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ka.enqueueReplaceState(i,i.state,null),Ca(e,s,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Qr(e,t){try{var s="",r=t;do s+=Y0(r),r=r.return;while(r);var i=s}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Bo(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function zl(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var ky=typeof WeakMap=="function"?WeakMap:Map;function Ff(e,t,s){s=xs(-1,s),s.tag=3,s.payload={element:null};var r=t.value;return s.callback=function(){Ra||(Ra=!0,Ql=r),zl(e,t)},s}function Bf(e,t,s){s=xs(-1,s),s.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;s.payload=function(){return r(i)},s.callback=function(){zl(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(s.callback=function(){zl(e,t),typeof r!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),s}function Mu(e,t,s){var r=e.pingCache;if(r===null){r=e.pingCache=new ky;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(s)||(i.add(s),e=Fy.bind(null,e,t,s),t.then(e,e))}function Fu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Bu(e,t,s,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=xs(-1,1),t.tag=2,Bs(s,t,1))),s.lanes|=1),e)}var Sy=Ns.ReactCurrentOwner,bt=!1;function ut(e,t,s,r){t.child=e===null?ff(t,null,s,r):Jr(t,e.child,s,r)}function zu(e,t,s,r,i){s=s.render;var a=t.ref;return Ur(t,i),r=td(e,t,s,r,a,i),s=sd(),e!==null&&!bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,vs(e,t,i)):(Ie&&s&&Vc(t),t.flags|=1,ut(e,t,r,i),t.child)}function $u(e,t,s,r,i){if(e===null){var a=s.type;return typeof a=="function"&&!hd(a)&&a.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=a,zf(e,t,a,r,i)):(e=ta(s.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(s=s.compare,s=s!==null?s:Jn,s(o,r)&&e.ref===t.ref)return vs(e,t,i)}return t.flags|=1,e=Us(a,r),e.ref=t.ref,e.return=t,t.child=e}function zf(e,t,s,r,i){if(e!==null){var a=e.memoizedProps;if(Jn(a,r)&&e.ref===t.ref)if(bt=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(bt=!0);else return t.lanes=e.lanes,vs(e,t,i)}return $l(e,t,s,r,i)}function $f(e,t,s){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(Mr,Ct),Ct|=s;else{if(!(s&1073741824))return e=a!==null?a.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ee(Mr,Ct),Ct|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:s,Ee(Mr,Ct),Ct|=r}else a!==null?(r=a.baseLanes|s,t.memoizedState=null):r=s,Ee(Mr,Ct),Ct|=r;return ut(e,t,i,s),t.child}function Uf(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function $l(e,t,s,r,i){var a=wt(s)?hr:ct.current;return a=qr(t,a),Ur(t,i),s=td(e,t,s,r,a,i),r=sd(),e!==null&&!bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,vs(e,t,i)):(Ie&&r&&Vc(t),t.flags|=1,ut(e,t,s,i),t.child)}function Uu(e,t,s,r,i){if(wt(s)){var a=!0;wa(t)}else a=!1;if(Ur(t,i),t.stateNode===null)Xi(e,t),Mf(t,s,r),Bl(t,s,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=s.contextType;typeof d=="object"&&d!==null?d=zt(d):(d=wt(s)?hr:ct.current,d=qr(t,d));var m=s.getDerivedStateFromProps,h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&Iu(t,o,r,d),Ps=!1;var x=t.memoizedState;o.state=x,Ca(t,r,o,i),c=t.memoizedState,l!==r||x!==c||vt.current||Ps?(typeof m=="function"&&(Fl(t,s,m,r),c=t.memoizedState),(l=Ps||Du(t,s,l,r,x,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,xf(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Vt(t.type,l),o.props=d,h=t.pendingProps,x=o.context,c=s.contextType,typeof c=="object"&&c!==null?c=zt(c):(c=wt(s)?hr:ct.current,c=qr(t,c));var w=s.getDerivedStateFromProps;(m=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||x!==c)&&Iu(t,o,r,c),Ps=!1,x=t.memoizedState,o.state=x,Ca(t,r,o,i);var g=t.memoizedState;l!==h||x!==g||vt.current||Ps?(typeof w=="function"&&(Fl(t,s,w,r),g=t.memoizedState),(d=Ps||Du(t,s,d,r,x,g,c)||!1)?(m||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),r=!1)}return Ul(e,t,s,r,a,i)}function Ul(e,t,s,r,i,a){Uf(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Eu(t,s,!1),vs(e,t,a);r=t.stateNode,Sy.current=t;var l=o&&typeof s.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Jr(t,e.child,null,a),t.child=Jr(t,null,l,a)):ut(e,t,l,a),t.memoizedState=r.state,i&&Eu(t,s,!0),t.child}function Vf(e){var t=e.stateNode;t.pendingContext?Cu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Cu(e,t.context,!1),Yc(e,t.containerInfo)}function Vu(e,t,s,r,i){return Kr(),Wc(i),t.flags|=256,ut(e,t,s,r),t.child}var Vl={dehydrated:null,treeContext:null,retryLane:0};function Hl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Hf(e,t,s){var r=t.pendingProps,i=Me.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ee(Me,i&1),e===null)return Il(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Qa(o,r,0,null),e=cr(e,r,s,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Hl(s),t.memoizedState=Vl,e):id(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Cy(e,t,o,r,l,i,s);if(a){a=r.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Us(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Us(l,a):(a=cr(a,o,s,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?Hl(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~s,t.memoizedState=Vl,r}return a=e.child,e=a.sibling,r=Us(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=s),r.return=t,r.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=r,t.memoizedState=null,r}function id(e,t){return t=Qa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Li(e,t,s,r){return r!==null&&Wc(r),Jr(t,e.child,null,s),e=id(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Cy(e,t,s,r,i,a,o){if(s)return t.flags&256?(t.flags&=-257,r=Bo(Error($(422))),Li(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Qa({mode:"visible",children:r.children},i,0,null),a=cr(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Jr(t,e.child,null,o),t.child.memoizedState=Hl(o),t.memoizedState=Vl,a);if(!(t.mode&1))return Li(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error($(419)),r=Bo(a,r,void 0),Li(e,t,o,r)}if(l=(o&e.childLanes)!==0,bt||l){if(r=Xe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,bs(e,i),Jt(r,e,i,-1))}return ud(),r=Bo(Error($(421))),Li(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=By.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Tt=Fs(i.nextSibling),Pt=t,Ie=!0,qt=null,e!==null&&(Dt[It++]=fs,Dt[It++]=ps,Dt[It++]=mr,fs=e.id,ps=e.overflow,mr=t),t=id(t,r.children),t.flags|=4096,t)}function Hu(e,t,s){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ml(e.return,t,s)}function zo(e,t,s,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=s,a.tailMode=i)}function Wf(e,t,s){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ut(e,t,r.children,s),r=Me.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hu(e,s,t);else if(e.tag===19)Hu(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ee(Me,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(s=t.child,i=null;s!==null;)e=s.alternate,e!==null&&Ea(e)===null&&(i=s),s=s.sibling;s=i,s===null?(i=t.child,t.child=null):(i=s.sibling,s.sibling=null),zo(t,!1,i,s,a);break;case"backwards":for(s=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ea(e)===null){t.child=i;break}e=i.sibling,i.sibling=s,s=i,i=e}zo(t,!0,s,null,a);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vs(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),pr|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,s=Us(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Us(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function Ey(e,t,s){switch(t.tag){case 3:Vf(t),Kr();break;case 5:gf(t);break;case 1:wt(t.type)&&wa(t);break;case 4:Yc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ee(ka,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ee(Me,Me.current&1),t.flags|=128,null):s&t.child.childLanes?Hf(e,t,s):(Ee(Me,Me.current&1),e=vs(e,t,s),e!==null?e.sibling:null);Ee(Me,Me.current&1);break;case 19:if(r=(s&t.childLanes)!==0,e.flags&128){if(r)return Wf(e,t,s);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ee(Me,Me.current),r)break;return null;case 22:case 23:return t.lanes=0,$f(e,t,s)}return vs(e,t,s)}var qf,Wl,Kf,Jf;qf=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Wl=function(){};Kf=function(e,t,s,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ir(ns.current);var a=null;switch(s){case"input":i=ml(e,i),r=ml(e,r),a=[];break;case"select":i=Be({},i,{value:void 0}),r=Be({},r,{value:void 0}),a=[];break;case"textarea":i=xl(e,i),r=xl(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ba)}yl(s,r);var o;s=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&($n.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var c=r[d];if(l=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(s||(s={}),s[o]=c[o])}else s||(a||(a=[]),a.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&($n.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ae("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}s&&(a=a||[]).push("style",s);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};Jf=function(e,t,s,r){s!==r&&(t.flags|=4)};function gn(e,t){if(!Ie)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(t)for(var i=e.child;i!==null;)s|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)s|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=s,t}function Ty(e,t,s){var r=t.pendingProps;switch(Hc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(t),null;case 1:return wt(t.type)&&va(),nt(t),null;case 3:return r=t.stateNode,Gr(),Oe(vt),Oe(ct),Zc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ai(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qt!==null&&(Zl(qt),qt=null))),Wl(e,t),nt(t),null;case 5:Xc(t);var i=ir(Zn.current);if(s=t.type,e!==null&&t.stateNode!=null)Kf(e,t,s,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error($(166));return nt(t),null}if(e=ir(ns.current),Ai(t)){r=t.stateNode,s=t.type;var a=t.memoizedProps;switch(r[ss]=t,r[Yn]=a,e=(t.mode&1)!==0,s){case"dialog":Ae("cancel",r),Ae("close",r);break;case"iframe":case"object":case"embed":Ae("load",r);break;case"video":case"audio":for(i=0;i<Tn.length;i++)Ae(Tn[i],r);break;case"source":Ae("error",r);break;case"img":case"image":case"link":Ae("error",r),Ae("load",r);break;case"details":Ae("toggle",r);break;case"input":Zd(r,a),Ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ae("invalid",r);break;case"textarea":tu(r,a),Ae("invalid",r)}yl(s,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&Ri(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Ri(r.textContent,l,e),i=["children",""+l]):$n.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ae("scroll",r)}switch(s){case"input":Ni(r),eu(r,a,!0);break;case"textarea":Ni(r),su(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=ba)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=wm(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(s,{is:r.is}):(e=o.createElement(s),s==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,s),e[ss]=t,e[Yn]=r,qf(e,t,!1,!1),t.stateNode=e;e:{switch(o=bl(s,r),s){case"dialog":Ae("cancel",e),Ae("close",e),i=r;break;case"iframe":case"object":case"embed":Ae("load",e),i=r;break;case"video":case"audio":for(i=0;i<Tn.length;i++)Ae(Tn[i],e);i=r;break;case"source":Ae("error",e),i=r;break;case"img":case"image":case"link":Ae("error",e),Ae("load",e),i=r;break;case"details":Ae("toggle",e),i=r;break;case"input":Zd(e,r),i=ml(e,r),Ae("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Be({},r,{value:void 0}),Ae("invalid",e);break;case"textarea":tu(e,r),i=xl(e,r),Ae("invalid",e);break;default:i=r}yl(s,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?km(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&jm(e,c)):a==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&Un(e,c):typeof c=="number"&&Un(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&($n.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Ae("scroll",e):c!=null&&Pc(e,a,c,o))}switch(s){case"input":Ni(e),eu(e,r,!1);break;case"textarea":Ni(e),su(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ws(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Fr(e,!!r.multiple,a,!1):r.defaultValue!=null&&Fr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ba)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return nt(t),null;case 6:if(e&&t.stateNode!=null)Jf(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error($(166));if(s=ir(Zn.current),ir(ns.current),Ai(t)){if(r=t.stateNode,s=t.memoizedProps,r[ss]=t,(a=r.nodeValue!==s)&&(e=Pt,e!==null))switch(e.tag){case 3:Ri(r.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ri(r.nodeValue,s,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(s.nodeType===9?s:s.ownerDocument).createTextNode(r),r[ss]=t,t.stateNode=r}return nt(t),null;case 13:if(Oe(Me),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ie&&Tt!==null&&t.mode&1&&!(t.flags&128))hf(),Kr(),t.flags|=98560,a=!1;else if(a=Ai(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error($(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error($(317));a[ss]=t}else Kr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;nt(t),a=!1}else qt!==null&&(Zl(qt),qt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Me.current&1?Ge===0&&(Ge=3):ud())),t.updateQueue!==null&&(t.flags|=4),nt(t),null);case 4:return Gr(),Wl(e,t),e===null&&Gn(t.stateNode.containerInfo),nt(t),null;case 10:return Jc(t.type._context),nt(t),null;case 17:return wt(t.type)&&va(),nt(t),null;case 19:if(Oe(Me),a=t.memoizedState,a===null)return nt(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)gn(a,!1);else{if(Ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ea(e),o!==null){for(t.flags|=128,gn(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=s,s=t.child;s!==null;)a=s,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Ee(Me,Me.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ve()>Yr&&(t.flags|=128,r=!0,gn(a,!1),t.lanes=4194304)}else{if(!r)if(e=Ea(o),e!==null){if(t.flags|=128,r=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),gn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Ie)return nt(t),null}else 2*Ve()-a.renderingStartTime>Yr&&s!==1073741824&&(t.flags|=128,r=!0,gn(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(s=a.last,s!==null?s.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ve(),t.sibling=null,s=Me.current,Ee(Me,r?s&1|2:s&1),t):(nt(t),null);case 22:case 23:return dd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ct&1073741824&&(nt(t),t.subtreeFlags&6&&(t.flags|=8192)):nt(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function Py(e,t){switch(Hc(t),t.tag){case 1:return wt(t.type)&&va(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gr(),Oe(vt),Oe(ct),Zc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Xc(t),null;case 13:if(Oe(Me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));Kr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Oe(Me),null;case 4:return Gr(),null;case 10:return Jc(t.type._context),null;case 22:case 23:return dd(),null;case 24:return null;default:return null}}var Di=!1,at=!1,_y=typeof WeakSet=="function"?WeakSet:Set,G=null;function Ir(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(r){$e(e,t,r)}else s.current=null}function ql(e,t,s){try{s()}catch(r){$e(e,t,r)}}var Wu=!1;function Ry(e,t){if(Pl=xa,e=Xm(),Uc(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var o=0,l=-1,c=-1,d=0,m=0,h=e,x=null;t:for(;;){for(var w;h!==s||i!==0&&h.nodeType!==3||(l=o+i),h!==a||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(w=h.firstChild)!==null;)x=h,h=w;for(;;){if(h===e)break t;if(x===s&&++d===i&&(l=o),x===a&&++m===r&&(c=o),(w=h.nextSibling)!==null)break;h=x,x=h.parentNode}h=w}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(_l={focusedElem:e,selectionRange:s},xa=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,b=g.memoizedState,p=t.stateNode,f=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:Vt(t.type,v),b);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(N){$e(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return g=Wu,Wu=!1,g}function In(e,t,s){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&ql(t,s,a)}i=i.next}while(i!==r)}}function Ja(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var r=s.create;s.destroy=r()}s=s.next}while(s!==t)}}function Kl(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function Gf(e){var t=e.alternate;t!==null&&(e.alternate=null,Gf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ss],delete t[Yn],delete t[Ol],delete t[my],delete t[fy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Qf(e){return e.tag===5||e.tag===3||e.tag===4}function qu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jl(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=ba));else if(r!==4&&(e=e.child,e!==null))for(Jl(e,t,s),e=e.sibling;e!==null;)Jl(e,t,s),e=e.sibling}function Gl(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Gl(e,t,s),e=e.sibling;e!==null;)Gl(e,t,s),e=e.sibling}var et=null,Ht=!1;function Ss(e,t,s){for(s=s.child;s!==null;)Yf(e,t,s),s=s.sibling}function Yf(e,t,s){if(rs&&typeof rs.onCommitFiberUnmount=="function")try{rs.onCommitFiberUnmount(za,s)}catch{}switch(s.tag){case 5:at||Ir(s,t);case 6:var r=et,i=Ht;et=null,Ss(e,t,s),et=r,Ht=i,et!==null&&(Ht?(e=et,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):et.removeChild(s.stateNode));break;case 18:et!==null&&(Ht?(e=et,s=s.stateNode,e.nodeType===8?Oo(e.parentNode,s):e.nodeType===1&&Oo(e,s),qn(e)):Oo(et,s.stateNode));break;case 4:r=et,i=Ht,et=s.stateNode.containerInfo,Ht=!0,Ss(e,t,s),et=r,Ht=i;break;case 0:case 11:case 14:case 15:if(!at&&(r=s.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&ql(s,t,o),i=i.next}while(i!==r)}Ss(e,t,s);break;case 1:if(!at&&(Ir(s,t),r=s.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(l){$e(s,t,l)}Ss(e,t,s);break;case 21:Ss(e,t,s);break;case 22:s.mode&1?(at=(r=at)||s.memoizedState!==null,Ss(e,t,s),at=r):Ss(e,t,s);break;default:Ss(e,t,s)}}function Ku(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new _y),t.forEach(function(r){var i=zy.bind(null,e,r);s.has(r)||(s.add(r),r.then(i,i))})}}function Ut(e,t){var s=t.deletions;if(s!==null)for(var r=0;r<s.length;r++){var i=s[r];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:et=l.stateNode,Ht=!1;break e;case 3:et=l.stateNode.containerInfo,Ht=!0;break e;case 4:et=l.stateNode.containerInfo,Ht=!0;break e}l=l.return}if(et===null)throw Error($(160));Yf(a,o,i),et=null,Ht=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){$e(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Xf(t,e),t=t.sibling}function Xf(e,t){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ut(t,e),Zt(e),r&4){try{In(3,e,e.return),Ja(3,e)}catch(v){$e(e,e.return,v)}try{In(5,e,e.return)}catch(v){$e(e,e.return,v)}}break;case 1:Ut(t,e),Zt(e),r&512&&s!==null&&Ir(s,s.return);break;case 5:if(Ut(t,e),Zt(e),r&512&&s!==null&&Ir(s,s.return),e.flags&32){var i=e.stateNode;try{Un(i,"")}catch(v){$e(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=s!==null?s.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&bm(i,a),bl(l,o);var d=bl(l,a);for(o=0;o<c.length;o+=2){var m=c[o],h=c[o+1];m==="style"?km(i,h):m==="dangerouslySetInnerHTML"?jm(i,h):m==="children"?Un(i,h):Pc(i,m,h,d)}switch(l){case"input":fl(i,a);break;case"textarea":vm(i,a);break;case"select":var x=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var w=a.value;w!=null?Fr(i,!!a.multiple,w,!1):x!==!!a.multiple&&(a.defaultValue!=null?Fr(i,!!a.multiple,a.defaultValue,!0):Fr(i,!!a.multiple,a.multiple?[]:"",!1))}i[Yn]=a}catch(v){$e(e,e.return,v)}}break;case 6:if(Ut(t,e),Zt(e),r&4){if(e.stateNode===null)throw Error($(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){$e(e,e.return,v)}}break;case 3:if(Ut(t,e),Zt(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{qn(t.containerInfo)}catch(v){$e(e,e.return,v)}break;case 4:Ut(t,e),Zt(e);break;case 13:Ut(t,e),Zt(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(ld=Ve())),r&4&&Ku(e);break;case 22:if(m=s!==null&&s.memoizedState!==null,e.mode&1?(at=(d=at)||m,Ut(t,e),at=d):Ut(t,e),Zt(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!m&&e.mode&1)for(G=e,m=e.child;m!==null;){for(h=G=m;G!==null;){switch(x=G,w=x.child,x.tag){case 0:case 11:case 14:case 15:In(4,x,x.return);break;case 1:Ir(x,x.return);var g=x.stateNode;if(typeof g.componentWillUnmount=="function"){r=x,s=x.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){$e(r,s,v)}}break;case 5:Ir(x,x.return);break;case 22:if(x.memoizedState!==null){Gu(h);continue}}w!==null?(w.return=x,G=w):Gu(h)}m=m.sibling}e:for(m=null,h=e;;){if(h.tag===5){if(m===null){m=h;try{i=h.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Nm("display",o))}catch(v){$e(e,e.return,v)}}}else if(h.tag===6){if(m===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(v){$e(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;m===h&&(m=null),h=h.return}m===h&&(m=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ut(t,e),Zt(e),r&4&&Ku(e);break;case 21:break;default:Ut(t,e),Zt(e)}}function Zt(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(Qf(s)){var r=s;break e}s=s.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Un(i,""),r.flags&=-33);var a=qu(e);Gl(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=qu(e);Jl(e,l,o);break;default:throw Error($(161))}}catch(c){$e(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ay(e,t,s){G=e,Zf(e)}function Zf(e,t,s){for(var r=(e.mode&1)!==0;G!==null;){var i=G,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Di;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||at;l=Di;var d=at;if(Di=o,(at=c)&&!d)for(G=i;G!==null;)o=G,c=o.child,o.tag===22&&o.memoizedState!==null?Qu(i):c!==null?(c.return=o,G=c):Qu(i);for(;a!==null;)G=a,Zf(a),a=a.sibling;G=i,Di=l,at=d}Ju(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,G=a):Ju(e)}}function Ju(e){for(;G!==null;){var t=G;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:at||Ja(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!at)if(s===null)r.componentDidMount();else{var i=t.elementType===t.type?s.memoizedProps:Vt(t.type,s.memoizedProps);r.componentDidUpdate(i,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Au(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Au(t,o,s)}break;case 5:var l=t.stateNode;if(s===null&&t.flags&4){s=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var h=m.dehydrated;h!==null&&qn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}at||t.flags&512&&Kl(t)}catch(x){$e(t,t.return,x)}}if(t===e){G=null;break}if(s=t.sibling,s!==null){s.return=t.return,G=s;break}G=t.return}}function Gu(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var s=t.sibling;if(s!==null){s.return=t.return,G=s;break}G=t.return}}function Qu(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{Ja(4,t)}catch(c){$e(t,s,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){$e(t,i,c)}}var a=t.return;try{Kl(t)}catch(c){$e(t,a,c)}break;case 5:var o=t.return;try{Kl(t)}catch(c){$e(t,o,c)}}}catch(c){$e(t,t.return,c)}if(t===e){G=null;break}var l=t.sibling;if(l!==null){l.return=t.return,G=l;break}G=t.return}}var Oy=Math.ceil,_a=Ns.ReactCurrentDispatcher,ad=Ns.ReactCurrentOwner,Bt=Ns.ReactCurrentBatchConfig,ye=0,Xe=null,We=null,tt=0,Ct=0,Mr=Gs(0),Ge=0,ri=null,pr=0,Ga=0,od=0,Mn=null,yt=null,ld=0,Yr=1/0,hs=null,Ra=!1,Ql=null,zs=null,Ii=!1,Os=null,Aa=0,Fn=0,Yl=null,Zi=-1,ea=0;function ht(){return ye&6?Ve():Zi!==-1?Zi:Zi=Ve()}function $s(e){return e.mode&1?ye&2&&tt!==0?tt&-tt:xy.transition!==null?(ea===0&&(ea=Im()),ea):(e=Ne,e!==0||(e=window.event,e=e===void 0?16:Vm(e.type)),e):1}function Jt(e,t,s,r){if(50<Fn)throw Fn=0,Yl=null,Error($(185));ci(e,s,r),(!(ye&2)||e!==Xe)&&(e===Xe&&(!(ye&2)&&(Ga|=s),Ge===4&&Rs(e,tt)),jt(e,r),s===1&&ye===0&&!(t.mode&1)&&(Yr=Ve()+500,Wa&&Qs()))}function jt(e,t){var s=e.callbackNode;xg(e,t);var r=pa(e,e===Xe?tt:0);if(r===0)s!==null&&iu(s),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(s!=null&&iu(s),t===1)e.tag===0?py(Yu.bind(null,e)):cf(Yu.bind(null,e)),uy(function(){!(ye&6)&&Qs()}),s=null;else{switch(Mm(r)){case 1:s=Lc;break;case 4:s=Lm;break;case 16:s=fa;break;case 536870912:s=Dm;break;default:s=fa}s=op(s,ep.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function ep(e,t){if(Zi=-1,ea=0,ye&6)throw Error($(327));var s=e.callbackNode;if(Vr()&&e.callbackNode!==s)return null;var r=pa(e,e===Xe?tt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Oa(e,r);else{t=r;var i=ye;ye|=2;var a=sp();(Xe!==e||tt!==t)&&(hs=null,Yr=Ve()+500,lr(e,t));do try{Iy();break}catch(l){tp(e,l)}while(!0);Kc(),_a.current=a,ye=i,We!==null?t=0:(Xe=null,tt=0,t=Ge)}if(t!==0){if(t===2&&(i=kl(e),i!==0&&(r=i,t=Xl(e,i))),t===1)throw s=ri,lr(e,0),Rs(e,r),jt(e,Ve()),s;if(t===6)Rs(e,r);else{if(i=e.current.alternate,!(r&30)&&!Ly(i)&&(t=Oa(e,r),t===2&&(a=kl(e),a!==0&&(r=a,t=Xl(e,a))),t===1))throw s=ri,lr(e,0),Rs(e,r),jt(e,Ve()),s;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error($(345));case 2:sr(e,yt,hs);break;case 3:if(Rs(e,r),(r&130023424)===r&&(t=ld+500-Ve(),10<t)){if(pa(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ht(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Al(sr.bind(null,e,yt,hs),t);break}sr(e,yt,hs);break;case 4:if(Rs(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Kt(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=Ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Oy(r/1960))-r,10<r){e.timeoutHandle=Al(sr.bind(null,e,yt,hs),r);break}sr(e,yt,hs);break;case 5:sr(e,yt,hs);break;default:throw Error($(329))}}}return jt(e,Ve()),e.callbackNode===s?ep.bind(null,e):null}function Xl(e,t){var s=Mn;return e.current.memoizedState.isDehydrated&&(lr(e,t).flags|=256),e=Oa(e,t),e!==2&&(t=yt,yt=s,t!==null&&Zl(t)),e}function Zl(e){yt===null?yt=e:yt.push.apply(yt,e)}function Ly(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var r=0;r<s.length;r++){var i=s[r],a=i.getSnapshot;i=i.value;try{if(!Gt(a(),i))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rs(e,t){for(t&=~od,t&=~Ga,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Kt(t),r=1<<s;e[s]=-1,t&=~r}}function Yu(e){if(ye&6)throw Error($(327));Vr();var t=pa(e,0);if(!(t&1))return jt(e,Ve()),null;var s=Oa(e,t);if(e.tag!==0&&s===2){var r=kl(e);r!==0&&(t=r,s=Xl(e,r))}if(s===1)throw s=ri,lr(e,0),Rs(e,t),jt(e,Ve()),s;if(s===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,sr(e,yt,hs),jt(e,Ve()),null}function cd(e,t){var s=ye;ye|=1;try{return e(t)}finally{ye=s,ye===0&&(Yr=Ve()+500,Wa&&Qs())}}function xr(e){Os!==null&&Os.tag===0&&!(ye&6)&&Vr();var t=ye;ye|=1;var s=Bt.transition,r=Ne;try{if(Bt.transition=null,Ne=1,e)return e()}finally{Ne=r,Bt.transition=s,ye=t,!(ye&6)&&Qs()}}function dd(){Ct=Mr.current,Oe(Mr)}function lr(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,dy(s)),We!==null)for(s=We.return;s!==null;){var r=s;switch(Hc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&va();break;case 3:Gr(),Oe(vt),Oe(ct),Zc();break;case 5:Xc(r);break;case 4:Gr();break;case 13:Oe(Me);break;case 19:Oe(Me);break;case 10:Jc(r.type._context);break;case 22:case 23:dd()}s=s.return}if(Xe=e,We=e=Us(e.current,null),tt=Ct=t,Ge=0,ri=null,od=Ga=pr=0,yt=Mn=null,nr!==null){for(t=0;t<nr.length;t++)if(s=nr[t],r=s.interleaved,r!==null){s.interleaved=null;var i=r.next,a=s.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}s.pending=r}nr=null}return e}function tp(e,t){do{var s=We;try{if(Kc(),Qi.current=Pa,Ta){for(var r=Fe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ta=!1}if(fr=0,Qe=Je=Fe=null,Dn=!1,ei=0,ad.current=null,s===null||s.return===null){Ge=1,ri=t,We=null;break}e:{var a=e,o=s.return,l=s,c=t;if(t=tt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,m=l,h=m.tag;if(!(m.mode&1)&&(h===0||h===11||h===15)){var x=m.alternate;x?(m.updateQueue=x.updateQueue,m.memoizedState=x.memoizedState,m.lanes=x.lanes):(m.updateQueue=null,m.memoizedState=null)}var w=Fu(o);if(w!==null){w.flags&=-257,Bu(w,o,l,a,t),w.mode&1&&Mu(a,d,t),t=w,c=d;var g=t.updateQueue;if(g===null){var v=new Set;v.add(c),t.updateQueue=v}else g.add(c);break e}else{if(!(t&1)){Mu(a,d,t),ud();break e}c=Error($(426))}}else if(Ie&&l.mode&1){var b=Fu(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Bu(b,o,l,a,t),Wc(Qr(c,l));break e}}a=c=Qr(c,l),Ge!==4&&(Ge=2),Mn===null?Mn=[a]:Mn.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var p=Ff(a,c,t);Ru(a,p);break e;case 1:l=c;var f=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof f.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(zs===null||!zs.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=Bf(a,l,t);Ru(a,N);break e}}a=a.return}while(a!==null)}np(s)}catch(k){t=k,We===s&&s!==null&&(We=s=s.return);continue}break}while(!0)}function sp(){var e=_a.current;return _a.current=Pa,e===null?Pa:e}function ud(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),Xe===null||!(pr&268435455)&&!(Ga&268435455)||Rs(Xe,tt)}function Oa(e,t){var s=ye;ye|=2;var r=sp();(Xe!==e||tt!==t)&&(hs=null,lr(e,t));do try{Dy();break}catch(i){tp(e,i)}while(!0);if(Kc(),ye=s,_a.current=r,We!==null)throw Error($(261));return Xe=null,tt=0,Ge}function Dy(){for(;We!==null;)rp(We)}function Iy(){for(;We!==null&&!og();)rp(We)}function rp(e){var t=ap(e.alternate,e,Ct);e.memoizedProps=e.pendingProps,t===null?np(e):We=t,ad.current=null}function np(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=Py(s,t),s!==null){s.flags&=32767,We=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ge=6,We=null;return}}else if(s=Ty(s,t,Ct),s!==null){We=s;return}if(t=t.sibling,t!==null){We=t;return}We=t=e}while(t!==null);Ge===0&&(Ge=5)}function sr(e,t,s){var r=Ne,i=Bt.transition;try{Bt.transition=null,Ne=1,My(e,t,s,r)}finally{Bt.transition=i,Ne=r}return null}function My(e,t,s,r){do Vr();while(Os!==null);if(ye&6)throw Error($(327));s=e.finishedWork;var i=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var a=s.lanes|s.childLanes;if(gg(e,a),e===Xe&&(We=Xe=null,tt=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Ii||(Ii=!0,op(fa,function(){return Vr(),null})),a=(s.flags&15990)!==0,s.subtreeFlags&15990||a){a=Bt.transition,Bt.transition=null;var o=Ne;Ne=1;var l=ye;ye|=4,ad.current=null,Ry(e,s),Xf(s,e),ry(_l),xa=!!Pl,_l=Pl=null,e.current=s,Ay(s),lg(),ye=l,Ne=o,Bt.transition=a}else e.current=s;if(Ii&&(Ii=!1,Os=e,Aa=i),a=e.pendingLanes,a===0&&(zs=null),ug(s.stateNode),jt(e,Ve()),t!==null)for(r=e.onRecoverableError,s=0;s<t.length;s++)i=t[s],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ra)throw Ra=!1,e=Ql,Ql=null,e;return Aa&1&&e.tag!==0&&Vr(),a=e.pendingLanes,a&1?e===Yl?Fn++:(Fn=0,Yl=e):Fn=0,Qs(),null}function Vr(){if(Os!==null){var e=Mm(Aa),t=Bt.transition,s=Ne;try{if(Bt.transition=null,Ne=16>e?16:e,Os===null)var r=!1;else{if(e=Os,Os=null,Aa=0,ye&6)throw Error($(331));var i=ye;for(ye|=4,G=e.current;G!==null;){var a=G,o=a.child;if(G.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(G=d;G!==null;){var m=G;switch(m.tag){case 0:case 11:case 15:In(8,m,a)}var h=m.child;if(h!==null)h.return=m,G=h;else for(;G!==null;){m=G;var x=m.sibling,w=m.return;if(Gf(m),m===d){G=null;break}if(x!==null){x.return=w,G=x;break}G=w}}}var g=a.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}G=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,G=o;else e:for(;G!==null;){if(a=G,a.flags&2048)switch(a.tag){case 0:case 11:case 15:In(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,G=p;break e}G=a.return}}var f=e.current;for(G=f;G!==null;){o=G;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,G=y;else e:for(o=f;G!==null;){if(l=G,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ja(9,l)}}catch(k){$e(l,l.return,k)}if(l===o){G=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,G=N;break e}G=l.return}}if(ye=i,Qs(),rs&&typeof rs.onPostCommitFiberRoot=="function")try{rs.onPostCommitFiberRoot(za,e)}catch{}r=!0}return r}finally{Ne=s,Bt.transition=t}}return!1}function Xu(e,t,s){t=Qr(s,t),t=Ff(e,t,1),e=Bs(e,t,1),t=ht(),e!==null&&(ci(e,1,t),jt(e,t))}function $e(e,t,s){if(e.tag===3)Xu(e,e,s);else for(;t!==null;){if(t.tag===3){Xu(t,e,s);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zs===null||!zs.has(r))){e=Qr(s,e),e=Bf(t,e,1),t=Bs(t,e,1),e=ht(),t!==null&&(ci(t,1,e),jt(t,e));break}}t=t.return}}function Fy(e,t,s){var r=e.pingCache;r!==null&&r.delete(t),t=ht(),e.pingedLanes|=e.suspendedLanes&s,Xe===e&&(tt&s)===s&&(Ge===4||Ge===3&&(tt&130023424)===tt&&500>Ve()-ld?lr(e,0):od|=s),jt(e,t)}function ip(e,t){t===0&&(e.mode&1?(t=Ci,Ci<<=1,!(Ci&130023424)&&(Ci=4194304)):t=1);var s=ht();e=bs(e,t),e!==null&&(ci(e,t,s),jt(e,s))}function By(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),ip(e,s)}function zy(e,t){var s=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(s=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(t),ip(e,s)}var ap;ap=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||vt.current)bt=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return bt=!1,Ey(e,t,s);bt=!!(e.flags&131072)}else bt=!1,Ie&&t.flags&1048576&&df(t,Na,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Xi(e,t),e=t.pendingProps;var i=qr(t,ct.current);Ur(t,s),i=td(null,t,r,e,i,s);var a=sd();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wt(r)?(a=!0,wa(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Qc(t),i.updater=Ka,t.stateNode=i,i._reactInternals=t,Bl(t,r,e,s),t=Ul(null,t,r,!0,a,s)):(t.tag=0,Ie&&a&&Vc(t),ut(null,t,i,s),t=t.child),t;case 16:r=t.elementType;e:{switch(Xi(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Uy(r),e=Vt(r,e),i){case 0:t=$l(null,t,r,e,s);break e;case 1:t=Uu(null,t,r,e,s);break e;case 11:t=zu(null,t,r,e,s);break e;case 14:t=$u(null,t,r,Vt(r.type,e),s);break e}throw Error($(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Vt(r,i),$l(e,t,r,i,s);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Vt(r,i),Uu(e,t,r,i,s);case 3:e:{if(Vf(t),e===null)throw Error($(387));r=t.pendingProps,a=t.memoizedState,i=a.element,xf(e,t),Ca(t,r,null,s);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Qr(Error($(423)),t),t=Vu(e,t,r,s,i);break e}else if(r!==i){i=Qr(Error($(424)),t),t=Vu(e,t,r,s,i);break e}else for(Tt=Fs(t.stateNode.containerInfo.firstChild),Pt=t,Ie=!0,qt=null,s=ff(t,null,r,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Kr(),r===i){t=vs(e,t,s);break e}ut(e,t,r,s)}t=t.child}return t;case 5:return gf(t),e===null&&Il(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,Rl(r,i)?o=null:a!==null&&Rl(r,a)&&(t.flags|=32),Uf(e,t),ut(e,t,o,s),t.child;case 6:return e===null&&Il(t),null;case 13:return Hf(e,t,s);case 4:return Yc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Jr(t,null,r,s):ut(e,t,r,s),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Vt(r,i),zu(e,t,r,i,s);case 7:return ut(e,t,t.pendingProps,s),t.child;case 8:return ut(e,t,t.pendingProps.children,s),t.child;case 12:return ut(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ee(ka,r._currentValue),r._currentValue=o,a!==null)if(Gt(a.value,o)){if(a.children===i.children&&!vt.current){t=vs(e,t,s);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=xs(-1,s&-s),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var m=d.pending;m===null?c.next=c:(c.next=m.next,m.next=c),d.pending=c}}a.lanes|=s,c=a.alternate,c!==null&&(c.lanes|=s),Ml(a.return,s,t),l.lanes|=s;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error($(341));o.lanes|=s,l=o.alternate,l!==null&&(l.lanes|=s),Ml(o,s,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}ut(e,t,i.children,s),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ur(t,s),i=zt(i),r=r(i),t.flags|=1,ut(e,t,r,s),t.child;case 14:return r=t.type,i=Vt(r,t.pendingProps),i=Vt(r.type,i),$u(e,t,r,i,s);case 15:return zf(e,t,t.type,t.pendingProps,s);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Vt(r,i),Xi(e,t),t.tag=1,wt(r)?(e=!0,wa(t)):e=!1,Ur(t,s),Mf(t,r,i),Bl(t,r,i,s),Ul(null,t,r,!0,e,s);case 19:return Wf(e,t,s);case 22:return $f(e,t,s)}throw Error($(156,t.tag))};function op(e,t){return Om(e,t)}function $y(e,t,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(e,t,s,r){return new $y(e,t,s,r)}function hd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Uy(e){if(typeof e=="function")return hd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Rc)return 11;if(e===Ac)return 14}return 2}function Us(e,t){var s=e.alternate;return s===null?(s=Ft(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function ta(e,t,s,r,i,a){var o=2;if(r=e,typeof e=="function")hd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Er:return cr(s.children,i,a,t);case _c:o=8,i|=8;break;case cl:return e=Ft(12,s,t,i|2),e.elementType=cl,e.lanes=a,e;case dl:return e=Ft(13,s,t,i),e.elementType=dl,e.lanes=a,e;case ul:return e=Ft(19,s,t,i),e.elementType=ul,e.lanes=a,e;case xm:return Qa(s,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fm:o=10;break e;case pm:o=9;break e;case Rc:o=11;break e;case Ac:o=14;break e;case Ts:o=16,r=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=Ft(o,s,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function cr(e,t,s,r){return e=Ft(7,e,r,t),e.lanes=s,e}function Qa(e,t,s,r){return e=Ft(22,e,r,t),e.elementType=xm,e.lanes=s,e.stateNode={isHidden:!1},e}function $o(e,t,s){return e=Ft(6,e,null,t),e.lanes=s,e}function Uo(e,t,s){return t=Ft(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vy(e,t,s,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jo(0),this.expirationTimes=jo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jo(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function md(e,t,s,r,i,a,o,l,c){return e=new Vy(e,t,s,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ft(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qc(a),e}function Hy(e,t,s){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:s}}function lp(e){if(!e)return qs;e=e._reactInternals;e:{if(wr(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var s=e.type;if(wt(s))return lf(e,s,t)}return t}function cp(e,t,s,r,i,a,o,l,c){return e=md(s,r,!0,e,i,a,o,l,c),e.context=lp(null),s=e.current,r=ht(),i=$s(s),a=xs(r,i),a.callback=t??null,Bs(s,a,i),e.current.lanes=i,ci(e,i,r),jt(e,r),e}function Ya(e,t,s,r){var i=t.current,a=ht(),o=$s(i);return s=lp(s),t.context===null?t.context=s:t.pendingContext=s,t=xs(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Bs(i,t,o),e!==null&&(Jt(e,i,o,a),Gi(e,i,o)),o}function La(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Zu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function fd(e,t){Zu(e,t),(e=e.alternate)&&Zu(e,t)}function Wy(){return null}var dp=typeof reportError=="function"?reportError:function(e){console.error(e)};function pd(e){this._internalRoot=e}Xa.prototype.render=pd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));Ya(e,t,null,null)};Xa.prototype.unmount=pd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xr(function(){Ya(null,e,null,null)}),t[ys]=null}};function Xa(e){this._internalRoot=e}Xa.prototype.unstable_scheduleHydration=function(e){if(e){var t=zm();e={blockedOn:null,target:e,priority:t};for(var s=0;s<_s.length&&t!==0&&t<_s[s].priority;s++);_s.splice(s,0,e),s===0&&Um(e)}};function xd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Za(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function eh(){}function qy(e,t,s,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var d=La(o);a.call(d)}}var o=cp(t,r,e,0,null,!1,!1,"",eh);return e._reactRootContainer=o,e[ys]=o.current,Gn(e.nodeType===8?e.parentNode:e),xr(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var d=La(c);l.call(d)}}var c=md(e,0,!1,null,null,!1,!1,"",eh);return e._reactRootContainer=c,e[ys]=c.current,Gn(e.nodeType===8?e.parentNode:e),xr(function(){Ya(t,c,s,r)}),c}function eo(e,t,s,r,i){var a=s._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=La(o);l.call(c)}}Ya(t,o,e,i)}else o=qy(s,t,e,i,r);return La(o)}Fm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=En(t.pendingLanes);s!==0&&(Dc(t,s|1),jt(t,Ve()),!(ye&6)&&(Yr=Ve()+500,Qs()))}break;case 13:xr(function(){var r=bs(e,1);if(r!==null){var i=ht();Jt(r,e,1,i)}}),fd(e,1)}};Ic=function(e){if(e.tag===13){var t=bs(e,134217728);if(t!==null){var s=ht();Jt(t,e,134217728,s)}fd(e,134217728)}};Bm=function(e){if(e.tag===13){var t=$s(e),s=bs(e,t);if(s!==null){var r=ht();Jt(s,e,t,r)}fd(e,t)}};zm=function(){return Ne};$m=function(e,t){var s=Ne;try{return Ne=e,t()}finally{Ne=s}};wl=function(e,t,s){switch(t){case"input":if(fl(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var r=s[t];if(r!==e&&r.form===e.form){var i=Ha(r);if(!i)throw Error($(90));ym(r),fl(r,i)}}}break;case"textarea":vm(e,s);break;case"select":t=s.value,t!=null&&Fr(e,!!s.multiple,t,!1)}};Em=cd;Tm=xr;var Ky={usingClientEntryPoint:!1,Events:[ui,Rr,Ha,Sm,Cm,cd]},yn={findFiberByHostInstance:rr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jy={bundleType:yn.bundleType,version:yn.version,rendererPackageName:yn.rendererPackageName,rendererConfig:yn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ns.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Rm(e),e===null?null:e.stateNode},findFiberByHostInstance:yn.findFiberByHostInstance||Wy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mi.isDisabled&&Mi.supportsFiber)try{za=Mi.inject(Jy),rs=Mi}catch{}}Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ky;Rt.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xd(t))throw Error($(200));return Hy(e,t,null,s)};Rt.createRoot=function(e,t){if(!xd(e))throw Error($(299));var s=!1,r="",i=dp;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=md(e,1,!1,null,null,s,!1,r,i),e[ys]=t.current,Gn(e.nodeType===8?e.parentNode:e),new pd(t)};Rt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=Rm(t),e=e===null?null:e.stateNode,e};Rt.flushSync=function(e){return xr(e)};Rt.hydrate=function(e,t,s){if(!Za(t))throw Error($(200));return eo(null,e,t,!0,s)};Rt.hydrateRoot=function(e,t,s){if(!xd(e))throw Error($(405));var r=s!=null&&s.hydratedSources||null,i=!1,a="",o=dp;if(s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),t=cp(t,null,e,1,s??null,i,!1,a,o),e[ys]=t.current,Gn(e),r)for(e=0;e<r.length;e++)s=r[e],i=s._getVersion,i=i(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,i]:t.mutableSourceEagerHydrationData.push(s,i);return new Xa(t)};Rt.render=function(e,t,s){if(!Za(t))throw Error($(200));return eo(null,e,t,!1,s)};Rt.unmountComponentAtNode=function(e){if(!Za(e))throw Error($(40));return e._reactRootContainer?(xr(function(){eo(null,null,e,!1,function(){e._reactRootContainer=null,e[ys]=null})}),!0):!1};Rt.unstable_batchedUpdates=cd;Rt.unstable_renderSubtreeIntoContainer=function(e,t,s,r){if(!Za(s))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return eo(e,t,s,!1,r)};Rt.version="18.3.1-next-f1338f8080-20240426";function up(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(up)}catch(e){console.error(e)}}up(),dm.exports=Rt;var to=dm.exports;const Gy=Xh(to);var th=to;ol.createRoot=th.createRoot,ol.hydrateRoot=th.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ni(){return ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},ni.apply(this,arguments)}var Ls;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ls||(Ls={}));const sh="popstate";function Qy(e){e===void 0&&(e={});function t(r,i){let{pathname:a,search:o,hash:l}=r.location;return ec("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(r,i){return typeof i=="string"?i:Da(i)}return Xy(t,s,null,e)}function Ke(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function hp(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Yy(){return Math.random().toString(36).substr(2,8)}function rh(e,t){return{usr:e.state,key:e.key,idx:t}}function ec(e,t,s,r){return s===void 0&&(s=null),ni({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?sn(t):t,{state:s,key:t&&t.key||r||Yy()})}function Da(e){let{pathname:t="/",search:s="",hash:r=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function sn(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Xy(e,t,s,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,l=Ls.Pop,c=null,d=m();d==null&&(d=0,o.replaceState(ni({},o.state,{idx:d}),""));function m(){return(o.state||{idx:null}).idx}function h(){l=Ls.Pop;let b=m(),p=b==null?null:b-d;d=b,c&&c({action:l,location:v.location,delta:p})}function x(b,p){l=Ls.Push;let f=ec(v.location,b,p);d=m()+1;let y=rh(f,d),N=v.createHref(f);try{o.pushState(y,"",N)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(N)}a&&c&&c({action:l,location:v.location,delta:1})}function w(b,p){l=Ls.Replace;let f=ec(v.location,b,p);d=m();let y=rh(f,d),N=v.createHref(f);o.replaceState(y,"",N),a&&c&&c({action:l,location:v.location,delta:0})}function g(b){let p=i.location.origin!=="null"?i.location.origin:i.location.href,f=typeof b=="string"?b:Da(b);return f=f.replace(/ $/,"%20"),Ke(p,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,p)}let v={get action(){return l},get location(){return e(i,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(sh,h),c=b,()=>{i.removeEventListener(sh,h),c=null}},createHref(b){return t(i,b)},createURL:g,encodeLocation(b){let p=g(b);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:x,replace:w,go(b){return o.go(b)}};return v}var nh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(nh||(nh={}));function Zy(e,t,s){return s===void 0&&(s="/"),eb(e,t,s)}function eb(e,t,s,r){let i=typeof t=="string"?sn(t):t,a=gd(i.pathname||"/",s);if(a==null)return null;let o=mp(e);tb(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=mb(a);l=db(o[c],d)}return l}function mp(e,t,s,r){t===void 0&&(t=[]),s===void 0&&(s=[]),r===void 0&&(r="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Ke(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=Vs([r,c.relativePath]),m=s.concat(c);a.children&&a.children.length>0&&(Ke(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),mp(a.children,t,m,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:lb(d,a.index),routesMeta:m})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of fp(a.path))i(a,o,c)}),t}function fp(e){let t=e.split("/");if(t.length===0)return[];let[s,...r]=t,i=s.endsWith("?"),a=s.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=fp(r.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function tb(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:cb(t.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}const sb=/^:[\w-]+$/,rb=3,nb=2,ib=1,ab=10,ob=-2,ih=e=>e==="*";function lb(e,t){let s=e.split("/"),r=s.length;return s.some(ih)&&(r+=ob),t&&(r+=nb),s.filter(i=>!ih(i)).reduce((i,a)=>i+(sb.test(a)?rb:a===""?ib:ab),r)}function cb(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function db(e,t,s){let{routesMeta:r}=e,i={},a="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,m=a==="/"?t:t.slice(a.length)||"/",h=ub({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},m),x=c.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Vs([a,h.pathname]),pathnameBase:gb(Vs([a,h.pathnameBase])),route:x}),h.pathnameBase!=="/"&&(a=Vs([a,h.pathnameBase]))}return o}function ub(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,r]=hb(e.path,e.caseSensitive,e.end),i=t.match(s);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,m,h)=>{let{paramName:x,isOptional:w}=m;if(x==="*"){let v=l[h]||"";o=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const g=l[h];return w&&!g?d[x]=void 0:d[x]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:e}}function hb(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),hp(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function mb(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return hp(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function gd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,r=e.charAt(s);return r&&r!=="/"?null:e.slice(s)||"/"}function fb(e,t){t===void 0&&(t="/");let{pathname:s,search:r="",hash:i=""}=typeof e=="string"?sn(e):e;return{pathname:s?s.startsWith("/")?s:pb(s,t):t,search:yb(r),hash:bb(i)}}function pb(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function Vo(e,t,s,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xb(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function pp(e,t){let s=xb(e);return t?s.map((r,i)=>i===s.length-1?r.pathname:r.pathnameBase):s.map(r=>r.pathnameBase)}function xp(e,t,s,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=sn(e):(i=ni({},e),Ke(!i.pathname||!i.pathname.includes("?"),Vo("?","pathname","search",i)),Ke(!i.pathname||!i.pathname.includes("#"),Vo("#","pathname","hash",i)),Ke(!i.search||!i.search.includes("#"),Vo("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=s;else{let h=t.length-1;if(!r&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),h-=1;i.pathname=x.join("/")}l=h>=0?t[h]:"/"}let c=fb(i,l),d=o&&o!=="/"&&o.endsWith("/"),m=(a||o===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||m)&&(c.pathname+="/"),c}const Vs=e=>e.join("/").replace(/\/\/+/g,"/"),gb=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),yb=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,bb=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function vb(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const gp=["post","put","patch","delete"];new Set(gp);const wb=["get",...gp];new Set(wb);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ii(){return ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},ii.apply(this,arguments)}const yd=u.createContext(null),jb=u.createContext(null),jr=u.createContext(null),so=u.createContext(null),Ys=u.createContext({outlet:null,matches:[],isDataRoute:!1}),yp=u.createContext(null);function Nb(e,t){let{relative:s}=t===void 0?{}:t;mi()||Ke(!1);let{basename:r,navigator:i}=u.useContext(jr),{hash:a,pathname:o,search:l}=vp(e,{relative:s}),c=o;return r!=="/"&&(c=o==="/"?r:Vs([r,o])),i.createHref({pathname:c,search:l,hash:a})}function mi(){return u.useContext(so)!=null}function rn(){return mi()||Ke(!1),u.useContext(so).location}function bp(e){u.useContext(jr).static||u.useLayoutEffect(e)}function pt(){let{isDataRoute:e}=u.useContext(Ys);return e?Ib():kb()}function kb(){mi()||Ke(!1);let e=u.useContext(yd),{basename:t,future:s,navigator:r}=u.useContext(jr),{matches:i}=u.useContext(Ys),{pathname:a}=rn(),o=JSON.stringify(pp(i,s.v7_relativeSplatPath)),l=u.useRef(!1);return bp(()=>{l.current=!0}),u.useCallback(function(d,m){if(m===void 0&&(m={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let h=xp(d,JSON.parse(o),a,m.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Vs([t,h.pathname])),(m.replace?r.replace:r.push)(h,m.state,m)},[t,r,o,a,e])}function ro(){let{matches:e}=u.useContext(Ys),t=e[e.length-1];return t?t.params:{}}function vp(e,t){let{relative:s}=t===void 0?{}:t,{future:r}=u.useContext(jr),{matches:i}=u.useContext(Ys),{pathname:a}=rn(),o=JSON.stringify(pp(i,r.v7_relativeSplatPath));return u.useMemo(()=>xp(e,JSON.parse(o),a,s==="path"),[e,o,a,s])}function Sb(e,t){return Cb(e,t)}function Cb(e,t,s,r){mi()||Ke(!1);let{navigator:i}=u.useContext(jr),{matches:a}=u.useContext(Ys),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=rn(),m;if(t){var h;let b=typeof t=="string"?sn(t):t;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||Ke(!1),m=b}else m=d;let x=m.pathname||"/",w=x;if(c!=="/"){let b=c.replace(/^\//,"").split("/");w="/"+x.replace(/^\//,"").split("/").slice(b.length).join("/")}let g=Zy(e,{pathname:w}),v=Rb(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Vs([c,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Vs([c,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,s,r);return t&&v?u.createElement(so.Provider,{value:{location:ii({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Ls.Pop}},v):v}function Eb(){let e=Db(),t=vb(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return u.createElement(u.Fragment,null,u.createElement("h2",null,"Unexpected Application Error!"),u.createElement("h3",{style:{fontStyle:"italic"}},t),s?u.createElement("pre",{style:i},s):null,null)}const Tb=u.createElement(Eb,null);class Pb extends u.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?u.createElement(Ys.Provider,{value:this.props.routeContext},u.createElement(yp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _b(e){let{routeContext:t,match:s,children:r}=e,i=u.useContext(yd);return i&&i.static&&i.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=s.route.id),u.createElement(Ys.Provider,{value:t},r)}function Rb(e,t,s,r){var i;if(t===void 0&&(t=[]),s===void 0&&(s=null),r===void 0&&(r=null),e==null){var a;if(!s)return null;if(s.errors)e=s.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let o=e,l=(i=s)==null?void 0:i.errors;if(l!=null){let m=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);m>=0||Ke(!1),o=o.slice(0,Math.min(o.length,m+1))}let c=!1,d=-1;if(s&&r&&r.v7_partialHydration)for(let m=0;m<o.length;m++){let h=o[m];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=m),h.route.id){let{loaderData:x,errors:w}=s,g=h.route.loader&&x[h.route.id]===void 0&&(!w||w[h.route.id]===void 0);if(h.route.lazy||g){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((m,h,x)=>{let w,g=!1,v=null,b=null;s&&(w=l&&h.route.id?l[h.route.id]:void 0,v=h.route.errorElement||Tb,c&&(d<0&&x===0?(Mb("route-fallback"),g=!0,b=null):d===x&&(g=!0,b=h.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,x+1)),f=()=>{let y;return w?y=v:g?y=b:h.route.Component?y=u.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=m,u.createElement(_b,{match:h,routeContext:{outlet:m,matches:p,isDataRoute:s!=null},children:y})};return s&&(h.route.ErrorBoundary||h.route.errorElement||x===0)?u.createElement(Pb,{location:s.location,revalidation:s.revalidation,component:v,error:w,children:f(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):f()},null)}var wp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(wp||{}),jp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(jp||{});function Ab(e){let t=u.useContext(yd);return t||Ke(!1),t}function Ob(e){let t=u.useContext(jb);return t||Ke(!1),t}function Lb(e){let t=u.useContext(Ys);return t||Ke(!1),t}function Np(e){let t=Lb(),s=t.matches[t.matches.length-1];return s.route.id||Ke(!1),s.route.id}function Db(){var e;let t=u.useContext(yp),s=Ob(),r=Np();return t!==void 0?t:(e=s.errors)==null?void 0:e[r]}function Ib(){let{router:e}=Ab(wp.UseNavigateStable),t=Np(jp.UseNavigateStable),s=u.useRef(!1);return bp(()=>{s.current=!0}),u.useCallback(function(i,a){a===void 0&&(a={}),s.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,ii({fromRouteId:t},a)))},[e,t])}const ah={};function Mb(e,t,s){ah[e]||(ah[e]=!0)}function Fb(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function it(e){Ke(!1)}function Bb(e){let{basename:t="/",children:s=null,location:r,navigationType:i=Ls.Pop,navigator:a,static:o=!1,future:l}=e;mi()&&Ke(!1);let c=t.replace(/^\/*/,"/"),d=u.useMemo(()=>({basename:c,navigator:a,static:o,future:ii({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof r=="string"&&(r=sn(r));let{pathname:m="/",search:h="",hash:x="",state:w=null,key:g="default"}=r,v=u.useMemo(()=>{let b=gd(m,c);return b==null?null:{location:{pathname:b,search:h,hash:x,state:w,key:g},navigationType:i}},[c,m,h,x,w,g,i]);return v==null?null:u.createElement(jr.Provider,{value:d},u.createElement(so.Provider,{children:s,value:v}))}function zb(e){let{children:t,location:s}=e;return Sb(tc(t),s)}new Promise(()=>{});function tc(e,t){t===void 0&&(t=[]);let s=[];return u.Children.forEach(e,(r,i)=>{if(!u.isValidElement(r))return;let a=[...t,i];if(r.type===u.Fragment){s.push.apply(s,tc(r.props.children,a));return}r.type!==it&&Ke(!1),!r.props.index||!r.props.children||Ke(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=tc(r.props.children,a)),s.push(o)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sc(){return sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},sc.apply(this,arguments)}function $b(e,t){if(e==null)return{};var s={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(s[i]=e[i]);return s}function Ub(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Vb(e,t){return e.button===0&&(!t||t==="_self")&&!Ub(e)}const Hb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Wb="6";try{window.__reactRouterVersion=Wb}catch{}const qb="startTransition",oh=F0[qb];function Kb(e){let{basename:t,children:s,future:r,window:i}=e,a=u.useRef();a.current==null&&(a.current=Qy({window:i,v5Compat:!0}));let o=a.current,[l,c]=u.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},m=u.useCallback(h=>{d&&oh?oh(()=>c(h)):c(h)},[c,d]);return u.useLayoutEffect(()=>o.listen(m),[o,m]),u.useEffect(()=>Fb(r),[r]),u.createElement(Bb,{basename:t,children:s,location:l.location,navigationType:l.action,navigator:o,future:r})}const Jb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Gb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ne=u.forwardRef(function(t,s){let{onClick:r,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:d,preventScrollReset:m,viewTransition:h}=t,x=$b(t,Hb),{basename:w}=u.useContext(jr),g,v=!1;if(typeof d=="string"&&Gb.test(d)&&(g=d,Jb))try{let y=new URL(window.location.href),N=d.startsWith("//")?new URL(y.protocol+d):new URL(d),k=gd(N.pathname,w);N.origin===y.origin&&k!=null?d=k+N.search+N.hash:v=!0}catch{}let b=Nb(d,{relative:i}),p=Qb(d,{replace:o,state:l,target:c,preventScrollReset:m,relative:i,viewTransition:h});function f(y){r&&r(y),y.defaultPrevented||p(y)}return u.createElement("a",sc({},x,{href:g||b,onClick:v||a?r:f,ref:s,target:c}))});var lh;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(lh||(lh={}));var ch;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ch||(ch={}));function Qb(e,t){let{target:s,replace:r,state:i,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=pt(),d=rn(),m=vp(e,{relative:o});return u.useCallback(h=>{if(Vb(h,s)){h.preventDefault();let x=r!==void 0?r:Da(d)===Da(m);c(e,{replace:x,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[d,c,m,r,i,s,e,a,o,l])}var Yb=(e,t,s,r,i,a,o,l)=>{let c=document.documentElement,d=["light","dark"];function m(w){(Array.isArray(e)?e:[e]).forEach(g=>{let v=g==="class",b=v&&a?i.map(p=>a[p]||p):i;v?(c.classList.remove(...b),c.classList.add(a&&a[w]?a[w]:w)):c.setAttribute(g,w)}),h(w)}function h(w){l&&d.includes(w)&&(c.style.colorScheme=w)}function x(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)m(r);else try{let w=localStorage.getItem(t)||s,g=o&&w==="system"?x():w;m(g)}catch{}},dh=["light","dark"],kp="(prefers-color-scheme: dark)",Xb=typeof window>"u",Sp=u.createContext(void 0),Zb=e=>u.useContext(Sp)?u.createElement(u.Fragment,null,e.children):u.createElement(tv,{...e}),ev=["light","dark"],tv=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:s=!0,enableColorScheme:r=!0,storageKey:i="theme",themes:a=ev,defaultTheme:o=s?"system":"light",attribute:l="data-theme",value:c,children:d,nonce:m,scriptProps:h})=>{let[x,w]=u.useState(()=>rv(i,o)),[g,v]=u.useState(()=>x==="system"?Ho():x),b=c?Object.values(c):a,p=u.useCallback(k=>{let E=k;if(!E)return;k==="system"&&s&&(E=Ho());let C=c?c[E]:E,L=t?nv(m):null,D=document.documentElement,j=P=>{P==="class"?(D.classList.remove(...b),C&&D.classList.add(C)):P.startsWith("data-")&&(C?D.setAttribute(P,C):D.removeAttribute(P))};if(Array.isArray(l)?l.forEach(j):j(l),r){let P=dh.includes(o)?o:null,R=dh.includes(E)?E:P;D.style.colorScheme=R}L==null||L()},[m]),f=u.useCallback(k=>{let E=typeof k=="function"?k(x):k;w(E);try{localStorage.setItem(i,E)}catch{}},[x]),y=u.useCallback(k=>{let E=Ho(k);v(E),x==="system"&&s&&!e&&p("system")},[x,e]);u.useEffect(()=>{let k=window.matchMedia(kp);return k.addListener(y),y(k),()=>k.removeListener(y)},[y]),u.useEffect(()=>{let k=E=>{E.key===i&&(E.newValue?w(E.newValue):f(o))};return window.addEventListener("storage",k),()=>window.removeEventListener("storage",k)},[f]),u.useEffect(()=>{p(e??x)},[e,x]);let N=u.useMemo(()=>({theme:x,setTheme:f,forcedTheme:e,resolvedTheme:x==="system"?g:x,themes:s?[...a,"system"]:a,systemTheme:s?g:void 0}),[x,f,e,g,s,a]);return u.createElement(Sp.Provider,{value:N},u.createElement(sv,{forcedTheme:e,storageKey:i,attribute:l,enableSystem:s,enableColorScheme:r,defaultTheme:o,value:c,themes:a,nonce:m,scriptProps:h}),d)},sv=u.memo(({forcedTheme:e,storageKey:t,attribute:s,enableSystem:r,enableColorScheme:i,defaultTheme:a,value:o,themes:l,nonce:c,scriptProps:d})=>{let m=JSON.stringify([s,t,a,e,l,o,r,i]).slice(1,-1);return u.createElement("script",{...d,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${Yb.toString()})(${m})`}})}),rv=(e,t)=>{if(Xb)return;let s;try{s=localStorage.getItem(e)||void 0}catch{}return s||t},nv=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},Ho=e=>(e||(e=window.matchMedia(kp)),e.matches?"dark":"light");function iv({children:e,...t}){return n.jsx(Zb,{...t,children:e})}const av=1,ov=1e6;let Wo=0;function lv(){return Wo=(Wo+1)%Number.MAX_SAFE_INTEGER,Wo.toString()}const qo=new Map,uh=e=>{if(qo.has(e))return;const t=setTimeout(()=>{qo.delete(e),Bn({type:"REMOVE_TOAST",toastId:e})},ov);qo.set(e,t)},cv=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,av)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=t;return s?uh(s):e.toasts.forEach(r=>{uh(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===s||s===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)}}},sa=[];let ra={toasts:[]};function Bn(e){ra=cv(ra,e),sa.forEach(t=>{t(ra)})}function dv({...e}){const t=lv(),s=i=>Bn({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>Bn({type:"DISMISS_TOAST",toastId:t});return Bn({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:s}}function uv(){const[e,t]=u.useState(ra);return u.useEffect(()=>(sa.push(t),()=>{const s=sa.indexOf(t);s>-1&&sa.splice(s,1)}),[e]),{...e,toast:dv,dismiss:s=>Bn({type:"DISMISS_TOAST",toastId:s})}}function Et(e,t,{checkForDefaultPrevented:s=!0}={}){return function(i){if(e==null||e(i),s===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function hh(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Cp(...e){return t=>{let s=!1;const r=e.map(i=>{const a=hh(i,t);return!s&&typeof a=="function"&&(s=!0),a});if(s)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():hh(e[i],null)}}}}function gr(...e){return u.useCallback(Cp(...e),e)}function Ep(e,t=[]){let s=[];function r(a,o){const l=u.createContext(o),c=s.length;s=[...s,o];const d=h=>{var p;const{scope:x,children:w,...g}=h,v=((p=x==null?void 0:x[e])==null?void 0:p[c])||l,b=u.useMemo(()=>g,Object.values(g));return n.jsx(v.Provider,{value:b,children:w})};d.displayName=a+"Provider";function m(h,x){var v;const w=((v=x==null?void 0:x[e])==null?void 0:v[c])||l,g=u.useContext(w);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[d,m]}const i=()=>{const a=s.map(o=>u.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[r,hv(i,...t)]}function hv(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const h=c(a)[`__scope${d}`];return{...l,...h}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return s.scopeName=t.scopeName,s}var ai=u.forwardRef((e,t)=>{const{children:s,...r}=e,i=u.Children.toArray(s),a=i.find(fv);if(a){const o=a.props.children,l=i.map(c=>c===a?u.Children.count(o)>1?u.Children.only(null):u.isValidElement(o)?o.props.children:null:c);return n.jsx(rc,{...r,ref:t,children:u.isValidElement(o)?u.cloneElement(o,void 0,l):null})}return n.jsx(rc,{...r,ref:t,children:s})});ai.displayName="Slot";var rc=u.forwardRef((e,t)=>{const{children:s,...r}=e;if(u.isValidElement(s)){const i=xv(s);return u.cloneElement(s,{...pv(r,s.props),ref:t?Cp(t,i):i})}return u.Children.count(s)>1?u.Children.only(null):null});rc.displayName="SlotClone";var mv=({children:e})=>n.jsx(n.Fragment,{children:e});function fv(e){return u.isValidElement(e)&&e.type===mv}function pv(e,t){const s={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?s[r]=(...l)=>{a(...l),i(...l)}:i&&(s[r]=i):r==="style"?s[r]={...i,...a}:r==="className"&&(s[r]=[i,a].filter(Boolean).join(" "))}return{...e,...s}}function xv(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function gv(e){const t=e+"CollectionProvider",[s,r]=Ep(t),[i,a]=s(t,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:g,children:v}=w,b=us.useRef(null),p=us.useRef(new Map).current;return n.jsx(i,{scope:g,itemMap:p,collectionRef:b,children:v})};o.displayName=t;const l=e+"CollectionSlot",c=us.forwardRef((w,g)=>{const{scope:v,children:b}=w,p=a(l,v),f=gr(g,p.collectionRef);return n.jsx(ai,{ref:f,children:b})});c.displayName=l;const d=e+"CollectionItemSlot",m="data-radix-collection-item",h=us.forwardRef((w,g)=>{const{scope:v,children:b,...p}=w,f=us.useRef(null),y=gr(g,f),N=a(d,v);return us.useEffect(()=>(N.itemMap.set(f,{ref:f,...p}),()=>void N.itemMap.delete(f))),n.jsx(ai,{[m]:"",ref:y,children:b})});h.displayName=d;function x(w){const g=a(e+"CollectionConsumer",w);return us.useCallback(()=>{const b=g.collectionRef.current;if(!b)return[];const p=Array.from(b.querySelectorAll(`[${m}]`));return Array.from(g.itemMap.values()).sort((N,k)=>p.indexOf(N.ref.current)-p.indexOf(k.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:c,ItemSlot:h},x,r]}var yv=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Qt=yv.reduce((e,t)=>{const s=u.forwardRef((r,i)=>{const{asChild:a,...o}=r,l=a?ai:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(l,{...o,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function Tp(e,t){e&&to.flushSync(()=>e.dispatchEvent(t))}function ws(e){const t=u.useRef(e);return u.useEffect(()=>{t.current=e}),u.useMemo(()=>(...s)=>{var r;return(r=t.current)==null?void 0:r.call(t,...s)},[])}function bv(e,t=globalThis==null?void 0:globalThis.document){const s=ws(e);u.useEffect(()=>{const r=i=>{i.key==="Escape"&&s(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[s,t])}var vv="DismissableLayer",nc="dismissableLayer.update",wv="dismissableLayer.pointerDownOutside",jv="dismissableLayer.focusOutside",mh,Pp=u.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_p=u.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,d=u.useContext(Pp),[m,h]=u.useState(null),x=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=u.useState({}),g=gr(t,C=>h(C)),v=Array.from(d.layers),[b]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),p=v.indexOf(b),f=m?v.indexOf(m):-1,y=d.layersWithOutsidePointerEventsDisabled.size>0,N=f>=p,k=kv(C=>{const L=C.target,D=[...d.branches].some(j=>j.contains(L));!N||D||(i==null||i(C),o==null||o(C),C.defaultPrevented||l==null||l())},x),E=Sv(C=>{const L=C.target;[...d.branches].some(j=>j.contains(L))||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},x);return bv(C=>{f===d.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},x),u.useEffect(()=>{if(m)return s&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(mh=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(m)),d.layers.add(m),fh(),()=>{s&&d.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=mh)}},[m,x,s,d]),u.useEffect(()=>()=>{m&&(d.layers.delete(m),d.layersWithOutsidePointerEventsDisabled.delete(m),fh())},[m,d]),u.useEffect(()=>{const C=()=>w({});return document.addEventListener(nc,C),()=>document.removeEventListener(nc,C)},[]),n.jsx(Qt.div,{...c,ref:g,style:{pointerEvents:y?N?"auto":"none":void 0,...e.style},onFocusCapture:Et(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Et(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Et(e.onPointerDownCapture,k.onPointerDownCapture)})});_p.displayName=vv;var Nv="DismissableLayerBranch",Rp=u.forwardRef((e,t)=>{const s=u.useContext(Pp),r=u.useRef(null),i=gr(t,r);return u.useEffect(()=>{const a=r.current;if(a)return s.branches.add(a),()=>{s.branches.delete(a)}},[s.branches]),n.jsx(Qt.div,{...e,ref:i})});Rp.displayName=Nv;function kv(e,t=globalThis==null?void 0:globalThis.document){const s=ws(e),r=u.useRef(!1),i=u.useRef(()=>{});return u.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){Ap(wv,s,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,s]),{onPointerDownCapture:()=>r.current=!0}}function Sv(e,t=globalThis==null?void 0:globalThis.document){const s=ws(e),r=u.useRef(!1);return u.useEffect(()=>{const i=a=>{a.target&&!r.current&&Ap(jv,s,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,s]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function fh(){const e=new CustomEvent(nc);document.dispatchEvent(e)}function Ap(e,t,s,{discrete:r}){const i=s.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&i.addEventListener(e,t,{once:!0}),r?Tp(i,a):i.dispatchEvent(a)}var Cv=_p,Ev=Rp,Ia=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{},Tv="Portal",Op=u.forwardRef((e,t)=>{var l;const{container:s,...r}=e,[i,a]=u.useState(!1);Ia(()=>a(!0),[]);const o=s||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Gy.createPortal(n.jsx(Qt.div,{...r,ref:t}),o):null});Op.displayName=Tv;function Pv(e,t){return u.useReducer((s,r)=>t[s][r]??s,e)}var Lp=e=>{const{present:t,children:s}=e,r=_v(t),i=typeof s=="function"?s({present:r.isPresent}):u.Children.only(s),a=gr(r.ref,Rv(i));return typeof s=="function"||r.isPresent?u.cloneElement(i,{ref:a}):null};Lp.displayName="Presence";function _v(e){const[t,s]=u.useState(),r=u.useRef({}),i=u.useRef(e),a=u.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Pv(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return u.useEffect(()=>{const d=Fi(r.current);a.current=l==="mounted"?d:"none"},[l]),Ia(()=>{const d=r.current,m=i.current;if(m!==e){const x=a.current,w=Fi(d);e?c("MOUNT"):w==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(m&&x!==w?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),Ia(()=>{if(t){let d;const m=t.ownerDocument.defaultView??window,h=w=>{const v=Fi(r.current).includes(w.animationName);if(w.target===t&&v&&(c("ANIMATION_END"),!i.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",d=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},x=w=>{w.target===t&&(a.current=Fi(r.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{m.clearTimeout(d),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:u.useCallback(d=>{d&&(r.current=getComputedStyle(d)),s(d)},[])}}function Fi(e){return(e==null?void 0:e.animationName)||"none"}function Rv(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function Av({prop:e,defaultProp:t,onChange:s=()=>{}}){const[r,i]=Ov({defaultProp:t,onChange:s}),a=e!==void 0,o=a?e:r,l=ws(s),c=u.useCallback(d=>{if(a){const h=typeof d=="function"?d(e):d;h!==e&&l(h)}else i(d)},[a,e,i,l]);return[o,c]}function Ov({defaultProp:e,onChange:t}){const s=u.useState(e),[r]=s,i=u.useRef(r),a=ws(t);return u.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),s}var Lv="VisuallyHidden",bd=u.forwardRef((e,t)=>n.jsx(Qt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));bd.displayName=Lv;var vd="ToastProvider",[wd,Dv,Iv]=gv("Toast"),[Dp]=Ep("Toast",[Iv]),[Mv,no]=Dp(vd),Ip=e=>{const{__scopeToast:t,label:s="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[l,c]=u.useState(null),[d,m]=u.useState(0),h=u.useRef(!1),x=u.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${vd}\`. Expected non-empty \`string\`.`),n.jsx(wd.Provider,{scope:t,children:n.jsx(Mv,{scope:t,label:s,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:u.useCallback(()=>m(w=>w+1),[]),onToastRemove:u.useCallback(()=>m(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:x,children:o})})};Ip.displayName=vd;var Mp="ToastViewport",Fv=["F8"],ic="toast.viewportPause",ac="toast.viewportResume",Fp=u.forwardRef((e,t)=>{const{__scopeToast:s,hotkey:r=Fv,label:i="Notifications ({hotkey})",...a}=e,o=no(Mp,s),l=Dv(s),c=u.useRef(null),d=u.useRef(null),m=u.useRef(null),h=u.useRef(null),x=gr(t,h,o.onViewportChange),w=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;u.useEffect(()=>{const b=p=>{var y;r.length!==0&&r.every(N=>p[N]||p.code===N)&&((y=h.current)==null||y.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),u.useEffect(()=>{const b=c.current,p=h.current;if(g&&b&&p){const f=()=>{if(!o.isClosePausedRef.current){const E=new CustomEvent(ic);p.dispatchEvent(E),o.isClosePausedRef.current=!0}},y=()=>{if(o.isClosePausedRef.current){const E=new CustomEvent(ac);p.dispatchEvent(E),o.isClosePausedRef.current=!1}},N=E=>{!b.contains(E.relatedTarget)&&y()},k=()=>{b.contains(document.activeElement)||y()};return b.addEventListener("focusin",f),b.addEventListener("focusout",N),b.addEventListener("pointermove",f),b.addEventListener("pointerleave",k),window.addEventListener("blur",f),window.addEventListener("focus",y),()=>{b.removeEventListener("focusin",f),b.removeEventListener("focusout",N),b.removeEventListener("pointermove",f),b.removeEventListener("pointerleave",k),window.removeEventListener("blur",f),window.removeEventListener("focus",y)}}},[g,o.isClosePausedRef]);const v=u.useCallback(({tabbingDirection:b})=>{const f=l().map(y=>{const N=y.ref.current,k=[N,...Yv(N)];return b==="forwards"?k:k.reverse()});return(b==="forwards"?f.reverse():f).flat()},[l]);return u.useEffect(()=>{const b=h.current;if(b){const p=f=>{var k,E,C;const y=f.altKey||f.ctrlKey||f.metaKey;if(f.key==="Tab"&&!y){const L=document.activeElement,D=f.shiftKey;if(f.target===b&&D){(k=d.current)==null||k.focus();return}const R=v({tabbingDirection:D?"backwards":"forwards"}),B=R.findIndex(A=>A===L);Ko(R.slice(B+1))?f.preventDefault():D?(E=d.current)==null||E.focus():(C=m.current)==null||C.focus()}};return b.addEventListener("keydown",p),()=>b.removeEventListener("keydown",p)}},[l,v]),n.jsxs(Ev,{ref:c,role:"region","aria-label":i.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&n.jsx(oc,{ref:d,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"forwards"});Ko(b)}}),n.jsx(wd.Slot,{scope:s,children:n.jsx(Qt.ol,{tabIndex:-1,...a,ref:x})}),g&&n.jsx(oc,{ref:m,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"backwards"});Ko(b)}})]})});Fp.displayName=Mp;var Bp="ToastFocusProxy",oc=u.forwardRef((e,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:r,...i}=e,a=no(Bp,s);return n.jsx(bd,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=a.viewport)!=null&&d.contains(l))&&r()}})});oc.displayName=Bp;var io="Toast",Bv="toast.swipeStart",zv="toast.swipeMove",$v="toast.swipeCancel",Uv="toast.swipeEnd",zp=u.forwardRef((e,t)=>{const{forceMount:s,open:r,defaultOpen:i,onOpenChange:a,...o}=e,[l=!0,c]=Av({prop:r,defaultProp:i,onChange:a});return n.jsx(Lp,{present:s||l,children:n.jsx(Wv,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:ws(e.onPause),onResume:ws(e.onResume),onSwipeStart:Et(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Et(e.onSwipeMove,d=>{const{x:m,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Et(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Et(e.onSwipeEnd,d=>{const{x:m,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});zp.displayName=io;var[Vv,Hv]=Dp(io,{onClose(){}}),Wv=u.forwardRef((e,t)=>{const{__scopeToast:s,type:r="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:m,onSwipeMove:h,onSwipeCancel:x,onSwipeEnd:w,...g}=e,v=no(io,s),[b,p]=u.useState(null),f=gr(t,A=>p(A)),y=u.useRef(null),N=u.useRef(null),k=i||v.duration,E=u.useRef(0),C=u.useRef(k),L=u.useRef(0),{onToastAdd:D,onToastRemove:j}=v,P=ws(()=>{var K;(b==null?void 0:b.contains(document.activeElement))&&((K=v.viewport)==null||K.focus()),o()}),R=u.useCallback(A=>{!A||A===1/0||(window.clearTimeout(L.current),E.current=new Date().getTime(),L.current=window.setTimeout(P,A))},[P]);u.useEffect(()=>{const A=v.viewport;if(A){const K=()=>{R(C.current),d==null||d()},te=()=>{const ae=new Date().getTime()-E.current;C.current=C.current-ae,window.clearTimeout(L.current),c==null||c()};return A.addEventListener(ic,te),A.addEventListener(ac,K),()=>{A.removeEventListener(ic,te),A.removeEventListener(ac,K)}}},[v.viewport,k,c,d,R]),u.useEffect(()=>{a&&!v.isClosePausedRef.current&&R(k)},[a,k,v.isClosePausedRef,R]),u.useEffect(()=>(D(),()=>j()),[D,j]);const B=u.useMemo(()=>b?Kp(b):null,[b]);return v.viewport?n.jsxs(n.Fragment,{children:[B&&n.jsx(qv,{__scopeToast:s,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:B}),n.jsx(Vv,{scope:s,onClose:P,children:to.createPortal(n.jsx(wd.ItemSlot,{scope:s,children:n.jsx(Cv,{asChild:!0,onEscapeKeyDown:Et(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||P(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(Qt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":v.swipeDirection,...g,ref:f,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Et(e.onKeyDown,A=>{A.key==="Escape"&&(l==null||l(A.nativeEvent),A.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:Et(e.onPointerDown,A=>{A.button===0&&(y.current={x:A.clientX,y:A.clientY})}),onPointerMove:Et(e.onPointerMove,A=>{if(!y.current)return;const K=A.clientX-y.current.x,te=A.clientY-y.current.y,ae=!!N.current,_=["left","right"].includes(v.swipeDirection),M=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,U=_?M(0,K):0,V=_?0:M(0,te),X=A.pointerType==="touch"?10:2,he={x:U,y:V},ie={originalEvent:A,delta:he};ae?(N.current=he,Bi(zv,h,ie,{discrete:!1})):ph(he,v.swipeDirection,X)?(N.current=he,Bi(Bv,m,ie,{discrete:!1}),A.target.setPointerCapture(A.pointerId)):(Math.abs(K)>X||Math.abs(te)>X)&&(y.current=null)}),onPointerUp:Et(e.onPointerUp,A=>{const K=N.current,te=A.target;if(te.hasPointerCapture(A.pointerId)&&te.releasePointerCapture(A.pointerId),N.current=null,y.current=null,K){const ae=A.currentTarget,_={originalEvent:A,delta:K};ph(K,v.swipeDirection,v.swipeThreshold)?Bi(Uv,w,_,{discrete:!0}):Bi($v,x,_,{discrete:!0}),ae.addEventListener("click",M=>M.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),qv=e=>{const{__scopeToast:t,children:s,...r}=e,i=no(io,t),[a,o]=u.useState(!1),[l,c]=u.useState(!1);return Gv(()=>o(!0)),u.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:n.jsx(Op,{asChild:!0,children:n.jsx(bd,{...r,children:a&&n.jsxs(n.Fragment,{children:[i.label," ",s]})})})},Kv="ToastTitle",$p=u.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e;return n.jsx(Qt.div,{...r,ref:t})});$p.displayName=Kv;var Jv="ToastDescription",Up=u.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e;return n.jsx(Qt.div,{...r,ref:t})});Up.displayName=Jv;var Vp="ToastAction",Hp=u.forwardRef((e,t)=>{const{altText:s,...r}=e;return s.trim()?n.jsx(qp,{altText:s,asChild:!0,children:n.jsx(jd,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Vp}\`. Expected non-empty \`string\`.`),null)});Hp.displayName=Vp;var Wp="ToastClose",jd=u.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e,i=Hv(Wp,s);return n.jsx(qp,{asChild:!0,children:n.jsx(Qt.button,{type:"button",...r,ref:t,onClick:Et(e.onClick,i.onClose)})})});jd.displayName=Wp;var qp=u.forwardRef((e,t)=>{const{__scopeToast:s,altText:r,...i}=e;return n.jsx(Qt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function Kp(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),Qv(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...Kp(r))}}),t}function Bi(e,t,s,{discrete:r}){const i=s.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});t&&i.addEventListener(e,t,{once:!0}),r?Tp(i,a):i.dispatchEvent(a)}var ph=(e,t,s=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),a=r>i;return t==="left"||t==="right"?a&&r>s:!a&&i>s};function Gv(e=()=>{}){const t=ws(e);Ia(()=>{let s=0,r=0;return s=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(r)}},[t])}function Qv(e){return e.nodeType===e.ELEMENT_NODE}function Yv(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function Ko(e){const t=document.activeElement;return e.some(s=>s===t?!0:(s.focus(),document.activeElement!==t))}var Xv=Ip,Jp=Fp,Gp=zp,Qp=$p,Yp=Up,Xp=Hp,Zp=jd;function ex(e){var t,s,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(s=ex(e[t]))&&(r&&(r+=" "),r+=s)}else for(s in e)e[s]&&(r&&(r+=" "),r+=s);return r}function tx(){for(var e,t,s=0,r="",i=arguments.length;s<i;s++)(e=arguments[s])&&(t=ex(e))&&(r&&(r+=" "),r+=t);return r}const xh=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,gh=tx,sx=(e,t)=>s=>{var r;if((t==null?void 0:t.variants)==null)return gh(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(d=>{const m=s==null?void 0:s[d],h=a==null?void 0:a[d];if(m===null)return null;const x=xh(m)||xh(h);return i[d][x]}),l=s&&Object.entries(s).reduce((d,m)=>{let[h,x]=m;return x===void 0||(d[h]=x),d},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((d,m)=>{let{class:h,className:x,...w}=m;return Object.entries(w).every(g=>{let[v,b]=g;return Array.isArray(b)?b.includes({...a,...l}[v]):{...a,...l}[v]===b})?[...d,h,x]:d},[]);return gh(e,o,c,s==null?void 0:s.class,s==null?void 0:s.className)};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rx=(...e)=>e.filter((t,s,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===s).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ew={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=u.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},c)=>u.createElement("svg",{ref:c,...ew,width:t,height:t,stroke:e,strokeWidth:r?Number(s)*24/Number(t):s,className:rx("lucide",i),...l},[...o.map(([d,m])=>u.createElement(d,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(e,t)=>{const s=u.forwardRef(({className:r,...i},a)=>u.createElement(tw,{ref:a,iconNode:t,className:rx(`lucide-${Zv(e)}`,r),...i}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=xe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=xe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=xe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=xe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=xe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=xe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=xe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=xe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=xe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=xe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=xe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=xe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=xe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=xe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=xe("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=xe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=xe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=xe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=xe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=xe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=xe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=xe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=xe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=xe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=xe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=xe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=xe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=xe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=xe("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=xe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=xe("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=xe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=xe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Sd="-",uw=e=>{const t=mw(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(Sd);return l[0]===""&&l.length!==1&&l.shift(),px(l,t)||hw(o)},getConflictingClassGroupIds:(o,l)=>{const c=s[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},px=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const s=e[0],r=t.nextPart.get(s),i=r?px(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(Sd);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},yh=/^\[(.+)\]$/,hw=e=>{if(yh.test(e)){const t=yh.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},mw=e=>{const{theme:t,prefix:s}=e,r={nextPart:new Map,validators:[]};return pw(Object.entries(e.classGroups),s).forEach(([a,o])=>{dc(o,r,a,t)}),r},dc=(e,t,s,r)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:bh(t,i);a.classGroupId=s;return}if(typeof i=="function"){if(fw(i)){dc(i(r),t,s,r);return}t.validators.push({validator:i,classGroupId:s});return}Object.entries(i).forEach(([a,o])=>{dc(o,bh(t,a),s,r)})})},bh=(e,t)=>{let s=e;return t.split(Sd).forEach(r=>{s.nextPart.has(r)||s.nextPart.set(r,{nextPart:new Map,validators:[]}),s=s.nextPart.get(r)}),s},fw=e=>e.isThemeGetter,pw=(e,t)=>t?e.map(([s,r])=>{const i=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[s,i]}):e,xw=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,r=new Map;const i=(a,o)=>{s.set(a,o),t++,t>e&&(t=0,r=s,s=new Map)};return{get(a){let o=s.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return i(a,o),o},set(a,o){s.has(a)?s.set(a,o):i(a,o)}}},xx="!",gw=e=>{const{separator:t,experimentalParseClassName:s}=e,r=t.length===1,i=t[0],a=t.length,o=l=>{const c=[];let d=0,m=0,h;for(let b=0;b<l.length;b++){let p=l[b];if(d===0){if(p===i&&(r||l.slice(b,b+a)===t)){c.push(l.slice(m,b)),m=b+a;continue}if(p==="/"){h=b;continue}}p==="["?d++:p==="]"&&d--}const x=c.length===0?l:l.substring(m),w=x.startsWith(xx),g=w?x.substring(1):x,v=h&&h>m?h-m:void 0;return{modifiers:c,hasImportantModifier:w,baseClassName:g,maybePostfixModifierPosition:v}};return s?l=>s({className:l,parseClassName:o}):o},yw=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(r=>{r[0]==="["?(t.push(...s.sort(),r),s=[]):s.push(r)}),t.push(...s.sort()),t},bw=e=>({cache:xw(e.cacheSize),parseClassName:gw(e),...uw(e)}),vw=/\s+/,ww=(e,t)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:i}=t,a=[],o=e.trim().split(vw);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:m,hasImportantModifier:h,baseClassName:x,maybePostfixModifierPosition:w}=s(d);let g=!!w,v=r(g?x.substring(0,w):x);if(!v){if(!g){l=d+(l.length>0?" "+l:l);continue}if(v=r(x),!v){l=d+(l.length>0?" "+l:l);continue}g=!1}const b=yw(m).join(":"),p=h?b+xx:b,f=p+v;if(a.includes(f))continue;a.push(f);const y=i(v,g);for(let N=0;N<y.length;++N){const k=y[N];a.push(p+k)}l=d+(l.length>0?" "+l:l)}return l};function jw(){let e=0,t,s,r="";for(;e<arguments.length;)(t=arguments[e++])&&(s=gx(t))&&(r&&(r+=" "),r+=s);return r}const gx=e=>{if(typeof e=="string")return e;let t,s="";for(let r=0;r<e.length;r++)e[r]&&(t=gx(e[r]))&&(s&&(s+=" "),s+=t);return s};function Nw(e,...t){let s,r,i,a=o;function o(c){const d=t.reduce((m,h)=>h(m),e());return s=bw(d),r=s.cache.get,i=s.cache.set,a=l,l(c)}function l(c){const d=r(c);if(d)return d;const m=ww(c,s);return i(c,m),m}return function(){return a(jw.apply(null,arguments))}}const Re=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},yx=/^\[(?:([a-z-]+):)?(.+)\]$/i,kw=/^\d+\/\d+$/,Sw=new Set(["px","full","screen"]),Cw=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ew=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Tw=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Pw=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_w=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ds=e=>Hr(e)||Sw.has(e)||kw.test(e),Cs=e=>nn(e,"length",Fw),Hr=e=>!!e&&!Number.isNaN(Number(e)),Go=e=>nn(e,"number",Hr),bn=e=>!!e&&Number.isInteger(Number(e)),Rw=e=>e.endsWith("%")&&Hr(e.slice(0,-1)),le=e=>yx.test(e),Es=e=>Cw.test(e),Aw=new Set(["length","size","percentage"]),Ow=e=>nn(e,Aw,bx),Lw=e=>nn(e,"position",bx),Dw=new Set(["image","url"]),Iw=e=>nn(e,Dw,zw),Mw=e=>nn(e,"",Bw),vn=()=>!0,nn=(e,t,s)=>{const r=yx.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):s(r[2]):!1},Fw=e=>Ew.test(e)&&!Tw.test(e),bx=()=>!1,Bw=e=>Pw.test(e),zw=e=>_w.test(e),$w=()=>{const e=Re("colors"),t=Re("spacing"),s=Re("blur"),r=Re("brightness"),i=Re("borderColor"),a=Re("borderRadius"),o=Re("borderSpacing"),l=Re("borderWidth"),c=Re("contrast"),d=Re("grayscale"),m=Re("hueRotate"),h=Re("invert"),x=Re("gap"),w=Re("gradientColorStops"),g=Re("gradientColorStopPositions"),v=Re("inset"),b=Re("margin"),p=Re("opacity"),f=Re("padding"),y=Re("saturate"),N=Re("scale"),k=Re("sepia"),E=Re("skew"),C=Re("space"),L=Re("translate"),D=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",le,t],R=()=>[le,t],B=()=>["",ds,Cs],A=()=>["auto",Hr,le],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],_=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",le],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>[Hr,le];return{cacheSize:500,separator:":",theme:{colors:[vn],spacing:[ds,Cs],blur:["none","",Es,le],brightness:V(),borderColor:[e],borderRadius:["none","","full",Es,le],borderSpacing:R(),borderWidth:B(),contrast:V(),grayscale:M(),hueRotate:V(),invert:M(),gap:R(),gradientColorStops:[e],gradientColorStopPositions:[Rw,Cs],inset:P(),margin:P(),opacity:V(),padding:R(),saturate:V(),scale:V(),sepia:M(),skew:V(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",le]}],container:["container"],columns:[{columns:[Es]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),le]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",bn,le]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",le]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",bn,le]}],"grid-cols":[{"grid-cols":[vn]}],"col-start-end":[{col:["auto",{span:["full",bn,le]},le]}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":[vn]}],"row-start-end":[{row:["auto",{span:[bn,le]},le]}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",le]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",le]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",..._()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",..._(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[..._(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[f]}],px:[{px:[f]}],py:[{py:[f]}],ps:[{ps:[f]}],pe:[{pe:[f]}],pt:[{pt:[f]}],pr:[{pr:[f]}],pb:[{pb:[f]}],pl:[{pl:[f]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",le,t]}],"min-w":[{"min-w":[le,t,"min","max","fit"]}],"max-w":[{"max-w":[le,t,"none","full","min","max","fit","prose",{screen:[Es]},Es]}],h:[{h:[le,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[le,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[le,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[le,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Es,Cs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Go]}],"font-family":[{font:[vn]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",le]}],"line-clamp":[{"line-clamp":["none",Hr,Go]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ds,le]}],"list-image":[{"list-image":["none",le]}],"list-style-type":[{list:["none","disc","decimal",le]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ds,Cs]}],"underline-offset":[{"underline-offset":["auto",ds,le]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),Lw]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Ow]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Iw]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:te()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[ds,le]}],"outline-w":[{outline:[ds,Cs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[ds,Cs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Es,Mw]}],"shadow-color":[{shadow:[vn]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...ae(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ae()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Es,le]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[h]}],saturate:[{saturate:[y]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",le]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",le]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",le]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[bn,le]}],"translate-x":[{"translate-x":[L]}],"translate-y":[{"translate-y":[L]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",le]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",le]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",le]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ds,Cs,Go]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Uw=Nw($w);function ls(...e){return Uw(tx(e))}const Vw=Xv,vx=u.forwardRef(({className:e,...t},s)=>n.jsx(Jp,{ref:s,className:ls("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));vx.displayName=Jp.displayName;const Hw=sx("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),wx=u.forwardRef(({className:e,variant:t,...s},r)=>n.jsx(Gp,{ref:r,className:ls(Hw({variant:t}),e),...s}));wx.displayName=Gp.displayName;const Ww=u.forwardRef(({className:e,...t},s)=>n.jsx(Xp,{ref:s,className:ls("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Ww.displayName=Xp.displayName;const jx=u.forwardRef(({className:e,...t},s)=>n.jsx(Zp,{ref:s,className:ls("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(fx,{className:"h-4 w-4"})}));jx.displayName=Zp.displayName;const Nx=u.forwardRef(({className:e,...t},s)=>n.jsx(Qp,{ref:s,className:ls("text-sm font-semibold",e),...t}));Nx.displayName=Qp.displayName;const kx=u.forwardRef(({className:e,...t},s)=>n.jsx(Yp,{ref:s,className:ls("text-sm opacity-90",e),...t}));kx.displayName=Yp.displayName;function qw(){const{toasts:e}=uv();return n.jsxs(Vw,{children:[e.map(function({id:t,title:s,description:r,action:i,...a}){return n.jsxs(wx,{...a,children:[n.jsxs("div",{className:"grid gap-1",children:[s&&n.jsx(Nx,{children:s}),r&&n.jsx(kx,{children:r})]}),i,n.jsx(jx,{})]},t)}),n.jsx(vx,{})]})}function Sx(e,t){return function(){return e.apply(t,arguments)}}const{toString:Kw}=Object.prototype,{getPrototypeOf:Cd}=Object,{iterator:ao,toStringTag:Cx}=Symbol,oo=(e=>t=>{const s=Kw.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Yt=e=>(e=e.toLowerCase(),t=>oo(t)===e),lo=e=>t=>typeof t===e,{isArray:an}=Array,Xr=lo("undefined");function fi(e){return e!==null&&!Xr(e)&&e.constructor!==null&&!Xr(e.constructor)&&Nt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ex=Yt("ArrayBuffer");function Jw(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Ex(e.buffer),t}const Gw=lo("string"),Nt=lo("function"),Tx=lo("number"),pi=e=>e!==null&&typeof e=="object",Qw=e=>e===!0||e===!1,na=e=>{if(oo(e)!=="object")return!1;const t=Cd(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Cx in e)&&!(ao in e)},Yw=e=>{if(!pi(e)||fi(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Xw=Yt("Date"),Zw=Yt("File"),ej=Yt("Blob"),tj=Yt("FileList"),sj=e=>pi(e)&&Nt(e.pipe),rj=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Nt(e.append)&&((t=oo(e))==="formdata"||t==="object"&&Nt(e.toString)&&e.toString()==="[object FormData]"))},nj=Yt("URLSearchParams"),[ij,aj,oj,lj]=["ReadableStream","Request","Response","Headers"].map(Yt),cj=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xi(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),an(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{if(fi(e))return;const a=s?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let l;for(r=0;r<o;r++)l=a[r],t.call(null,e[l],l,e)}}function Px(e,t){if(fi(e))return null;t=t.toLowerCase();const s=Object.keys(e);let r=s.length,i;for(;r-- >0;)if(i=s[r],t===i.toLowerCase())return i;return null}const or=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,_x=e=>!Xr(e)&&e!==or;function uc(){const{caseless:e,skipUndefined:t}=_x(this)&&this||{},s={},r=(i,a)=>{const o=e&&Px(s,a)||a;na(s[o])&&na(i)?s[o]=uc(s[o],i):na(i)?s[o]=uc({},i):an(i)?s[o]=i.slice():(!t||!Xr(i))&&(s[o]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&xi(arguments[i],r);return s}const dj=(e,t,s,{allOwnKeys:r}={})=>(xi(t,(i,a)=>{s&&Nt(i)?e[a]=Sx(i,s):e[a]=i},{allOwnKeys:r}),e),uj=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),hj=(e,t,s,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},mj=(e,t,s,r)=>{let i,a,o;const l={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],(!r||r(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=s!==!1&&Cd(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},fj=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const r=e.indexOf(t,s);return r!==-1&&r===s},pj=e=>{if(!e)return null;if(an(e))return e;let t=e.length;if(!Tx(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},xj=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Cd(Uint8Array)),gj=(e,t)=>{const r=(e&&e[ao]).call(e);let i;for(;(i=r.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},yj=(e,t)=>{let s;const r=[];for(;(s=e.exec(t))!==null;)r.push(s);return r},bj=Yt("HTMLFormElement"),vj=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,r,i){return r.toUpperCase()+i}),vh=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),wj=Yt("RegExp"),Rx=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),r={};xi(s,(i,a)=>{let o;(o=t(i,a,e))!==!1&&(r[a]=o||i)}),Object.defineProperties(e,r)},jj=e=>{Rx(e,(t,s)=>{if(Nt(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=e[s];if(Nt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Nj=(e,t)=>{const s={},r=i=>{i.forEach(a=>{s[a]=!0})};return an(e)?r(e):r(String(e).split(t)),s},kj=()=>{},Sj=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Cj(e){return!!(e&&Nt(e.append)&&e[Cx]==="FormData"&&e[ao])}const Ej=e=>{const t=new Array(10),s=(r,i)=>{if(pi(r)){if(t.indexOf(r)>=0)return;if(fi(r))return r;if(!("toJSON"in r)){t[i]=r;const a=an(r)?[]:{};return xi(r,(o,l)=>{const c=s(o,i+1);!Xr(c)&&(a[l]=c)}),t[i]=void 0,a}}return r};return s(e,0)},Tj=Yt("AsyncFunction"),Pj=e=>e&&(pi(e)||Nt(e))&&Nt(e.then)&&Nt(e.catch),Ax=((e,t)=>e?setImmediate:t?((s,r)=>(or.addEventListener("message",({source:i,data:a})=>{i===or&&a===s&&r.length&&r.shift()()},!1),i=>{r.push(i),or.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Nt(or.postMessage)),_j=typeof queueMicrotask<"u"?queueMicrotask.bind(or):typeof process<"u"&&process.nextTick||Ax,Rj=e=>e!=null&&Nt(e[ao]),O={isArray:an,isArrayBuffer:Ex,isBuffer:fi,isFormData:rj,isArrayBufferView:Jw,isString:Gw,isNumber:Tx,isBoolean:Qw,isObject:pi,isPlainObject:na,isEmptyObject:Yw,isReadableStream:ij,isRequest:aj,isResponse:oj,isHeaders:lj,isUndefined:Xr,isDate:Xw,isFile:Zw,isBlob:ej,isRegExp:wj,isFunction:Nt,isStream:sj,isURLSearchParams:nj,isTypedArray:xj,isFileList:tj,forEach:xi,merge:uc,extend:dj,trim:cj,stripBOM:uj,inherits:hj,toFlatObject:mj,kindOf:oo,kindOfTest:Yt,endsWith:fj,toArray:pj,forEachEntry:gj,matchAll:yj,isHTMLForm:bj,hasOwnProperty:vh,hasOwnProp:vh,reduceDescriptors:Rx,freezeMethods:jj,toObjectSet:Nj,toCamelCase:vj,noop:kj,toFiniteNumber:Sj,findKey:Px,global:or,isContextDefined:_x,isSpecCompliantForm:Cj,toJSONObject:Ej,isAsyncFn:Tj,isThenable:Pj,setImmediate:Ax,asap:_j,isIterable:Rj};function oe(e,t,s,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}O.inherits(oe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:O.toJSONObject(this.config),code:this.code,status:this.status}}});const Ox=oe.prototype,Lx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Lx[e]={value:e}});Object.defineProperties(oe,Lx);Object.defineProperty(Ox,"isAxiosError",{value:!0});oe.from=(e,t,s,r,i,a)=>{const o=Object.create(Ox);O.toFlatObject(e,o,function(m){return m!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return oe.call(o,l,c,s,r,i),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",a&&Object.assign(o,a),o};const Aj=null;function hc(e){return O.isPlainObject(e)||O.isArray(e)}function Dx(e){return O.endsWith(e,"[]")?e.slice(0,-2):e}function wh(e,t,s){return e?e.concat(t).map(function(i,a){return i=Dx(i),!s&&a?"["+i+"]":i}).join(s?".":""):t}function Oj(e){return O.isArray(e)&&!e.some(hc)}const Lj=O.toFlatObject(O,{},null,function(t){return/^is[A-Z]/.test(t)});function co(e,t,s){if(!O.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=O.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,b){return!O.isUndefined(b[v])});const r=s.metaTokens,i=s.visitor||m,a=s.dots,o=s.indexes,c=(s.Blob||typeof Blob<"u"&&Blob)&&O.isSpecCompliantForm(t);if(!O.isFunction(i))throw new TypeError("visitor must be a function");function d(g){if(g===null)return"";if(O.isDate(g))return g.toISOString();if(O.isBoolean(g))return g.toString();if(!c&&O.isBlob(g))throw new oe("Blob is not supported. Use a Buffer instead.");return O.isArrayBuffer(g)||O.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function m(g,v,b){let p=g;if(g&&!b&&typeof g=="object"){if(O.endsWith(v,"{}"))v=r?v:v.slice(0,-2),g=JSON.stringify(g);else if(O.isArray(g)&&Oj(g)||(O.isFileList(g)||O.endsWith(v,"[]"))&&(p=O.toArray(g)))return v=Dx(v),p.forEach(function(y,N){!(O.isUndefined(y)||y===null)&&t.append(o===!0?wh([v],N,a):o===null?v:v+"[]",d(y))}),!1}return hc(g)?!0:(t.append(wh(b,v,a),d(g)),!1)}const h=[],x=Object.assign(Lj,{defaultVisitor:m,convertValue:d,isVisitable:hc});function w(g,v){if(!O.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(g),O.forEach(g,function(p,f){(!(O.isUndefined(p)||p===null)&&i.call(t,p,O.isString(f)?f.trim():f,v,x))===!0&&w(p,v?v.concat(f):[f])}),h.pop()}}if(!O.isObject(e))throw new TypeError("data must be an object");return w(e),t}function jh(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Ed(e,t){this._pairs=[],e&&co(e,this,t)}const Ix=Ed.prototype;Ix.append=function(t,s){this._pairs.push([t,s])};Ix.toString=function(t){const s=t?function(r){return t.call(this,r,jh)}:jh;return this._pairs.map(function(i){return s(i[0])+"="+s(i[1])},"").join("&")};function Dj(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Mx(e,t,s){if(!t)return e;const r=s&&s.encode||Dj;O.isFunction(s)&&(s={serialize:s});const i=s&&s.serialize;let a;if(i?a=i(t,s):a=O.isURLSearchParams(t)?t.toString():new Ed(t,s).toString(r),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class Nh{constructor(){this.handlers=[]}use(t,s,r){return this.handlers.push({fulfilled:t,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){O.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Fx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ij=typeof URLSearchParams<"u"?URLSearchParams:Ed,Mj=typeof FormData<"u"?FormData:null,Fj=typeof Blob<"u"?Blob:null,Bj={isBrowser:!0,classes:{URLSearchParams:Ij,FormData:Mj,Blob:Fj},protocols:["http","https","file","blob","url","data"]},Td=typeof window<"u"&&typeof document<"u",mc=typeof navigator=="object"&&navigator||void 0,zj=Td&&(!mc||["ReactNative","NativeScript","NS"].indexOf(mc.product)<0),$j=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Uj=Td&&window.location.href||"http://localhost",Vj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Td,hasStandardBrowserEnv:zj,hasStandardBrowserWebWorkerEnv:$j,navigator:mc,origin:Uj},Symbol.toStringTag,{value:"Module"})),lt={...Vj,...Bj};function Hj(e,t){return co(e,new lt.classes.URLSearchParams,{visitor:function(s,r,i,a){return lt.isNode&&O.isBuffer(s)?(this.append(r,s.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function Wj(e){return O.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function qj(e){const t={},s=Object.keys(e);let r;const i=s.length;let a;for(r=0;r<i;r++)a=s[r],t[a]=e[a];return t}function Bx(e){function t(s,r,i,a){let o=s[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=s.length;return o=!o&&O.isArray(i)?i.length:o,c?(O.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!l):((!i[o]||!O.isObject(i[o]))&&(i[o]=[]),t(s,r,i[o],a)&&O.isArray(i[o])&&(i[o]=qj(i[o])),!l)}if(O.isFormData(e)&&O.isFunction(e.entries)){const s={};return O.forEachEntry(e,(r,i)=>{t(Wj(r),i,s,0)}),s}return null}function Kj(e,t,s){if(O.isString(e))try{return(t||JSON.parse)(e),O.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(s||JSON.stringify)(e)}const gi={transitional:Fx,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const r=s.getContentType()||"",i=r.indexOf("application/json")>-1,a=O.isObject(t);if(a&&O.isHTMLForm(t)&&(t=new FormData(t)),O.isFormData(t))return i?JSON.stringify(Bx(t)):t;if(O.isArrayBuffer(t)||O.isBuffer(t)||O.isStream(t)||O.isFile(t)||O.isBlob(t)||O.isReadableStream(t))return t;if(O.isArrayBufferView(t))return t.buffer;if(O.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Hj(t,this.formSerializer).toString();if((l=O.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return co(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||i?(s.setContentType("application/json",!1),Kj(t)):t}],transformResponse:[function(t){const s=this.transitional||gi.transitional,r=s&&s.forcedJSONParsing,i=this.responseType==="json";if(O.isResponse(t)||O.isReadableStream(t))return t;if(t&&O.isString(t)&&(r&&!this.responseType||i)){const o=!(s&&s.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?oe.from(l,oe.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:lt.classes.FormData,Blob:lt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};O.forEach(["delete","get","head","post","put","patch"],e=>{gi.headers[e]={}});const Jj=O.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Gj=e=>{const t={};let s,r,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),s=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!s||t[s]&&Jj[s])&&(s==="set-cookie"?t[s]?t[s].push(r):t[s]=[r]:t[s]=t[s]?t[s]+", "+r:r)}),t},kh=Symbol("internals");function wn(e){return e&&String(e).trim().toLowerCase()}function ia(e){return e===!1||e==null?e:O.isArray(e)?e.map(ia):String(e)}function Qj(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(e);)t[r[1]]=r[2];return t}const Yj=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Qo(e,t,s,r,i){if(O.isFunction(r))return r.call(this,t,s);if(i&&(t=s),!!O.isString(t)){if(O.isString(r))return t.indexOf(r)!==-1;if(O.isRegExp(r))return r.test(t)}}function Xj(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,r)=>s.toUpperCase()+r)}function Zj(e,t){const s=O.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+s,{value:function(i,a,o){return this[r].call(this,t,i,a,o)},configurable:!0})})}let kt=class{constructor(t){t&&this.set(t)}set(t,s,r){const i=this;function a(l,c,d){const m=wn(c);if(!m)throw new Error("header name must be a non-empty string");const h=O.findKey(i,m);(!h||i[h]===void 0||d===!0||d===void 0&&i[h]!==!1)&&(i[h||c]=ia(l))}const o=(l,c)=>O.forEach(l,(d,m)=>a(d,m,c));if(O.isPlainObject(t)||t instanceof this.constructor)o(t,s);else if(O.isString(t)&&(t=t.trim())&&!Yj(t))o(Gj(t),s);else if(O.isObject(t)&&O.isIterable(t)){let l={},c,d;for(const m of t){if(!O.isArray(m))throw TypeError("Object iterator must return a key-value pair");l[d=m[0]]=(c=l[d])?O.isArray(c)?[...c,m[1]]:[c,m[1]]:m[1]}o(l,s)}else t!=null&&a(s,t,r);return this}get(t,s){if(t=wn(t),t){const r=O.findKey(this,t);if(r){const i=this[r];if(!s)return i;if(s===!0)return Qj(i);if(O.isFunction(s))return s.call(this,i,r);if(O.isRegExp(s))return s.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=wn(t),t){const r=O.findKey(this,t);return!!(r&&this[r]!==void 0&&(!s||Qo(this,this[r],r,s)))}return!1}delete(t,s){const r=this;let i=!1;function a(o){if(o=wn(o),o){const l=O.findKey(r,o);l&&(!s||Qo(r,r[l],l,s))&&(delete r[l],i=!0)}}return O.isArray(t)?t.forEach(a):a(t),i}clear(t){const s=Object.keys(this);let r=s.length,i=!1;for(;r--;){const a=s[r];(!t||Qo(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const s=this,r={};return O.forEach(this,(i,a)=>{const o=O.findKey(r,a);if(o){s[o]=ia(i),delete s[a];return}const l=t?Xj(a):String(a).trim();l!==a&&delete s[a],s[l]=ia(i),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return O.forEach(this,(r,i)=>{r!=null&&r!==!1&&(s[i]=t&&O.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const r=new this(t);return s.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[kh]=this[kh]={accessors:{}}).accessors,i=this.prototype;function a(o){const l=wn(o);r[l]||(Zj(i,o),r[l]=!0)}return O.isArray(t)?t.forEach(a):a(t),this}};kt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);O.reduceDescriptors(kt.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[s]=r}}});O.freezeMethods(kt);function Yo(e,t){const s=this||gi,r=t||s,i=kt.from(r.headers);let a=r.data;return O.forEach(e,function(l){a=l.call(s,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function zx(e){return!!(e&&e.__CANCEL__)}function on(e,t,s){oe.call(this,e??"canceled",oe.ERR_CANCELED,t,s),this.name="CanceledError"}O.inherits(on,oe,{__CANCEL__:!0});function $x(e,t,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?e(s):t(new oe("Request failed with status code "+s.status,[oe.ERR_BAD_REQUEST,oe.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function eN(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function tN(e,t){e=e||10;const s=new Array(e),r=new Array(e);let i=0,a=0,o;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),m=r[a];o||(o=d),s[i]=c,r[i]=d;let h=a,x=0;for(;h!==i;)x+=s[h++],h=h%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),d-o<t)return;const w=m&&d-m;return w?Math.round(x*1e3/w):void 0}}function sN(e,t){let s=0,r=1e3/t,i,a;const o=(d,m=Date.now())=>{s=m,i=null,a&&(clearTimeout(a),a=null),e(...d)};return[(...d)=>{const m=Date.now(),h=m-s;h>=r?o(d,m):(i=d,a||(a=setTimeout(()=>{a=null,o(i)},r-h)))},()=>i&&o(i)]}const Fa=(e,t,s=3)=>{let r=0;const i=tN(50,250);return sN(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-r,d=i(c),m=o<=l;r=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&m?(l-o)/d:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},s)},Sh=(e,t)=>{const s=e!=null;return[r=>t[0]({lengthComputable:s,total:e,loaded:r}),t[1]]},Ch=e=>(...t)=>O.asap(()=>e(...t)),rN=lt.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,lt.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(lt.origin),lt.navigator&&/(msie|trident)/i.test(lt.navigator.userAgent)):()=>!0,nN=lt.hasStandardBrowserEnv?{write(e,t,s,r,i,a){const o=[e+"="+encodeURIComponent(t)];O.isNumber(s)&&o.push("expires="+new Date(s).toGMTString()),O.isString(r)&&o.push("path="+r),O.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function iN(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function aN(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Ux(e,t,s){let r=!iN(t);return e&&(r||s==!1)?aN(e,t):t}const Eh=e=>e instanceof kt?{...e}:e;function br(e,t){t=t||{};const s={};function r(d,m,h,x){return O.isPlainObject(d)&&O.isPlainObject(m)?O.merge.call({caseless:x},d,m):O.isPlainObject(m)?O.merge({},m):O.isArray(m)?m.slice():m}function i(d,m,h,x){if(O.isUndefined(m)){if(!O.isUndefined(d))return r(void 0,d,h,x)}else return r(d,m,h,x)}function a(d,m){if(!O.isUndefined(m))return r(void 0,m)}function o(d,m){if(O.isUndefined(m)){if(!O.isUndefined(d))return r(void 0,d)}else return r(void 0,m)}function l(d,m,h){if(h in t)return r(d,m);if(h in e)return r(void 0,d)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,m,h)=>i(Eh(d),Eh(m),h,!0)};return O.forEach(Object.keys({...e,...t}),function(m){const h=c[m]||i,x=h(e[m],t[m],m);O.isUndefined(x)&&h!==l||(s[m]=x)}),s}const Vx=e=>{const t=br({},e);let{data:s,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:l}=t;if(t.headers=o=kt.from(o),t.url=Mx(Ux(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),O.isFormData(s)){if(lt.hasStandardBrowserEnv||lt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(O.isFunction(s.getHeaders)){const c=s.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([m,h])=>{d.includes(m.toLowerCase())&&o.set(m,h)})}}if(lt.hasStandardBrowserEnv&&(r&&O.isFunction(r)&&(r=r(t)),r||r!==!1&&rN(t.url))){const c=i&&a&&nN.read(a);c&&o.set(i,c)}return t},oN=typeof XMLHttpRequest<"u",lN=oN&&function(e){return new Promise(function(s,r){const i=Vx(e);let a=i.data;const o=kt.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=i,m,h,x,w,g;function v(){w&&w(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function p(){if(!b)return;const y=kt.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),k={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:y,config:e,request:b};$x(function(C){s(C),v()},function(C){r(C),v()},k),b=null}"onloadend"in b?b.onloadend=p:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(p)},b.onabort=function(){b&&(r(new oe("Request aborted",oe.ECONNABORTED,e,b)),b=null)},b.onerror=function(N){const k=N&&N.message?N.message:"Network Error",E=new oe(k,oe.ERR_NETWORK,e,b);E.event=N||null,r(E),b=null},b.ontimeout=function(){let N=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const k=i.transitional||Fx;i.timeoutErrorMessage&&(N=i.timeoutErrorMessage),r(new oe(N,k.clarifyTimeoutError?oe.ETIMEDOUT:oe.ECONNABORTED,e,b)),b=null},a===void 0&&o.setContentType(null),"setRequestHeader"in b&&O.forEach(o.toJSON(),function(N,k){b.setRequestHeader(k,N)}),O.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),l&&l!=="json"&&(b.responseType=i.responseType),d&&([x,g]=Fa(d,!0),b.addEventListener("progress",x)),c&&b.upload&&([h,w]=Fa(c),b.upload.addEventListener("progress",h),b.upload.addEventListener("loadend",w)),(i.cancelToken||i.signal)&&(m=y=>{b&&(r(!y||y.type?new on(null,e,b):y),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const f=eN(i.url);if(f&&lt.protocols.indexOf(f)===-1){r(new oe("Unsupported protocol "+f+":",oe.ERR_BAD_REQUEST,e));return}b.send(a||null)})},cN=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let r=new AbortController,i;const a=function(d){if(!i){i=!0,l();const m=d instanceof Error?d:this.reason;r.abort(m instanceof oe?m:new on(m instanceof Error?m.message:m))}};let o=t&&setTimeout(()=>{o=null,a(new oe(`timeout ${t} of ms exceeded`,oe.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),e=null)};e.forEach(d=>d.addEventListener("abort",a));const{signal:c}=r;return c.unsubscribe=()=>O.asap(l),c}},dN=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let r=0,i;for(;r<s;)i=r+t,yield e.slice(r,i),r=i},uN=async function*(e,t){for await(const s of hN(e))yield*dN(s,t)},hN=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:r}=await t.read();if(s)break;yield r}}finally{await t.cancel()}},Th=(e,t,s,r)=>{const i=uN(e,t);let a=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:m}=await i.next();if(d){l(),c.close();return}let h=m.byteLength;if(s){let x=a+=h;s(x)}c.enqueue(new Uint8Array(m))}catch(d){throw l(d),d}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},Ph=64*1024,{isFunction:zi}=O,mN=(({Request:e,Response:t})=>({Request:e,Response:t}))(O.global),{ReadableStream:_h,TextEncoder:Rh}=O.global,Ah=(e,...t)=>{try{return!!e(...t)}catch{return!1}},fN=e=>{e=O.merge.call({skipUndefined:!0},mN,e);const{fetch:t,Request:s,Response:r}=e,i=t?zi(t):typeof fetch=="function",a=zi(s),o=zi(r);if(!i)return!1;const l=i&&zi(_h),c=i&&(typeof Rh=="function"?(g=>v=>g.encode(v))(new Rh):async g=>new Uint8Array(await new s(g).arrayBuffer())),d=a&&l&&Ah(()=>{let g=!1;const v=new s(lt.origin,{body:new _h,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!v}),m=o&&l&&Ah(()=>O.isReadableStream(new r("").body)),h={stream:m&&(g=>g.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!h[g]&&(h[g]=(v,b)=>{let p=v&&v[g];if(p)return p.call(v);throw new oe(`Response type '${g}' is not supported`,oe.ERR_NOT_SUPPORT,b)})});const x=async g=>{if(g==null)return 0;if(O.isBlob(g))return g.size;if(O.isSpecCompliantForm(g))return(await new s(lt.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(O.isArrayBufferView(g)||O.isArrayBuffer(g))return g.byteLength;if(O.isURLSearchParams(g)&&(g=g+""),O.isString(g))return(await c(g)).byteLength},w=async(g,v)=>{const b=O.toFiniteNumber(g.getContentLength());return b??x(v)};return async g=>{let{url:v,method:b,data:p,signal:f,cancelToken:y,timeout:N,onDownloadProgress:k,onUploadProgress:E,responseType:C,headers:L,withCredentials:D="same-origin",fetchOptions:j}=Vx(g),P=t||fetch;C=C?(C+"").toLowerCase():"text";let R=cN([f,y&&y.toAbortSignal()],N),B=null;const A=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let K;try{if(E&&d&&b!=="get"&&b!=="head"&&(K=await w(L,p))!==0){let V=new s(v,{method:"POST",body:p,duplex:"half"}),X;if(O.isFormData(p)&&(X=V.headers.get("content-type"))&&L.setContentType(X),V.body){const[he,ie]=Sh(K,Fa(Ch(E)));p=Th(V.body,Ph,he,ie)}}O.isString(D)||(D=D?"include":"omit");const te=a&&"credentials"in s.prototype,ae={...j,signal:R,method:b.toUpperCase(),headers:L.normalize().toJSON(),body:p,duplex:"half",credentials:te?D:void 0};B=a&&new s(v,ae);let _=await(a?P(B,j):P(v,ae));const M=m&&(C==="stream"||C==="response");if(m&&(k||M&&A)){const V={};["status","statusText","headers"].forEach(He=>{V[He]=_[He]});const X=O.toFiniteNumber(_.headers.get("content-length")),[he,ie]=k&&Sh(X,Fa(Ch(k),!0))||[];_=new r(Th(_.body,Ph,he,()=>{ie&&ie(),A&&A()}),V)}C=C||"text";let U=await h[O.findKey(h,C)||"text"](_,g);return!M&&A&&A(),await new Promise((V,X)=>{$x(V,X,{data:U,headers:kt.from(_.headers),status:_.status,statusText:_.statusText,config:g,request:B})})}catch(te){throw A&&A(),te&&te.name==="TypeError"&&/Load failed|fetch/i.test(te.message)?Object.assign(new oe("Network Error",oe.ERR_NETWORK,g,B),{cause:te.cause||te}):oe.from(te,te&&te.code,g,B)}}},pN=new Map,Hx=e=>{let t=e?e.env:{};const{fetch:s,Request:r,Response:i}=t,a=[r,i,s];let o=a.length,l=o,c,d,m=pN;for(;l--;)c=a[l],d=m.get(c),d===void 0&&m.set(c,d=l?new Map:fN(t)),m=d;return d};Hx();const fc={http:Aj,xhr:lN,fetch:{get:Hx}};O.forEach(fc,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Oh=e=>`- ${e}`,xN=e=>O.isFunction(e)||e===null||e===!1,Wx={getAdapter:(e,t)=>{e=O.isArray(e)?e:[e];const{length:s}=e;let r,i;const a={};for(let o=0;o<s;o++){r=e[o];let l;if(i=r,!xN(r)&&(i=fc[(l=String(r)).toLowerCase()],i===void 0))throw new oe(`Unknown adapter '${l}'`);if(i&&(O.isFunction(i)||(i=i.get(t))))break;a[l||"#"+o]=i}if(!i){const o=Object.entries(a).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=s?o.length>1?`since :
`+o.map(Oh).join(`
`):" "+Oh(o[0]):"as no adapter specified";throw new oe("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i},adapters:fc};function Xo(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new on(null,e)}function Lh(e){return Xo(e),e.headers=kt.from(e.headers),e.data=Yo.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Wx.getAdapter(e.adapter||gi.adapter,e)(e).then(function(r){return Xo(e),r.data=Yo.call(e,e.transformResponse,r),r.headers=kt.from(r.headers),r},function(r){return zx(r)||(Xo(e),r&&r.response&&(r.response.data=Yo.call(e,e.transformResponse,r.response),r.response.headers=kt.from(r.response.headers))),Promise.reject(r)})}const qx="1.12.2",uo={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{uo[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Dh={};uo.transitional=function(t,s,r){function i(a,o){return"[Axios v"+qx+"] Transitional option '"+a+"'"+o+(r?". "+r:"")}return(a,o,l)=>{if(t===!1)throw new oe(i(o," has been removed"+(s?" in "+s:"")),oe.ERR_DEPRECATED);return s&&!Dh[o]&&(Dh[o]=!0,console.warn(i(o," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(a,o,l):!0}};uo.spelling=function(t){return(s,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function gN(e,t,s){if(typeof e!="object")throw new oe("options must be an object",oe.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],o=t[a];if(o){const l=e[a],c=l===void 0||o(l,a,e);if(c!==!0)throw new oe("option "+a+" must be "+c,oe.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new oe("Unknown option "+a,oe.ERR_BAD_OPTION)}}const aa={assertOptions:gN,validators:uo},es=aa.validators;let ur=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Nh,response:new Nh}}async request(t,s){try{return await this._request(t,s)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=br(this.defaults,s);const{transitional:r,paramsSerializer:i,headers:a}=s;r!==void 0&&aa.assertOptions(r,{silentJSONParsing:es.transitional(es.boolean),forcedJSONParsing:es.transitional(es.boolean),clarifyTimeoutError:es.transitional(es.boolean)},!1),i!=null&&(O.isFunction(i)?s.paramsSerializer={serialize:i}:aa.assertOptions(i,{encode:es.function,serialize:es.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),aa.assertOptions(s,{baseUrl:es.spelling("baseURL"),withXsrfToken:es.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=a&&O.merge(a.common,a[s.method]);a&&O.forEach(["delete","get","head","post","put","patch","common"],g=>{delete a[g]}),s.headers=kt.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(s)===!1||(c=c&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const d=[];this.interceptors.response.forEach(function(v){d.push(v.fulfilled,v.rejected)});let m,h=0,x;if(!c){const g=[Lh.bind(this),void 0];for(g.unshift(...l),g.push(...d),x=g.length,m=Promise.resolve(s);h<x;)m=m.then(g[h++],g[h++]);return m}x=l.length;let w=s;for(;h<x;){const g=l[h++],v=l[h++];try{w=g(w)}catch(b){v.call(this,b);break}}try{m=Lh.call(this,w)}catch(g){return Promise.reject(g)}for(h=0,x=d.length;h<x;)m=m.then(d[h++],d[h++]);return m}getUri(t){t=br(this.defaults,t);const s=Ux(t.baseURL,t.url,t.allowAbsoluteUrls);return Mx(s,t.params,t.paramsSerializer)}};O.forEach(["delete","get","head","options"],function(t){ur.prototype[t]=function(s,r){return this.request(br(r||{},{method:t,url:s,data:(r||{}).data}))}});O.forEach(["post","put","patch"],function(t){function s(r){return function(a,o,l){return this.request(br(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}ur.prototype[t]=s(),ur.prototype[t+"Form"]=s(!0)});let yN=class Kx{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(a){s=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(l=>{r.subscribe(l),a=l}).then(i);return o.cancel=function(){r.unsubscribe(a)},o},t(function(a,o,l){r.reason||(r.reason=new on(a,o,l),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=r=>{t.abort(r)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new Kx(function(i){t=i}),cancel:t}}};function bN(e){return function(s){return e.apply(null,s)}}function vN(e){return O.isObject(e)&&e.isAxiosError===!0}const pc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(pc).forEach(([e,t])=>{pc[t]=e});function Jx(e){const t=new ur(e),s=Sx(ur.prototype.request,t);return O.extend(s,ur.prototype,t,{allOwnKeys:!0}),O.extend(s,t,null,{allOwnKeys:!0}),s.create=function(i){return Jx(br(e,i))},s}const Ue=Jx(gi);Ue.Axios=ur;Ue.CanceledError=on;Ue.CancelToken=yN;Ue.isCancel=zx;Ue.VERSION=qx;Ue.toFormData=co;Ue.AxiosError=oe;Ue.Cancel=Ue.CanceledError;Ue.all=function(t){return Promise.all(t)};Ue.spread=bN;Ue.isAxiosError=vN;Ue.mergeConfig=br;Ue.AxiosHeaders=kt;Ue.formToJSON=e=>Bx(O.isHTMLForm(e)?new FormData(e):e);Ue.getAdapter=Wx.getAdapter;Ue.HttpStatusCode=pc;Ue.default=Ue;const{Axios:b2,AxiosError:v2,CanceledError:w2,isCancel:j2,CancelToken:N2,VERSION:k2,all:S2,Cancel:C2,isAxiosError:E2,spread:T2,toFormData:P2,AxiosHeaders:_2,HttpStatusCode:R2,formToJSON:A2,getAdapter:O2,mergeConfig:L2}=Ue,je="https://your-railway-url.railway.app/api/v1";class wN{constructor(){Object.defineProperty(this,"api",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.api=Ue.create({baseURL:je,headers:{"Content-Type":"application/json"}}),this.api.interceptors.request.use(t=>{const s=localStorage.getItem("authToken");return s&&(t.headers.Authorization=`Bearer ${s}`),t})}async register(t){var s,r;try{return(await this.api.post("/auth/register",{email:t.email,password:t.password,username:t.username,age:t.age,area:t.area,workOrSchool:t.workOrSchool,adminInviteCode:t.adminInviteCode})).data}catch(i){const a=((r=(s=i.response)==null?void 0:s.data)==null?void 0:r.error)||"Registration failed";throw new Error(a)}}async login(t){var s,r;try{return(await this.api.post("/auth/login",{email:t.email,password:t.password})).data}catch(i){const a=((r=(s=i.response)==null?void 0:s.data)==null?void 0:r.error)||"Login failed";throw new Error(a)}}async verifyLoginCode(t){var s,r;try{return(await this.api.post("/auth/verify-login",{email:t.email,code:t.code})).data}catch(i){const a=((r=(s=i.response)==null?void 0:s.data)==null?void 0:r.error)||"Verification failed";throw new Error(a)}}async adminLogin(t){var s,r;try{return(await this.api.post("/auth/admin/login",{email:t.email,password:t.password})).data}catch(i){const a=((r=(s=i.response)==null?void 0:s.data)==null?void 0:r.error)||"Admin login failed";throw new Error(a)}}async getCurrentUser(){var t,s;try{const r=await this.api.get("/auth/me");return r.data.user&&localStorage.setItem("userData",JSON.stringify(r.data.user)),r.data}catch(r){const i=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Failed to fetch user";throw new Error(i)}}setToken(t){localStorage.setItem("authToken",t)}getToken(){return localStorage.getItem("authToken")}removeToken(){localStorage.removeItem("authToken")}isAuthenticated(){return!!this.getToken()}getUserData(){const t=localStorage.getItem("userData");if(t)try{return JSON.parse(t)}catch{return null}return null}clearUserData(){localStorage.removeItem("userData")}}const se=new wN;function jN(e){return[{label:"At least 8 characters",met:e.length>=8},{label:"One uppercase letter",met:/[A-Z]/.test(e)},{label:"One lowercase letter",met:/[a-z]/.test(e)},{label:"One number",met:/[0-9]/.test(e)},{label:"One special character (!@#$%^&*)",met:/[!@#$%^&*]/.test(e)}]}function NN({authMode:e,onSuccess:t,onClose:s,onModeChange:r}){const[i,a]=u.useState({email:"",password:"",username:"",age:""}),[o,l]=u.useState(""),[c,d]=u.useState(""),[m,h]=u.useState("credentials"),[x,w]=u.useState(""),[g,v]=u.useState(""),[b,p]=u.useState(!1),[f,y]=u.useState(!1),N=u.useMemo(()=>jN(i.password),[i.password]),k=N.every(R=>R.met),E=R=>{const{name:B,value:A}=R.target;a(K=>({...K,[B]:A}))},C=async()=>{w(""),v(""),p(!0);let R;try{if(!i.email||!i.password){w("Email and password are required"),p(!1);return}if(e==="register"&&!i.username){w("Full name is required"),p(!1);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)){w("Please enter a valid email address"),p(!1);return}if(e==="register"&&!k){const A=N.filter(K=>!K.met);w(`Password requirements: ${A.map(K=>K.label).join(", ")}`),p(!1);return}if(e==="login"&&i.password.length<6){w("Please enter your password"),p(!1);return}if(e==="register"){if(!i.age){w("Please tell us your age"),p(!1);return}const A=parseInt(i.age,10);if(Number.isNaN(A)){w("Age must be a valid number"),p(!1);return}if(A<13||A>120){w("Age must be between 13 and 120"),p(!1);return}R=A}if(e==="register"){const A=await se.register({email:i.email,password:i.password,username:i.username,age:R});se.setToken(A.token),t(A.user),s()}else{const A=await se.login({email:i.email,password:i.password});A.requiresVerification?(d(A.email||i.email),h("verify"),v("A verification code has been sent to your email")):A.token&&A.user&&(se.setToken(A.token),t(A.user),s())}}catch(B){w(B.message||"Authentication failed")}finally{p(!1)}},L=async()=>{w(""),v(""),p(!0);try{if(!o||o.length!==6){w("Please enter the 6-digit verification code"),p(!1);return}const R=await se.verifyLoginCode({email:c,code:o});se.setToken(R.token),t(R.user),s()}catch(R){w(R.message||"Verification failed")}finally{p(!1)}},D=async()=>{w(""),v(""),p(!0);try{await se.login({email:i.email,password:i.password}),v("A new verification code has been sent to your email"),l("")}catch(R){w(R.message||"Failed to resend code")}finally{p(!1)}},j=()=>{h("credentials"),l(""),d(""),w(""),v("")},P=()=>{a({email:"",password:"",username:"",age:""}),l(""),d(""),h("credentials"),w(""),v(""),y(!1)};return m==="verify"?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-3xl font-bold bg-gradient-to-r from-red-600 to-orange-500 bg-clip-text text-transparent",children:"Verify Your Identity"}),n.jsxs("p",{className:"text-gray-600 text-sm mt-2 font-medium",children:["Enter the 6-digit code sent to ",c]})]}),g&&n.jsx("div",{className:"bg-green-50 border border-green-200 border-l-4 border-l-green-600 text-green-700 px-4 py-3 rounded-lg text-sm font-medium",children:g}),x&&n.jsx("div",{className:"bg-red-50 border border-red-200 border-l-4 border-l-red-600 text-red-700 px-4 py-3 rounded-lg text-sm font-medium",children:x}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-900 font-semibold mb-2 text-sm",children:"Verification Code *"}),n.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:6,placeholder:"Enter 6-digit code",value:o,onChange:R=>l(R.target.value.replace(/\D/g,"").slice(0,6)),className:"w-full bg-gray-50 text-gray-900 px-4 py-3 rounded-lg border border-gray-300 hover:border-gray-400 focus:border-red-600 focus:ring-2 focus:ring-red-100 outline-none transition text-lg text-center tracking-[0.5em] font-mono placeholder:tracking-normal placeholder:text-sm",autoFocus:!0})]}),n.jsx("p",{className:"text-xs text-gray-500",children:"The code will expire in 10 minutes. Check your spam folder if you don't see it."})]}),n.jsx("button",{onClick:L,disabled:b||o.length!==6,className:"w-full bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 disabled:from-gray-400 disabled:to-gray-400 disabled:cursor-not-allowed text-white font-bold py-3 rounded-lg transition-all text-base shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 active:translate-y-0 disabled:opacity-70 mt-4",children:b?n.jsxs("span",{className:"flex items-center justify-center gap-2",children:[n.jsx("span",{className:"animate-spin",children:""}),"Verifying..."]}):"Verify & Sign In"}),n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx("button",{onClick:D,disabled:b,className:"text-red-600 hover:text-red-700 font-semibold disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-sm underline underline-offset-2",children:"Resend verification code"}),n.jsx("div",{children:n.jsx("button",{onClick:j,disabled:b,className:"text-gray-500 hover:text-gray-700 font-medium disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-sm",children:"Back to login"})})]})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-3xl font-bold bg-gradient-to-r from-red-600 to-orange-500 bg-clip-text text-transparent",children:e==="login"?"Welcome Back":"Join Our Community"}),n.jsx("p",{className:"text-gray-600 text-sm mt-2 font-medium",children:e==="login"?"Sign in to your Pomi account":"Create your account to connect with Pomi community"})]}),x&&n.jsx("div",{className:"bg-red-50 border border-red-200 border-l-4 border-l-red-600 text-red-700 px-4 py-3 rounded-lg text-sm font-medium animate-slideInDown",children:x}),n.jsxs("div",{className:"space-y-3",children:[e==="register"&&n.jsxs("div",{className:"animate-slideInUp",style:{animationDelay:"0.05s"},children:[n.jsx("label",{className:"block text-gray-900 font-semibold mb-2 text-sm",children:"Full Name *"}),n.jsx("input",{type:"text",name:"username",placeholder:"Enter your full name",value:i.username,onChange:E,className:"w-full bg-gray-50 text-gray-900 px-4 py-2.5 rounded-lg border border-gray-300 hover:border-gray-400 focus:border-red-600 focus:ring-2 focus:ring-red-100 outline-none transition text-sm placeholder:text-gray-600"})]}),n.jsxs("div",{className:"animate-slideInUp",style:{animationDelay:e==="register"?"0.1s":"0.05s"},children:[n.jsx("label",{className:"block text-gray-900 font-semibold mb-2 text-sm",children:"Email Address *"}),n.jsx("input",{type:"email",name:"email",placeholder:"your@email.com",value:i.email,onChange:E,className:"w-full bg-gray-50 text-gray-900 px-4 py-2.5 rounded-lg border border-gray-300 hover:border-gray-400 focus:border-red-600 focus:ring-2 focus:ring-red-100 outline-none transition text-sm placeholder:text-gray-600"})]}),n.jsxs("div",{className:"animate-slideInUp",style:{animationDelay:e==="register"?"0.15s":"0.1s"},children:[n.jsx("label",{className:"block text-gray-900 font-semibold mb-2 text-sm",children:"Password *"}),n.jsx("input",{type:"password",name:"password",placeholder:e==="register"?"Create a strong password":"Your password",value:i.password,onChange:E,onFocus:()=>e==="register"&&y(!0),onBlur:()=>setTimeout(()=>y(!1),200),className:"w-full bg-gray-50 text-gray-900 px-4 py-2.5 rounded-lg border border-gray-300 hover:border-gray-400 focus:border-red-600 focus:ring-2 focus:ring-red-100 outline-none transition text-sm placeholder:text-gray-600"}),e==="register"&&(f||i.password)&&n.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[n.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:"Password must include:"}),n.jsx("ul",{className:"space-y-1",children:N.map((R,B)=>n.jsxs("li",{className:`text-xs flex items-center gap-2 ${R.met?"text-green-600":"text-gray-500"}`,children:[n.jsx("span",{className:`w-4 h-4 rounded-full flex items-center justify-center text-xs ${R.met?"bg-green-100 text-green-600":"bg-gray-200 text-gray-400"}`,children:R.met?"":""}),R.label]},B))})]})]}),e==="register"&&n.jsxs("div",{className:"animate-slideInUp",style:{animationDelay:"0.2s"},children:[n.jsx("label",{className:"block text-gray-900 font-semibold mb-2 text-sm",children:"Age *"}),n.jsx("input",{type:"number",name:"age",placeholder:"Your age (13-120)",value:i.age,onChange:E,min:"13",max:"120",required:!0,className:"w-full bg-gray-50 text-gray-900 px-4 py-2.5 rounded-lg border border-gray-300 hover:border-gray-400 focus:border-red-600 focus:ring-2 focus:ring-red-100 outline-none transition text-sm placeholder:text-gray-600"})]}),e==="register"&&n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Admin accounts are managed separately by the operations team. Complete this form only for community member access."}),e==="login"&&n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"A verification code will be sent to your email for secure login."})]}),n.jsx("button",{onClick:C,disabled:b,className:"w-full bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 disabled:from-gray-400 disabled:to-gray-400 disabled:cursor-not-allowed text-white font-bold py-3 rounded-lg transition-all text-base shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 active:translate-y-0 disabled:opacity-70 mt-6",children:b?n.jsxs("span",{className:"flex items-center justify-center gap-2",children:[n.jsx("span",{className:"animate-spin",children:""}),e==="login"?"Sending Code...":"Creating Account..."]}):e==="login"?"Continue":"Create Account"}),n.jsxs("div",{className:"relative my-4",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-gray-300"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-2 bg-white text-gray-600",children:"Or"})})]}),e==="login"&&n.jsxs("p",{className:"text-center text-xs text-gray-500",children:["Admin team?"," ",n.jsx("a",{href:"/admin",className:"font-semibold text-red-600 underline decoration-red-200 underline-offset-4",children:"Open the secure console"}),"."]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-gray-900 text-sm mb-2",children:e==="login"?"Don't have an account? ":"Already have an account? "}),n.jsx("button",{onClick:()=>{r(e==="login"?"register":"login"),P()},disabled:b,className:"text-red-600 hover:text-red-700 font-bold disabled:opacity-50 disabled:cursor-not-allowed transition-colors px-4 py-2 rounded-lg hover:bg-red-50",children:e==="login"?"Sign Up":"Sign In"})]})]})}const kN=sx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function W({className:e,variant:t,size:s,asChild:r=!1,...i}){const a=r?ai:"button";return n.jsx(a,{"data-slot":"button",className:ls(kN({variant:t,size:s,className:e})),...i})}const Zo=[{label:"Newcomers welcomed",value:1200,suffix:"+",color:"bg-emerald-500",icon:dw},{label:"Connections made",value:15e3,suffix:"+",color:"bg-amber-500",icon:yr},{label:"Events hosted",value:320,suffix:"+",color:"bg-rose-500",icon:dr}],SN=[{icon:lx,title:"Culture-first design",description:"Rooted in Habesha artistry with layered colour, language support, and typography that feels like home.",color:"text-rose-400",href:"/forums"},{icon:is,title:"Trusted marketplace",description:"Moderated listings, verified sellers, and admin approvals keep buying, selling, and swapping safe for everyone.",color:"text-sky-400",href:"/marketplace"},{icon:nx,title:"Business visibility",description:"Spotlight Habesha-owned businesses with profiles, contact details, and admin-approved spotlights in seconds.",color:"text-amber-400",href:"/business"},{icon:Ks,title:"Forums & knowledge threads",description:"Threaded discussions with upvotes, saved posts, and moderation capture community wisdom for the long term.",color:"text-violet-400",href:"/forums"}],gt=[{id:"marketplace",title:"Marketplace",description:"Discover trusted listings from neighbours-jobs, housing, services, and essentials.",icon:cc,color:"bg-amber-500",href:"/marketplace"},{id:"events",title:"Events",description:"Find cultural celebrations, community gatherings, and networking meetups near you.",icon:dr,color:"bg-emerald-500",href:"/events"},{id:"forums",title:"Forums",description:"Ask questions, share tips, and connect with neighbours who understand your journey.",icon:Ks,color:"bg-violet-500",href:"/forums"},{id:"business",title:"Directory",description:"Support Habesha-owned businesses with verified profiles and community reviews.",icon:nx,color:"bg-rose-500",href:"/business"}],CN=[{quote:"I sold household essentials within a day and met a fellow entrepreneur who became a mentor. Pomi feels like home.",name:"Eyerusalem A.",role:"Marketplace Seller & Mentor"},{quote:"Our community events used to scatter on WhatsApp. Now everything lives in one place, with RSVPs we can actually track.",name:"Daniel H.",role:"Event Organizer"},{quote:"As a newcomer, finding local services was tough. The business directory made it effortless to support Habesha-owned shops.",name:"Hanna G.",role:"Newcomer & Student"}],EN=[{name:"yiebfirfffor",price:"$90",location:"Kanata",views:10},{name:"MacBook Pro 2021",price:"$1,200",location:"Downtown Ottawa",views:6},{name:"Ginger",price:"$15",location:"Kanata",views:8},{name:"Chemistry Textbook",price:"$80",location:"Downtown Ottawa",views:3}],Ih=[{label:"Marketplace",href:"/marketplace"},{label:"Events",href:"/events"},{label:"Directory",href:"/business"},{label:"Forums",href:"/forums"}];function TN({isLoggedIn:e,currentUser:t,flashMessage:s,unreadAdminMessages:r,unreadMessagesCount:i,onLoginClick:a,onRegisterClick:o,onLogout:l,onAdminInboxClick:c,onCalendarClick:d,onMessagesClick:m,onExploreFeature:h,navigateTo:x}){const[w,g]=u.useState(0),[v,b]=u.useState(!1),[p,f]=u.useState(Zo.map(()=>0));u.useEffect(()=>{const C=setInterval(()=>{g(L=>(L+1)%gt.length)},5e3);return()=>clearInterval(C)},[]),u.useEffect(()=>{const L=performance.now();let D;const j=P=>{const R=Math.min((P-L)/1200,1);f(Zo.map(B=>Math.floor(B.value*R))),R<1&&(D=requestAnimationFrame(j))};return D=requestAnimationFrame(j),()=>cancelAnimationFrame(D)},[]);const y=()=>g(C=>(C+1)%gt.length),N=()=>g(C=>(C-1+gt.length)%gt.length),k=()=>{e?m():a()},E=()=>{e?c():a()};return n.jsxs("div",{className:"min-h-screen bg-slate-950 text-white",children:[n.jsxs("header",{className:"sticky top-0 z-50 border-b border-slate-800 bg-slate-950/90 backdrop-blur-lg",children:[n.jsxs("div",{className:"mx-auto flex h-16 max-w-7xl items-center justify-between px-4 sm:px-6",children:[n.jsxs(ne,{to:"/",className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-orange-500 to-rose-600",children:n.jsx("span",{className:"text-lg font-bold text-white",children:"P"})}),n.jsxs("div",{className:"hidden sm:block",children:[n.jsx("p",{className:"text-[10px] font-medium uppercase tracking-wider text-slate-400",children:"Pomi Community Hub"}),n.jsx("p",{className:"text-sm font-semibold text-white",children:"Member access"})]})]}),n.jsx("nav",{className:"hidden items-center gap-6 md:flex",children:Ih.map(C=>n.jsx(ne,{to:C.href,className:"text-sm font-medium text-slate-400 transition-colors hover:text-white",children:C.label},C.label))}),n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[n.jsxs(W,{variant:"ghost",size:"sm",className:"gap-2 text-slate-300 hover:text-white hover:bg-slate-800",onClick:k,children:[n.jsx(cw,{className:"h-4 w-4"}),n.jsxs("span",{className:"hidden sm:inline",children:["Messages",e&&i>0?` (${i})`:""]}),e&&i>0&&n.jsx("span",{className:"ml-1 rounded-full bg-rose-500 px-1.5 text-[11px] font-semibold",children:i>9?"9+":i})]}),n.jsxs(W,{variant:"ghost",size:"sm",className:"gap-2 text-slate-300 hover:text-white hover:bg-slate-800",onClick:E,children:[n.jsx(is,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Support centre"}),e&&r>0&&n.jsx("span",{className:"ml-1 rounded-full bg-emerald-500 px-1.5 text-[11px] font-semibold",children:r>9?"9+":r})]}),n.jsxs(W,{variant:"ghost",size:"sm",className:"gap-2 text-slate-300 hover:text-white hover:bg-slate-800",onClick:d,children:[n.jsx(dr,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Calendar"})]}),e?n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"hidden text-sm text-slate-400 lg:inline",children:["Welcome, ",n.jsx("span",{className:"font-medium text-white",children:(t==null?void 0:t.username)??"Friend"})]}),n.jsx(W,{size:"sm",className:"bg-orange-500 hover:bg-orange-600 text-white",onClick:l,children:"Log out"})]}):n.jsxs(n.Fragment,{children:[n.jsx(W,{variant:"outline",size:"sm",className:"text-white border-slate-700 bg-transparent hover:bg-slate-800",onClick:a,children:"Log in"}),n.jsx(W,{size:"sm",className:"bg-orange-500 hover:bg-orange-600 text-white",onClick:o,children:"Join"})]}),n.jsx(W,{variant:"ghost",size:"sm",className:"md:hidden text-slate-300",onClick:()=>b(C=>!C),children:v?n.jsx(fx,{className:"h-5 w-5"}):n.jsx(lw,{className:"h-5 w-5"})})]})]}),v&&n.jsxs("div",{className:"md:hidden border-t border-slate-800 bg-slate-950 px-4 py-4",children:[n.jsx("nav",{className:"flex flex-col gap-2",children:Ih.map(C=>n.jsx(ne,{to:C.href,className:"px-4 py-2 text-sm font-medium text-slate-300 hover:text-white hover:bg-slate-800 rounded-lg",onClick:()=>b(!1),children:C.label},C.label))}),n.jsxs("div",{className:"mt-4 flex flex-col gap-2",children:[n.jsxs(W,{variant:"ghost",className:"justify-start text-slate-300",onClick:k,children:["Messages",e&&i>0?` (${i})`:""]}),n.jsx(W,{variant:"ghost",className:"justify-start text-slate-300",onClick:E,children:"Support centre"}),n.jsx(W,{variant:"ghost",className:"justify-start text-slate-300",onClick:d,children:"Calendar"})]})]})]}),s&&n.jsx("div",{className:"mx-auto mt-6 max-w-3xl rounded-xl border border-slate-800 bg-slate-900/70 px-6 py-3 text-center text-sm font-semibold text-slate-100 shadow-lg shadow-slate-900/40",children:s}),n.jsxs("main",{children:[n.jsxs("section",{className:"relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-500/10 via-transparent to-rose-500/10"}),n.jsx("div",{className:"mx-auto max-w-7xl px-4 py-16 sm:px-6 sm:py-24",children:n.jsxs("div",{className:"grid gap-12 lg:grid-cols-2 lg:gap-16",children:[n.jsxs("div",{className:"flex flex-col justify-center",children:[n.jsxs("div",{className:"mb-6 inline-flex w-fit items-center gap-2 rounded-full border border-slate-700 bg-slate-900/50 px-4 py-2 text-slate-400",children:[n.jsx("span",{className:"text-lg",children:""}),n.jsx("span",{className:"text-sm font-medium",children:"Habesha Community - Worldwide"})]}),n.jsx("h1",{className:"mb-6 text-4xl font-bold leading-tight tracking-tight text-white sm:text-5xl lg:text-6xl",children:"One digital home for culture, opportunity, and connection."}),n.jsx("p",{className:"mb-8 text-lg leading-relaxed text-slate-400 sm:text-xl",children:"Pomi brings together marketplace listings, cultural events, forums, faith circles, and a full business directory-designed with love for our Habesha community everywhere we live."}),n.jsxs("div",{className:"flex flex-wrap gap-4",children:[n.jsxs(W,{size:"lg",className:"gap-2 bg-orange-500 hover:bg-orange-600 text-white",onClick:()=>h("marketplace"),children:["Explore Marketplace",n.jsx(sw,{className:"h-4 w-4"})]}),n.jsx(W,{size:"lg",variant:"outline",className:"gap-2 border-slate-700 bg-transparent text-white hover:bg-slate-800",onClick:e?k:a,children:e?"Open messages":"Switch account"})]})]}),n.jsxs("div",{className:"flex flex-col gap-4",children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-slate-400",children:"Community Pulse"}),Zo.map((C,L)=>{var D;return n.jsxs("div",{className:`${C.color} rounded-xl p-5 transition-transform hover:scale-[1.02]`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(C.icon,{className:"h-5 w-5 text-white/80"}),n.jsx("span",{className:"text-sm font-medium text-white/90",children:C.label})]}),n.jsxs("p",{className:"mt-2 text-3xl font-bold text-white",children:[((D=p[L])==null?void 0:D.toLocaleString())??0,C.suffix||""]})]},C.label)}),n.jsx("p",{className:"text-xs text-slate-500",children:"Stats updated weekly based on verified engagement inside the Pomi network."})]})]})})]}),n.jsx("section",{id:"pillars",className:"border-t border-slate-800 bg-slate-900/50 py-16 sm:py-24",children:n.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6",children:n.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[n.jsxs("div",{className:"lg:col-span-1",children:[n.jsx("p",{className:"mb-3 text-xs font-semibold uppercase tracking-wider text-emerald-400",children:"Community Pillars"}),n.jsx("h2",{className:"mb-4 text-3xl font-bold tracking-tight text-white sm:text-4xl",children:"Ground every feature in culture, trust, and collaboration."}),n.jsx("p",{className:"mb-6 text-slate-400",children:"We review these pillars every sprint so product decisions stay transparent and anchored in what matters most to the community."}),n.jsxs("div",{className:"rounded-xl border border-slate-700 bg-slate-800/50 p-6 text-slate-400",children:[n.jsx("p",{className:"mb-2 text-xs font-semibold uppercase tracking-wider text-slate-400",children:"How we measure success"}),n.jsx("p",{children:"Every release is reviewed against these pillars-design warmth, trust guardrails, and end-to-end connected experiences. When something new ships, it should light up at least one pillar and never compromise the others."})]})]}),n.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:col-span-2",children:SN.map(C=>n.jsx(ne,{to:C.href,children:n.jsxs("div",{className:"h-full rounded-xl border border-slate-700 bg-slate-800/30 p-6 transition-all hover:border-slate-600 hover:bg-slate-800/50 hover:scale-[1.02] cursor-pointer",children:[n.jsx(C.icon,{className:`mb-4 h-8 w-8 ${C.color}`}),n.jsx("h3",{className:"mb-2 text-lg font-semibold text-white",children:C.title}),n.jsx("p",{className:"text-sm text-slate-400",children:C.description})]})},C.title))})]})})}),n.jsx("section",{id:"experiences",className:"border-t border-slate-800 py-16 sm:py-24",children:n.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6",children:[n.jsxs("div",{className:"mb-8 flex items-start justify-between gap-8 lg:items-center",children:[n.jsxs("div",{children:[n.jsx("p",{className:"mb-3 text-xs font-semibold uppercase tracking-wider text-emerald-400",children:"Community Pillars"}),n.jsx("h2",{className:"mb-2 text-3xl font-bold tracking-tight text-white sm:text-4xl",children:"Explore every layer of community life inside Pomi."}),n.jsx("p",{className:"text-slate-400",children:"Tap into curated experiences-from job leads and classifieds to cultural celebrations, community gatherings, and secure moderation tools."})]}),n.jsxs("div",{className:"hidden rounded-xl border border-slate-700 bg-slate-800/50 p-4 lg:block lg:max-w-xs",children:[n.jsx("p",{className:"mb-1 text-sm font-semibold text-white",children:"Pro tip"}),n.jsx("p",{className:"text-xs text-slate-400",children:"Moderators see additional tools after they sign in with the team's admin credentials. Reach out to community leadership if you need elevated access."})]})]}),n.jsxs("div",{className:`relative overflow-hidden rounded-2xl ${gt[w].color} p-8 sm:p-12 lg:p-16`,children:[n.jsxs("div",{className:"flex flex-col items-center text-center",children:[(()=>{const C=gt[w].icon;return n.jsx(C,{className:"mb-6 h-16 w-16 text-white/90"})})(),n.jsx("h3",{className:"mb-4 text-4xl font-bold text-white sm:text-5xl",children:gt[w].title}),n.jsx("p",{className:"max-w-lg text-lg text-white/90",children:gt[w].description})]}),n.jsx("button",{onClick:N,className:"absolute left-4 top-1/2 -translate-y-1/2 rounded-full bg-white/20 p-2 transition-colors hover:bg-white/30",children:n.jsx(Nd,{className:"h-6 w-6 text-white"})}),n.jsx("button",{onClick:y,className:"absolute right-4 top-1/2 -translate-y-1/2 rounded-full bg-white/20 p-2 transition-colors hover:bg-white/30",children:n.jsx(kd,{className:"h-6 w-6 text-white"})})]}),n.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[n.jsxs("p",{className:"text-sm text-slate-400",children:["Feature ",w+1," of ",gt.length]}),n.jsx("div",{className:"flex gap-2",children:gt.map((C,L)=>n.jsx("button",{onClick:()=>g(L),className:`h-2 rounded-full transition-all ${L===w?"w-6 bg-orange-500":"w-2 bg-slate-600"}`,"aria-label":`Go to feature ${gt[L].title}`},gt[L].id))})]}),n.jsxs(W,{size:"lg",className:"mt-6 w-full bg-orange-500 hover:bg-orange-600 text-white",onClick:()=>h(gt[w].id),children:["Explore ",gt[w].title]})]})}),n.jsx("section",{className:"border-t border-slate-800 bg-gradient-to-b from-slate-950 to-rose-950/20 py-16 sm:py-24",children:n.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"mb-2 text-3xl font-bold tracking-tight text-white sm:text-4xl",children:"Discover listings shared by neighbours across Ottawa"}),n.jsx("p",{className:"text-slate-400",children:"Create listings, browse essentials, and support Habesha-owned services. Posting requires a Pomi account; browsing is open to everyone."})]}),n.jsxs("div",{className:"grid gap-8 lg:grid-cols-2",children:[n.jsxs("div",{className:"relative rounded-2xl border border-orange-500/30 bg-gradient-to-br from-orange-50 to-rose-50 p-6 sm:p-8 text-slate-900",children:[n.jsxs("div",{className:"mb-6 inline-flex items-center gap-2 rounded-full bg-orange-500/10 px-3 py-1",children:[n.jsx(cc,{className:"h-4 w-4 text-orange-600"}),n.jsx("span",{className:"text-sm font-medium text-orange-700",children:"Marketplace - Powered by our community"})]}),n.jsx("h3",{className:"mb-4 text-3xl font-bold sm:text-4xl",children:"Discover trusted listings from neighbours you know."}),n.jsx("p",{className:"mb-6 text-slate-600",children:"Buy, sell, and swap within Ottawa's Ethiopian community. Find unique products, reliable services, and everyday essentials-safely and effortlessly."}),n.jsx(W,{size:"lg",className:"mb-6 w-full bg-orange-500 hover:bg-orange-600 text-white",onClick:()=>h("marketplace"),children:"+ Create listing"}),n.jsxs("div",{className:"mb-6 rounded-lg border border-orange-200 bg-orange-100/50 p-4 text-sm",children:[n.jsx("p",{className:"mb-1 font-semibold text-orange-700",children:"Pending admin review"}),n.jsx("p",{className:"text-xs text-orange-600",children:"Share your listing and the admin team will approve it before it appears in the marketplace. Check the admin portal for status."})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-slate-900",children:"8"}),n.jsx("p",{className:"text-xs text-slate-500",children:"Active Listings"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-slate-900",children:"1"}),n.jsx("p",{className:"text-xs text-slate-500",children:"New This Week"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-slate-900",children:"5"}),n.jsx("p",{className:"text-xs text-slate-500",children:"Community Sellers"})]})]})]}),n.jsxs("div",{className:"rounded-2xl border border-slate-700 bg-slate-800/50 p-6",children:[n.jsx("h4",{className:"mb-4 text-lg font-semibold text-white",children:"Trending this week"}),n.jsx("div",{className:"space-y-4",children:EN.map(C=>n.jsx(ne,{to:"/marketplace",children:n.jsxs("div",{className:"flex items-center gap-4 rounded-lg bg-slate-900/50 p-3 hover:bg-slate-900 transition-colors cursor-pointer",children:[n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-slate-700",children:n.jsx(cc,{className:"h-5 w-5 text-slate-400"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-white",children:C.name}),n.jsxs("p",{className:"text-sm text-slate-400",children:[C.price," - ",C.location]})]}),n.jsxs("div",{className:"flex items-center gap-1 text-sm text-slate-400",children:[n.jsx("span",{className:"h-2 w-2 rounded-full bg-orange-500"}),C.views]})]})},C.name))}),n.jsx(W,{variant:"outline",className:"mt-6 w-full border-slate-700 text-white hover:bg-slate-700",onClick:()=>x("/marketplace"),children:"Browse all listings"})]})]})]})}),n.jsx("section",{className:"border-t border-slate-800 py-16 sm:py-24",children:n.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6",children:n.jsxs("div",{className:"grid gap-8 lg:grid-cols-2",children:[n.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6",children:[n.jsx("p",{className:"mb-1 text-xs font-semibold uppercase tracking-wider text-emerald-400",children:"Business spotlight"}),n.jsx("h3",{className:"mb-4 text-3xl font-bold text-white",children:"Directory, reviews, and admin-approved highlights."}),n.jsx("p",{className:"text-slate-400",children:"Spotlight Habesha-owned businesses with profiles, contact details, and admin-approved spotlights in seconds. Verified badges help the community find and trust local services."}),n.jsx("div",{className:"mt-6 space-y-3",children:["Verified listings & hours","Community testimonials","Admin spotlights & features"].map(C=>n.jsxs("div",{className:"flex items-center gap-3 text-slate-300",children:[n.jsx(is,{className:"h-4 w-4 text-emerald-400"}),n.jsx("span",{children:C})]},C))}),n.jsx(W,{className:"mt-6 bg-emerald-500 hover:bg-emerald-600",onClick:()=>x("/business"),children:"Browse businesses"})]}),n.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6",children:[n.jsx("p",{className:"mb-1 text-xs font-semibold uppercase tracking-wider text-rose-400",children:"Forums"}),n.jsx("h3",{className:"mb-4 text-3xl font-bold text-white",children:"Threaded discussions & knowledge sharing."}),n.jsx("p",{className:"text-slate-400",children:"Ask questions, share tips, and connect with neighbours who understand your journey. Save threads for later, upvote helpful answers, and learn from community leaders."}),n.jsx(W,{className:"mt-6",onClick:()=>x("/forums"),children:"Jump into forums"})]})]})})}),n.jsx("section",{id:"testimonials",className:"border-t border-slate-800 bg-slate-950 py-16 sm:py-24",children:n.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6",children:[n.jsxs("div",{className:"mb-10 text-center",children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-emerald-400",children:"Voices"}),n.jsx("h2",{className:"mt-2 text-3xl font-bold text-white sm:text-4xl",children:'"Pomi feels like walking into a community centre-online."'}),n.jsx("p",{className:"mt-4 text-slate-400",children:"Members use Pomi to buy and sell essentials, secure new roles, launch cultural events, and mentor the next generation."})]}),n.jsx("div",{className:"grid gap-6 lg:grid-cols-3",children:CN.map(C=>n.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6",children:[n.jsxs("p",{className:"text-lg font-medium text-white/90",children:['"',C.quote,'"']}),n.jsxs("div",{className:"mt-4 text-sm text-slate-400",children:[n.jsx("p",{className:"font-semibold text-white",children:C.name}),n.jsx("p",{children:C.role})]})]},C.name))})]})}),n.jsx("section",{className:"border-t border-slate-800 py-16 sm:py-24",children:n.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6",children:n.jsx("div",{className:"overflow-hidden rounded-3xl bg-gradient-to-br from-rose-500 to-orange-500 p-8 sm:p-12 lg:p-16",children:n.jsxs("div",{className:"grid gap-8 lg:grid-cols-2 lg:gap-12",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"mb-4 inline-flex items-center gap-2 rounded-full bg-white/20 px-3 py-1",children:[n.jsx("span",{className:"text-white",children:""}),n.jsx("span",{className:"text-sm font-medium text-white",children:"Membership is free"})]}),n.jsx("h2",{className:"mb-4 text-3xl font-bold text-white sm:text-4xl",children:"Ready to unlock opportunity, culture, and community in one home?"}),n.jsx("p",{className:"text-white/90",children:"Join thousands of neighbours who already share resources, co-create events, and keep the Habesha community thriving. It takes less than two minutes to create your profile."})]}),n.jsxs("div",{className:"flex flex-col justify-center",children:[n.jsxs("div",{className:"mb-6 flex flex-wrap gap-4 text-sm text-white/80",children:[n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(is,{className:"h-4 w-4"})," Secure sign-up"]}),n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Ks,{className:"h-4 w-4"})," Moderated platform"]}),n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(lx,{className:"h-4 w-4"})," Multilingual"]})]}),n.jsx(W,{size:"lg",className:"w-full bg-white text-orange-600 hover:bg-white/90 font-semibold sm:w-auto",onClick:e?()=>h("events"):o,children:e?"Dive back into Pomi":"Create your Pomi account"})]})]})})})})]}),n.jsx("footer",{className:"border-t border-slate-800 bg-slate-950 py-12",children:n.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6",children:[n.jsxs("div",{className:"grid gap-8 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-orange-500 to-rose-600",children:n.jsx("span",{className:"text-lg font-bold text-white",children:"P"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] font-medium uppercase tracking-wider text-slate-400",children:"Pomi Community Hub"}),n.jsx("p",{className:"text-sm font-semibold text-white",children:"Community"})]})]}),n.jsx("p",{className:"text-sm text-slate-400",children:"Designed by and for the Habesha community. Proudly rooted in culture, powered by modern technology."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"mb-4 text-xs font-semibold uppercase tracking-wider text-slate-400",children:"Platform"}),n.jsx("ul",{className:"space-y-2",children:[{label:"Events",href:"/events"},{label:"Marketplace",href:"/marketplace"},{label:"Business directory",href:"/business"},{label:"Forums",href:"/forums"}].map(C=>n.jsx("li",{children:n.jsx(ne,{to:C.href,className:"text-sm text-slate-400 hover:text-white transition-colors",children:C.label})},C.label))})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"mb-4 text-xs font-semibold uppercase tracking-wider text-slate-400",children:"Resources"}),n.jsxs("ul",{className:"space-y-2 text-sm text-slate-400",children:[n.jsx("li",{children:n.jsx("button",{type:"button",onClick:c,className:"text-sm text-slate-400 hover:text-white transition-colors",children:"Support centre"})}),n.jsx("li",{children:"Guides for newcomers"}),n.jsx("li",{children:"Community standards"}),n.jsx("li",{children:"Privacy & safety"})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"mb-4 text-xs font-semibold uppercase tracking-wider text-slate-400",children:"Get in Touch"}),n.jsxs("ul",{className:"space-y-2 text-sm text-slate-400",children:[n.jsx("li",{children:"Email: support@pomi.community"}),n.jsx("li",{children:"Instagram: @pomi.community"}),n.jsx("li",{children:"Facebook: Pomi Community Network"}),n.jsx("li",{children:"LinkedIn: Pomi Community Hub"})]})]})]}),n.jsx("div",{className:"mt-12 border-t border-slate-800 pt-8 text-center",children:n.jsxs("p",{className:"text-sm text-slate-500",children:[" ",new Date().getFullYear()," Pomi Community Hub. Built by us, for us."]})})]})})]})}const PN=[{title:"Enkutatash  Ethiopian New Year",date:"Meskerem 1  September 11/12",description:"Families gather to celebrate renewal with flowers, traditional meals, and blessings for the year ahead."},{title:"Meskel  Finding of the True Cross",date:"Meskerem 17  September 27/28",description:"Communities light the Demera bonfire, sing mezmur, and honour a 1,700-year tradition of faith."},{title:"Genna  Ethiopian Christmas",date:"Tahisas 29  January 7",description:"Church processions, fasting traditions, and family feasts mark this sacred holiday."},{title:"Timket  Epiphany",date:"Tir 11  January 19",description:"Colourful processions celebrate the baptism of Christ with water blessings and spirited dancing."},{title:"Adwa Victory Day",date:"Yekatit 23  March 2",description:"Honours the Ethiopian victory over colonial forces in 1896a reminder of unity and resilience."}];function _N(){const[e,t]=u.useState(se.isAuthenticated()),[s,r]=u.useState(!1),[i,a]=u.useState("login"),[o,l]=u.useState(se.getUserData()),[c,d]=u.useState(null),[m,h]=u.useState(!1),[x,w]=u.useState(!1),[g,v]=u.useState(()=>{try{const _=localStorage.getItem("adminInboxMessages");if(_)return JSON.parse(_)}catch{return[]}return[]}),[b,p]=u.useState(()=>{try{const _=localStorage.getItem("adminInboxUnread");if(_){const U=parseInt(_,10);if(!Number.isNaN(U))return U}const M=localStorage.getItem("adminInboxMessages");if(M)return JSON.parse(M).filter(V=>!V.read&&V.sender==="admin").length}catch{return 0}return 0}),[f,y]=u.useState(0),[N,k]=u.useState(""),[E,C]=u.useState("updates"),L=pt(),D=rn(),j=_=>{d(_),window.setTimeout(()=>d(null),4e3)},P=u.useMemo(()=>[...E==="sent"?g.filter(M=>M.sender==="member"):g.filter(M=>M.sender==="admin")].sort((M,U)=>new Date(M.createdAt).getTime()-new Date(U.createdAt).getTime()),[g,E]);u.useEffect(()=>{try{localStorage.setItem("adminInboxMessages",JSON.stringify(g))}catch{}},[g]),u.useEffect(()=>{try{localStorage.setItem("adminInboxUnread",String(b))}catch{}},[b]);const R=u.useCallback(async()=>{const _=se.getToken();if(!_){v([]),p(0);return}try{const M=await fetch(`${je}/messages/admin/inbox`,{headers:{Authorization:`Bearer ${_}`}});if(!M.ok)throw new Error("Failed to load admin messages");const U=await M.json(),V=Array.isArray(U.data)?U.data:[],X=V.map(ie=>({id:ie.id||ie._id,sender:ie.isAdminMessage?"admin":"member",body:ie.content,createdAt:ie.createdAt,read:ie.isAdminMessage?!!ie.isRead:!0}));v(X);const he=V.filter(ie=>ie.isAdminMessage&&!ie.isRead).length;p(he)}catch(M){console.error("Failed to fetch admin messages:",M)}},[]);u.useEffect(()=>{var _;(_=D.state)!=null&&_.requireAuth&&(a("login"),r(!0),L(`${D.pathname}${D.search}${D.hash}`,{replace:!0}))},[D,L]),u.useEffect(()=>{if(!se.isAuthenticated()){t(!1),l(null);return}t(!0);const _=se.getUserData();_&&l(_),se.getCurrentUser().then(M=>{l(M.user)}).catch(()=>{se.removeToken(),se.clearUserData(),t(!1),l(null)})},[]),u.useEffect(()=>{x&&(v(_=>{let M=!1;const U=_.map(V=>V.sender==="admin"&&!V.read?(M=!0,{...V,read:!0}):V);return M?U:_}),b>0&&p(0))},[x,b]),u.useEffect(()=>{if(!e){y(0);return}const _=async()=>{const U=se.getToken();if(!U){y(0);return}try{const V=await fetch(`${je}/messages/unread/count`,{headers:{Authorization:`Bearer ${U}`}});if(V.ok){const X=await V.json();y(X.unreadCount||0)}}catch(V){console.error("Failed to fetch unread messages count:",V)}};_();const M=setInterval(_,3e4);return()=>clearInterval(M)},[e]);const B=_=>{L({events:"/events",marketplace:"/marketplace",business:"/business",forums:"/forums"}[_])},A=()=>{se.removeToken(),se.clearUserData(),t(!1),l(null),v([]),p(0),y(0),j("You have been logged out."),L("/")},K=()=>{if(!e){a("login"),r(!0);return}R(),w(!0)},te=async _=>{var U;if(_.preventDefault(),!N.trim()||!e){j("Please log in to send a message.");return}const M=se.getToken();if(!M){j("Please log in to send a message.");return}try{const V=await fetch(`${je}/messages/admin/reply`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify({content:N.trim()})}),X=await V.json();if(!V.ok)throw console.error("Server error:",X),new Error(X.error||"Failed to send message");const he={id:((U=X.data)==null?void 0:U._id)||`local-${Date.now()}`,sender:"member",body:N.trim(),createdAt:new Date().toISOString(),read:!0};v(ie=>[...ie,he]),k(""),j("Message sent to admin team.")}catch(V){console.error("Failed to send message to admin:",V),j(V.message||"Failed to send message. Please try again.")}},ae=_=>{se.setToken(_.token),localStorage.setItem("userData",JSON.stringify(_.user)),t(!0),l(_.user),r(!1),R(),j(`Welcome back, ${_.user.username||"Friend"}!`)};return n.jsxs(n.Fragment,{children:[n.jsx(TN,{isLoggedIn:e,currentUser:o,flashMessage:c,unreadAdminMessages:b,unreadMessagesCount:f,onLoginClick:()=>{a("login"),r(!0)},onRegisterClick:()=>{a("register"),r(!0)},onLogout:A,onAdminInboxClick:K,onCalendarClick:()=>h(!0),onMessagesClick:()=>L("/messages"),onExploreFeature:B,navigateTo:_=>L(_)}),m&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-950/70 p-4 backdrop-blur",children:n.jsxs("div",{className:"relative w-full max-w-3xl overflow-hidden rounded-3xl border border-white/10 bg-slate-900/90 p-8 shadow-[0_30px_60px_rgba(15,23,42,0.65)]",children:[n.jsx("button",{onClick:()=>h(!1),className:"absolute right-4 top-4 inline-flex h-10 w-10 items-center justify-center rounded-full bg-white text-rose-600 text-2xl font-bold shadow-lg shadow-rose-500/30 ring-2 ring-rose-100 transition hover:-translate-y-0.5","aria-label":"Close Ethiopian calendar highlights",children:""}),n.jsxs("div",{className:"space-y-5",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-rose-200",children:"Ethiopian calendar"}),n.jsx("h2",{className:"mt-2 text-3xl font-black text-white",children:"Key holidays & celebrations"}),n.jsx("p",{className:"mt-2 text-sm text-white/70",children:"Ethiopia follows a 13-month calendar that runs seven to eight years behind the Gregorian calendar. Here are the moments the Pomi community spotlights throughout the year."})]}),n.jsx("div",{className:"space-y-4",children:PN.map(_=>n.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/10 p-4 text-sm text-white/80 shadow-inner shadow-black/20",children:[n.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-white",children:_.title}),n.jsx("span",{className:"rounded-full border border-white/20 bg-white/10 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-rose-100",children:_.date})]}),n.jsx("p",{className:"mt-2 text-sm text-white/70",children:_.description})]},_.title))}),n.jsxs("div",{className:"rounded-2xl border border-white/10 bg-emerald-500/10 p-4 text-sm text-emerald-100",children:[n.jsx("p",{className:"font-semibold text-emerald-200",children:"Did you know?"}),n.jsx("p",{children:"Pagume, the 13th month, has five or six days depending on leap years. We sync community programming with both calendars so no celebration is missed."})]})]})]})}),x&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-950/70 p-4 backdrop-blur",children:n.jsxs("div",{className:"relative w-full max-w-3xl overflow-hidden rounded-3xl border border-white/10 bg-slate-900/95 p-8 shadow-[0_30px_60px_rgba(15,23,42,0.65)]",children:[n.jsx("button",{onClick:()=>w(!1),className:"absolute right-4 top-4 inline-flex h-10 w-10 items-center justify-center rounded-full bg-white text-rose-600 text-2xl font-bold shadow-lg shadow-rose-500/30 ring-2 ring-rose-100 transition hover:-translate-y-0.5","aria-label":"Close admin messages",children:""}),n.jsxs("div",{className:"space-y-5",children:[n.jsxs("header",{className:"space-y-2",children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-rose-200",children:"Admin messages"}),n.jsx("h2",{className:"text-3xl font-black text-white",children:"Community support inbox"}),n.jsx("p",{className:"text-sm text-white/70",children:"Chat with moderators, get onboarding tips, and stay up to date on policy changes. We reply within one business day."})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:()=>C("updates"),className:`rounded-full px-4 py-2 text-sm font-semibold transition ${E==="updates"?"bg-rose-500 text-white shadow-lg shadow-rose-500/30":"border border-white/20 bg-white text-slate-700 hover:border-rose-200 hover:text-rose-600"}`,children:"Admin updates"}),n.jsx("button",{onClick:()=>C("sent"),className:`rounded-full px-4 py-2 text-sm font-semibold transition ${E==="sent"?"bg-rose-500 text-white shadow-lg shadow-rose-500/30":"border border-white/20 bg-white text-slate-700 hover:border-rose-200 hover:text-rose-600"}`,children:"My messages"})]}),n.jsx("div",{className:"max-h-80 space-y-3 overflow-y-auto rounded-2xl border border-white/10 bg-white/5 p-4",children:P.length===0?n.jsx("p",{className:"text-sm text-white/60",children:E==="updates"?"No announcements yet. New admin updates will arrive here.":"You have not sent any messages yet. Use the form below to reach the admin team."}):P.map(_=>n.jsxs("div",{className:`rounded-2xl border px-4 py-3 text-sm shadow-sm transition ${_.sender==="admin"?"border-rose-200/60 bg-white text-slate-800":"border-white/12 bg-slate-900/40 text-slate-100"}`,children:[n.jsxs("div",{className:`flex items-center justify-between text-xs ${_.sender==="admin"?"text-rose-500":"text-slate-300"}`,children:[n.jsx("span",{className:"font-semibold uppercase tracking-wide",children:_.sender==="admin"?"Admin team":(o==null?void 0:o.username)||"You"}),n.jsx("span",{children:new Date(_.createdAt).toLocaleString("en-CA",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),n.jsx("p",{className:`mt-2 leading-relaxed ${_.sender==="admin"?"text-slate-700":"text-slate-100"}`,children:_.body})]},_.id))}),n.jsxs("form",{onSubmit:te,className:"space-y-3",children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/40",children:"Ask a question or share an update"}),n.jsx("textarea",{value:N,onChange:_=>k(_.target.value),className:"min-h-[120px] w-full rounded-2xl border border-slate-200 bg-white p-4 text-sm text-slate-900 placeholder:text-slate-400 focus:border-rose-400 focus:outline-none focus:ring-2 focus:ring-rose-300/30 disabled:bg-slate-200 disabled:text-slate-500 selection:bg-rose-100 selection:text-slate-900",placeholder:e?"Selam! I have a question about...":"Log in to message the admin team.",disabled:!e}),n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsx("p",{className:"text-xs text-white/50",children:e?"The admin team will respond via this inbox and email.":"You need to log in to start a conversation with the admin team."}),n.jsx("button",{type:"submit",className:"inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-red-500 via-rose-500 to-orange-500 px-5 py-2 text-sm font-semibold text-white shadow-lg shadow-rose-500/40 transition hover:-translate-y-0.5 disabled:cursor-not-allowed disabled:opacity-50",disabled:!e,children:"Send message"})]})]})]})]})}),s&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-950/70 p-4 backdrop-blur",children:n.jsxs("div",{className:"relative w-full max-w-lg overflow-hidden rounded-3xl border border-gray-200 bg-white p-8 shadow-[0_30px_60px_rgba(0,0,0,0.15)]",children:[n.jsx("button",{onClick:()=>r(!1),className:"absolute right-4 top-4 inline-flex h-10 w-10 items-center justify-center rounded-full bg-rose-50 text-rose-600 text-2xl font-bold shadow-lg shadow-rose-200 ring-2 ring-rose-100 transition hover:-translate-y-0.5","aria-label":"Close authentication modal",children:""}),n.jsx(NN,{authMode:i,onSuccess:ae,onClose:()=>r(!1),onModeChange:_=>a(_)})]})})]})}const os=Object.create(null);os.open="0";os.close="1";os.ping="2";os.pong="3";os.message="4";os.upgrade="5";os.noop="6";const oa=Object.create(null);Object.keys(os).forEach(e=>{oa[os[e]]=e});const xc={type:"error",data:"parser error"},Gx=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Qx=typeof ArrayBuffer=="function",Yx=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Pd=({type:e,data:t},s,r)=>Gx&&t instanceof Blob?s?r(t):Mh(t,r):Qx&&(t instanceof ArrayBuffer||Yx(t))?s?r(t):Mh(new Blob([t]),r):r(os[e]+(t||"")),Mh=(e,t)=>{const s=new FileReader;return s.onload=function(){const r=s.result.split(",")[1];t("b"+(r||""))},s.readAsDataURL(e)};function Fh(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let el;function RN(e,t){if(Gx&&e.data instanceof Blob)return e.data.arrayBuffer().then(Fh).then(t);if(Qx&&(e.data instanceof ArrayBuffer||Yx(e.data)))return t(Fh(e.data));Pd(e,!1,s=>{el||(el=new TextEncoder),t(el.encode(s))})}const Bh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pn=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Bh.length;e++)Pn[Bh.charCodeAt(e)]=e;const AN=e=>{let t=e.length*.75,s=e.length,r,i=0,a,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const d=new ArrayBuffer(t),m=new Uint8Array(d);for(r=0;r<s;r+=4)a=Pn[e.charCodeAt(r)],o=Pn[e.charCodeAt(r+1)],l=Pn[e.charCodeAt(r+2)],c=Pn[e.charCodeAt(r+3)],m[i++]=a<<2|o>>4,m[i++]=(o&15)<<4|l>>2,m[i++]=(l&3)<<6|c&63;return d},ON=typeof ArrayBuffer=="function",_d=(e,t)=>{if(typeof e!="string")return{type:"message",data:Xx(e,t)};const s=e.charAt(0);return s==="b"?{type:"message",data:LN(e.substring(1),t)}:oa[s]?e.length>1?{type:oa[s],data:e.substring(1)}:{type:oa[s]}:xc},LN=(e,t)=>{if(ON){const s=AN(e);return Xx(s,t)}else return{base64:!0,data:e}},Xx=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Zx="",DN=(e,t)=>{const s=e.length,r=new Array(s);let i=0;e.forEach((a,o)=>{Pd(a,!1,l=>{r[o]=l,++i===s&&t(r.join(Zx))})})},IN=(e,t)=>{const s=e.split(Zx),r=[];for(let i=0;i<s.length;i++){const a=_d(s[i],t);if(r.push(a),a.type==="error")break}return r};function MN(){return new TransformStream({transform(e,t){RN(e,s=>{const r=s.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,r)}else{i=new Uint8Array(9);const a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(s)})}})}let tl;function $i(e){return e.reduce((t,s)=>t+s.length,0)}function Ui(e,t){if(e[0].length===t)return e.shift();const s=new Uint8Array(t);let r=0;for(let i=0;i<t;i++)s[i]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),s}function FN(e,t){tl||(tl=new TextDecoder);const s=[];let r=0,i=-1,a=!1;return new TransformStream({transform(o,l){for(s.push(o);;){if(r===0){if($i(s)<1)break;const c=Ui(s,1);a=(c[0]&128)===128,i=c[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if($i(s)<2)break;const c=Ui(s,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if($i(s)<8)break;const c=Ui(s,8),d=new DataView(c.buffer,c.byteOffset,c.length),m=d.getUint32(0);if(m>Math.pow(2,21)-1){l.enqueue(xc);break}i=m*Math.pow(2,32)+d.getUint32(4),r=3}else{if($i(s)<i)break;const c=Ui(s,i);l.enqueue(_d(a?c:tl.decode(c),t)),r=0}if(i===0||i>e){l.enqueue(xc);break}}}})}const e0=4;function qe(e){if(e)return BN(e)}function BN(e){for(var t in qe.prototype)e[t]=qe.prototype[t];return e}qe.prototype.on=qe.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};qe.prototype.once=function(e,t){function s(){this.off(e,s),t.apply(this,arguments)}return s.fn=t,this.on(e,s),this};qe.prototype.off=qe.prototype.removeListener=qe.prototype.removeAllListeners=qe.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+e];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,i=0;i<s.length;i++)if(r=s[i],r===t||r.fn===t){s.splice(i,1);break}return s.length===0&&delete this._callbacks["$"+e],this};qe.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),s=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(s){s=s.slice(0);for(var r=0,i=s.length;r<i;++r)s[r].apply(this,t)}return this};qe.prototype.emitReserved=qe.prototype.emit;qe.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};qe.prototype.hasListeners=function(e){return!!this.listeners(e).length};const ho=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,s)=>s(t,0),Mt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),zN="arraybuffer";function t0(e,...t){return t.reduce((s,r)=>(e.hasOwnProperty(r)&&(s[r]=e[r]),s),{})}const $N=Mt.setTimeout,UN=Mt.clearTimeout;function mo(e,t){t.useNativeTimers?(e.setTimeoutFn=$N.bind(Mt),e.clearTimeoutFn=UN.bind(Mt)):(e.setTimeoutFn=Mt.setTimeout.bind(Mt),e.clearTimeoutFn=Mt.clearTimeout.bind(Mt))}const VN=1.33;function HN(e){return typeof e=="string"?WN(e):Math.ceil((e.byteLength||e.size)*VN)}function WN(e){let t=0,s=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?s+=1:t<2048?s+=2:t<55296||t>=57344?s+=3:(r++,s+=4);return s}function s0(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function qN(e){let t="";for(let s in e)e.hasOwnProperty(s)&&(t.length&&(t+="&"),t+=encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return t}function KN(e){let t={},s=e.split("&");for(let r=0,i=s.length;r<i;r++){let a=s[r].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}class JN extends Error{constructor(t,s,r){super(t),this.description=s,this.context=r,this.type="TransportError"}}class Rd extends qe{constructor(t){super(),this.writable=!1,mo(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,s,r){return super.emitReserved("error",new JN(t,s,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const s=_d(t,this.socket.binaryType);this.onPacket(s)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,s={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const s=qN(t);return s.length?"?"+s:""}}class GN extends Rd{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const s=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||s()})),this.writable||(r++,this.once("drain",function(){--r||s()}))}else s()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const s=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};IN(t,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,DN(t,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=s0()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(t,s)}}let r0=!1;try{r0=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const QN=r0;function YN(){}class XN extends GN{constructor(t){if(super(t),typeof location<"u"){const s=location.protocol==="https:";let r=location.port;r||(r=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,s){const r=this.request({method:"POST",data:t});r.on("success",s),r.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(s,r)=>{this.onError("xhr poll error",s,r)}),this.pollXhr=t}}class as extends qe{constructor(t,s,r){super(),this.createRequest=t,mo(this,r),this._opts=r,this._method=r.method||"GET",this._uri=s,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const s=t0(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(s);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=as.requestsCount++,as.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=YN,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete as.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}as.requestsCount=0;as.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",zh);else if(typeof addEventListener=="function"){const e="onpagehide"in Mt?"pagehide":"unload";addEventListener(e,zh,!1)}}function zh(){for(let e in as.requests)as.requests.hasOwnProperty(e)&&as.requests[e].abort()}const ZN=function(){const e=n0({xdomain:!1});return e&&e.responseType!==null}();class e1 extends XN{constructor(t){super(t);const s=t&&t.forceBase64;this.supportsBinary=ZN&&!s}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new as(n0,this.uri(),t)}}function n0(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||QN))return new XMLHttpRequest}catch{}if(!t)try{return new Mt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const i0=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class t1 extends Rd{get name(){return"websocket"}doOpen(){const t=this.uri(),s=this.opts.protocols,r=i0?{}:t0(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,s,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const r=t[s],i=s===t.length-1;Pd(r,this.supportsBinary,a=>{try{this.doWrite(r,a)}catch{}i&&ho(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=s0()),this.supportsBinary||(s.b64=1),this.createUri(t,s)}}const sl=Mt.WebSocket||Mt.MozWebSocket;class s1 extends t1{createSocket(t,s,r){return i0?new sl(t,s,r):s?new sl(t,s):new sl(t)}doWrite(t,s){this.ws.send(s)}}class r1 extends Rd{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const s=FN(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(s).getReader(),i=MN();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const a=()=>{r.read().then(({done:l,value:c})=>{l||(this.onPacket(c),a())}).catch(l=>{})};a();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const r=t[s],i=s===t.length-1;this._writer.write(r).then(()=>{i&&ho(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const n1={websocket:s1,webtransport:r1,polling:e1},i1=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,a1=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function gc(e){if(e.length>8e3)throw"URI too long";const t=e,s=e.indexOf("["),r=e.indexOf("]");s!=-1&&r!=-1&&(e=e.substring(0,s)+e.substring(s,r).replace(/:/g,";")+e.substring(r,e.length));let i=i1.exec(e||""),a={},o=14;for(;o--;)a[a1[o]]=i[o]||"";return s!=-1&&r!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=o1(a,a.path),a.queryKey=l1(a,a.query),a}function o1(e,t){const s=/\/{2,9}/g,r=t.replace(s,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function l1(e,t){const s={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,a){i&&(s[i]=a)}),s}const yc=typeof addEventListener=="function"&&typeof removeEventListener=="function",la=[];yc&&addEventListener("offline",()=>{la.forEach(e=>e())},!1);class Hs extends qe{constructor(t,s){if(super(),this.binaryType=zN,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(s=t,t=null),t){const r=gc(t);s.hostname=r.host,s.secure=r.protocol==="https"||r.protocol==="wss",s.port=r.port,r.query&&(s.query=r.query)}else s.host&&(s.hostname=gc(s.host).host);mo(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},s.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=KN(this.opts.query)),yc&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},la.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const s=Object.assign({},this.opts.query);s.EIO=e0,s.transport=t,this.id&&(s.sid=this.id);const r=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Hs.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const s=this.createTransport(t);s.open(),this.setTransport(s)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",s=>this._onClose("transport close",s))}onOpen(){this.readyState="open",Hs.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const s=new Error("server error");s.code=t.data,this._onError(s);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(s+=HN(i)),r>0&&s>this._maxPayload)return this.writeBuffer.slice(0,r);s+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,ho(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,s,r){return this._sendPacket("message",t,s,r),this}send(t,s,r){return this._sendPacket("message",t,s,r),this}_sendPacket(t,s,r,i){if(typeof s=="function"&&(i=s,s=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const a={type:t,data:s,options:r};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),t()},r=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(Hs.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),yc&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=la.indexOf(this._offlineEventListener);r!==-1&&la.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,s),this.writeBuffer=[],this._prevBufferLen=0}}}Hs.protocol=e0;class c1 extends Hs{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let s=this.createTransport(t),r=!1;Hs.priorWebsocketSuccess=!1;const i=()=>{r||(s.send([{type:"ping",data:"probe"}]),s.once("packet",h=>{if(!r)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;Hs.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(m(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const x=new Error("probe error");x.transport=s.name,this.emitReserved("upgradeError",x)}}))};function a(){r||(r=!0,m(),s.close(),s=null)}const o=h=>{const x=new Error("probe error: "+h);x.transport=s.name,a(),this.emitReserved("upgradeError",x)};function l(){o("transport closed")}function c(){o("socket closed")}function d(h){s&&h.name!==s.name&&a()}const m=()=>{s.removeListener("open",i),s.removeListener("error",o),s.removeListener("close",l),this.off("close",c),this.off("upgrading",d)};s.once("open",i),s.once("error",o),s.once("close",l),this.once("close",c),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||s.open()},200):s.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const s=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&s.push(t[r]);return s}}let d1=class extends c1{constructor(t,s={}){const r=typeof t=="object"?t:s;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>n1[i]).filter(i=>!!i)),super(t,r)}};function u1(e,t="",s){let r=e;s=s||typeof location<"u"&&location,e==null&&(e=s.protocol+"//"+s.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=s.protocol+e:e=s.host+e),/^(https?|wss?):\/\//.test(e)||(typeof s<"u"?e=s.protocol+"//"+e:e="https://"+e),r=gc(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const a=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port+t,r.href=r.protocol+"://"+a+(s&&s.port===r.port?"":":"+r.port),r}const h1=typeof ArrayBuffer=="function",m1=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,a0=Object.prototype.toString,f1=typeof Blob=="function"||typeof Blob<"u"&&a0.call(Blob)==="[object BlobConstructor]",p1=typeof File=="function"||typeof File<"u"&&a0.call(File)==="[object FileConstructor]";function Ad(e){return h1&&(e instanceof ArrayBuffer||m1(e))||f1&&e instanceof Blob||p1&&e instanceof File}function ca(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let s=0,r=e.length;s<r;s++)if(ca(e[s]))return!0;return!1}if(Ad(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return ca(e.toJSON(),!0);for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&ca(e[s]))return!0;return!1}function x1(e){const t=[],s=e.data,r=e;return r.data=bc(s,t),r.attachments=t.length,{packet:r,buffers:t}}function bc(e,t){if(!e)return e;if(Ad(e)){const s={_placeholder:!0,num:t.length};return t.push(e),s}else if(Array.isArray(e)){const s=new Array(e.length);for(let r=0;r<e.length;r++)s[r]=bc(e[r],t);return s}else if(typeof e=="object"&&!(e instanceof Date)){const s={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(s[r]=bc(e[r],t));return s}return e}function g1(e,t){return e.data=vc(e.data,t),delete e.attachments,e}function vc(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let s=0;s<e.length;s++)e[s]=vc(e[s],t);else if(typeof e=="object")for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(e[s]=vc(e[s],t));return e}const y1=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],b1=5;var pe;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(pe||(pe={}));class v1{constructor(t){this.replacer=t}encode(t){return(t.type===pe.EVENT||t.type===pe.ACK)&&ca(t)?this.encodeAsBinary({type:t.type===pe.EVENT?pe.BINARY_EVENT:pe.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let s=""+t.type;return(t.type===pe.BINARY_EVENT||t.type===pe.BINARY_ACK)&&(s+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(s+=t.nsp+","),t.id!=null&&(s+=t.id),t.data!=null&&(s+=JSON.stringify(t.data,this.replacer)),s}encodeAsBinary(t){const s=x1(t),r=this.encodeAsString(s.packet),i=s.buffers;return i.unshift(r),i}}function $h(e){return Object.prototype.toString.call(e)==="[object Object]"}class Od extends qe{constructor(t){super(),this.reviver=t}add(t){let s;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(t);const r=s.type===pe.BINARY_EVENT;r||s.type===pe.BINARY_ACK?(s.type=r?pe.EVENT:pe.ACK,this.reconstructor=new w1(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(Ad(t)||t.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(t),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let s=0;const r={type:Number(t.charAt(0))};if(pe[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===pe.BINARY_EVENT||r.type===pe.BINARY_ACK){const a=s+1;for(;t.charAt(++s)!=="-"&&s!=t.length;);const o=t.substring(a,s);if(o!=Number(o)||t.charAt(s)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(t.charAt(s+1)==="/"){const a=s+1;for(;++s&&!(t.charAt(s)===","||s===t.length););r.nsp=t.substring(a,s)}else r.nsp="/";const i=t.charAt(s+1);if(i!==""&&Number(i)==i){const a=s+1;for(;++s;){const o=t.charAt(s);if(o==null||Number(o)!=o){--s;break}if(s===t.length)break}r.id=Number(t.substring(a,s+1))}if(t.charAt(++s)){const a=this.tryParse(t.substr(s));if(Od.isPayloadValid(r.type,a))r.data=a;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,s){switch(t){case pe.CONNECT:return $h(s);case pe.DISCONNECT:return s===void 0;case pe.CONNECT_ERROR:return typeof s=="string"||$h(s);case pe.EVENT:case pe.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&y1.indexOf(s[0])===-1);case pe.ACK:case pe.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class w1{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const s=g1(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const j1=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Od,Encoder:v1,get PacketType(){return pe},protocol:b1},Symbol.toStringTag,{value:"Module"}));function Wt(e,t,s){return e.on(t,s),function(){e.off(t,s)}}const N1=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class o0 extends qe{constructor(t,s,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=s,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Wt(t,"open",this.onopen.bind(this)),Wt(t,"packet",this.onpacket.bind(this)),Wt(t,"error",this.onerror.bind(this)),Wt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...s){var r,i,a;if(N1.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(s.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const o={type:pe.EVENT,data:s};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const m=this.ids++,h=s.pop();this._registerAckCallback(m,h),o.id=m}const l=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,s){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[t]=s;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);s.call(this,new Error("operation has timed out"))},i),o=(...l)=>{this.io.clearTimeoutFn(a),s.apply(this,l)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...s){return new Promise((r,i)=>{const a=(o,l)=>o?i(o):r(l);a.withError=!0,s.push(a),this.emit(t,...s)})}_addToQueue(t){let s;typeof t[t.length-1]=="function"&&(s=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...a)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(i)):(this._queue.shift(),s&&s(null,...a)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!t||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:pe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,s),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case pe.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case pe.EVENT:case pe.BINARY_EVENT:this.onevent(t);break;case pe.ACK:case pe.BINARY_ACK:this.onack(t);break;case pe.DISCONNECT:this.ondisconnect();break;case pe.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const s=t.data||[];t.id!=null&&s.push(this.ack(t.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const r of s)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const s=this;let r=!1;return function(...i){r||(r=!0,s.packet({type:pe.ACK,id:t,data:i}))}}onack(t){const s=this.acks[t.id];typeof s=="function"&&(delete this.acks[t.id],s.withError&&t.data.unshift(null),s.apply(this,t.data))}onconnect(t,s){this.id=t,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:pe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const s=this._anyListeners;for(let r=0;r<s.length;r++)if(t===s[r])return s.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const s=this._anyOutgoingListeners;for(let r=0;r<s.length;r++)if(t===s[r])return s.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const r of s)r.apply(this,t.data)}}}function ln(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}ln.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),s=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+s:e-s}return Math.min(e,this.max)|0};ln.prototype.reset=function(){this.attempts=0};ln.prototype.setMin=function(e){this.ms=e};ln.prototype.setMax=function(e){this.max=e};ln.prototype.setJitter=function(e){this.jitter=e};class wc extends qe{constructor(t,s){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(s=t,t=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,mo(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((r=s.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new ln({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=t;const i=s.parser||j1;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var s;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(s=this.backoff)===null||s===void 0||s.setMin(t),this)}randomizationFactor(t){var s;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(s=this.backoff)===null||s===void 0||s.setJitter(t),this)}reconnectionDelayMax(t){var s;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(s=this.backoff)===null||s===void 0||s.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new d1(this.uri,this.opts);const s=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=Wt(s,"open",function(){r.onopen(),t&&t()}),a=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},o=Wt(s,"error",a);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),s.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Wt(t,"ping",this.onping.bind(this)),Wt(t,"data",this.ondata.bind(this)),Wt(t,"error",this.onerror.bind(this)),Wt(t,"close",this.onclose.bind(this)),Wt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(s){this.onclose("parse error",s)}}ondecoded(t){ho(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,s){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new o0(this,t,s),this.nsps[t]=r),r}_destroy(t){const s=Object.keys(this.nsps);for(const r of s)if(this.nsps[r].active)return;this._close()}_packet(t){const s=this.encoder.encode(t);for(let r=0;r<s.length;r++)this.engine.write(s[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,s){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},s);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const jn={};function da(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const s=u1(e,t.path||"/socket.io"),r=s.source,i=s.id,a=s.path,o=jn[i]&&a in jn[i].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return l?c=new wc(r,t):(jn[i]||(jn[i]=new wc(r,t)),c=jn[i]),s.query&&!t.query&&(t.query=s.queryKey),c.socket(s.path,t)}Object.assign(da,{Manager:wc,Socket:o0,io:da,connect:da});const k1=()=>{var r,i;const e=typeof window<"u"?window.VITE_SOCKET_URL:void 0,t=((i=(r=import.meta)==null?void 0:r.env)==null?void 0:i.VITE_SOCKET_URL)||e;return typeof t=="string"&&t.trim()?t.replace(/\/$/,""):je.replace(/\/api\/v1\/?$/,"").replace(/\/$/,"")},S1=k1();class C1{constructor(){Object.defineProperty(this,"socket",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"userId",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"listeners",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}connect(t){var r;if(!t){console.warn("Socket connection skipped: missing user ID");return}if((r=this.socket)!=null&&r.connected&&this.userId===t)return;const s=se.getToken();if(!s){console.warn("Socket connection skipped: missing auth token");return}this.userId=t,this.socket=da(S1,{reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,reconnectionAttempts:5,transports:["websocket","polling"]}),this.socket.on("connect",()=>{var i,a;console.log(" Socket connected:",(i=this.socket)==null?void 0:i.id),this.userId&&((a=this.socket)==null||a.emit("authenticate",{token:s}))}),this.socket.on("auth:success",()=>{console.log(" Socket authenticated")}),this.socket.on("auth:error",i=>{console.error(" Socket authentication failed:",i),this.disconnect()}),this.socket.on("message:receive",i=>{this.emit("message:receive",i)}),this.socket.on("typing:start",i=>{this.emit("typing:start",i)}),this.socket.on("typing:stop",i=>{this.emit("typing:stop",i)}),this.socket.on("message:sent",i=>{this.emit("message:sent",i)}),this.socket.on("user:online",i=>{this.emit("user:online",i)}),this.socket.on("user:offline",i=>{this.emit("user:offline",i)}),this.socket.on("user:presence",i=>{this.emit("user:presence",i)}),this.socket.on("connect_error",i=>{console.error(" Socket connection error:",i),this.emit("error",i)}),this.socket.on("disconnect",i=>{console.log(" Socket disconnected:",i),this.emit("disconnect",{reason:i})})}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null,this.userId=null)}sendMessage(t,s,r,i){if(!this.socket||!this.socket.connected){console.error("Socket not connected");return}this.socket.emit("message:send",{recipientId:t,content:s,listingId:r,clientMessageId:i})}startTyping(t){!this.socket||!this.socket.connected||this.socket.emit("typing:start",{recipientId:t})}stopTyping(t){!this.socket||!this.socket.connected||this.socket.emit("typing:stop",{recipientId:t})}isConnected(){var t;return((t=this.socket)==null?void 0:t.connected)??!1}on(t,s){this.listeners.has(t)||this.listeners.set(t,new Set),this.listeners.get(t).add(s)}off(t,s){this.listeners.has(t)&&this.listeners.get(t).delete(s)}emit(t,s){this.listeners.has(t)&&this.listeners.get(t).forEach(r=>{try{r(s)}catch(i){console.error(`Error in listener for ${t}:`,i)}})}getSocketId(){var t;return((t=this.socket)==null?void 0:t.id)??null}}const Le=new C1,jc=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`msg-${Date.now()}-${Math.random().toString(36).slice(2,10)}`,rl=[{id:"all",label:"All Listings",icon:"",gradient:"from-red-500 via-orange-500 to-yellow-400",description:"Browse everything new in the community"},{id:"electronics",label:"Electronics",icon:"",gradient:"from-blue-500 to-indigo-500",description:"Phones, laptops, accessories, speakers, more"},{id:"furniture",label:"Furniture",icon:"",gradient:"from-amber-500 to-orange-500",description:"Sofas, dining sets, decor, and home accents"},{id:"clothing",label:"Fashion",icon:"",gradient:"from-pink-500 to-rose-500",description:"Traditional wear, modern fits, accessories"},{id:"home",label:"Home & Kitchen",icon:"",gradient:"from-emerald-500 to-green-500",description:"Appliances, cookware, storage, essentials"},{id:"books",label:"Books & Learning",icon:"",gradient:"from-purple-500 to-indigo-500",description:"Textbooks, language guides, cultural stories"},{id:"services",label:"Services",icon:"",gradient:"from-slate-500 to-slate-600",description:"Business services, tutoring, beauty, repairs"},{id:"sports",label:"Sports & Hobbies",icon:"",gradient:"from-teal-500 to-cyan-500",description:"Equipment, games, arts & crafts"},{id:"vehicles",label:"Vehicles",icon:"",gradient:"from-zinc-500 to-zinc-600",description:"Cars, bikes, scooters, rideshare offers"},{id:"other",label:"Everything Else",icon:"",gradient:"from-fuchsia-500 to-purple-500",description:"Unique finds that dont fit a box"}],Uh=[{id:"all",label:"Any Price",hint:"Show everything",icon:"",predicate:()=>!0},{id:"budget",label:"Under $50",hint:"Great deals & household essentials",icon:"",predicate:e=>e<50},{id:"mid",label:"$50  $200",hint:"Everyday upgrades & trusted gear",icon:"",predicate:e=>e>=50&&e<=200},{id:"premium",label:"Over $200",hint:"Premium items & investment pieces",icon:"",predicate:e=>e>200}],Vh=[{id:"recent",label:"Newest first",description:"See the latest drops from neighbours"},{id:"price-low",label:"Price: Low to high",description:"Perfect when youre hunting for bargains"},{id:"price-high",label:"Price: High to low",description:"Spot premium items instantly"},{id:"popular",label:"Most loved",description:"Listings with the most views & saves"}],E1={new:"bg-emerald-100 text-emerald-800 border border-emerald-200","like-new":"bg-sky-100 text-sky-800 border border-sky-200",good:"bg-amber-100 text-amber-800 border border-amber-200",fair:"bg-rose-100 text-rose-800 border border-rose-200"};function nl(e){return new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD",maximumFractionDigits:0}).format(e)}function T1(e){return new Date(e).toLocaleDateString("en-CA",{month:"short",day:"numeric",year:"numeric"})}function Hh(e){return e?e.split(/[\s-]+/).map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "):"Used"}function Wh({images:e}){const[t,s]=u.useState(0);return u.useEffect(()=>{if(e.length<=1)return;const r=setInterval(()=>s(i=>(i+1)%e.length),5e3);return()=>clearInterval(r)},[e.length]),e.length===0?n.jsx("div",{className:"relative flex h-48 w-full items-center justify-center rounded-2xl bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 text-4xl text-gray-400",children:""}):n.jsxs("div",{className:"group relative h-48 w-full overflow-hidden rounded-2xl",children:[e.map((r,i)=>n.jsx("img",{src:r,alt:`Marketplace item ${i+1}`,className:`absolute inset-0 h-full w-full object-cover transition-all duration-500 ${i===t?"opacity-100 scale-100":"pointer-events-none opacity-0 scale-95"}`},i)),e.length>1&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"pointer-events-none absolute inset-0 bg-gradient-to-t from-black/60 via-black/10 to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100"}),n.jsx("div",{className:"absolute bottom-3 left-1/2 flex -translate-x-1/2 gap-1.5",children:e.map((r,i)=>n.jsx("button",{onClick:a=>{a.stopPropagation(),s(i)},className:`h-1.5 rounded-full transition-all ${i===t?"w-8 bg-white shadow-lg":"w-2 bg-white/40 hover:bg-white/60"}`},i))})]}),n.jsxs("div",{className:"absolute right-3 top-3 rounded-full bg-black/50 px-3 py-1 text-xs font-semibold text-white backdrop-blur-md",children:[t+1,"/",e.length]})]})}function P1({token:e,isAdmin:t=!1}){var Ze,q,Se;const[s,r]=u.useState([]),[i,a]=u.useState(!0),[o,l]=u.useState(""),[c,d]=u.useState("all"),[m,h]=u.useState(""),[x,w]=u.useState("all"),[g,v]=u.useState("recent"),[b,p]=u.useState(!1),[f,y]=u.useState([]),[N,k]=u.useState(!1),[E,C]=u.useState(null),[L,D]=u.useState(!1),[j,P]=u.useState([]),[R,B]=u.useState([]),[A,K]=u.useState([]),[te,ae]=u.useState(""),[_,M]=u.useState(""),[U,V]=u.useState(null),[X,he]=u.useState(""),[ie,He]=u.useState(!1),[me,Z]=u.useState({title:"",description:"",category:"electronics",price:"",location:"",condition:"good"}),ce=se.getUserData(),ge=(ce==null?void 0:ce._id)||(ce==null?void 0:ce.id)||(ce==null?void 0:ce.userId)||"";u.useEffect(()=>{!e||!ge||Le.connect(ge)},[e,ge]);const ze=u.useCallback(async()=>{try{a(!0);const T=await fetch(`${je}/marketplace/listings?limit=60`,{headers:e?{Authorization:`Bearer ${e}`}:void 0});if(!T.ok)throw new Error("Failed to fetch marketplace listings");const z=await T.json();r(Array.isArray(z.data)?z.data:[]),l("")}catch(T){l(T.message||"Unable to load marketplace listings right now"),r([])}finally{a(!1)}},[e]);u.useEffect(()=>{ze()},[ze]),u.useEffect(()=>{const T=localStorage.getItem("marketplace_favorites");if(T)try{y(JSON.parse(T))}catch{y([])}},[]);const cs=u.useMemo(()=>{const T={};return s.forEach(z=>{T[z.category]=(T[z.category]??0)+1}),T},[s]),Xt=u.useMemo(()=>new Set(s.map(z=>z.sellerName)).size,[s]),Ot=u.useMemo(()=>{const T=Date.now()-6048e5;return s.filter(z=>new Date(z.createdAt).getTime()>=T).length},[s]),F=u.useMemo(()=>[...s].sort((T,z)=>{var Y,ee;return z.views+(((Y=z.favorites)==null?void 0:Y.length)||0)*3-(T.views+(((ee=T.favorites)==null?void 0:ee.length)||0)*3)}).slice(0,4),[s]),Q=u.useMemo(()=>{let T=[...s];if(c!=="all"&&(T=T.filter(Y=>Y.category===c)),b&&(T=T.filter(Y=>f.includes(Y._id))),m.trim()){const Y=m.toLowerCase();T=T.filter(ee=>ee.title.toLowerCase().includes(Y)||ee.description.toLowerCase().includes(Y)||ee.location.toLowerCase().includes(Y)||ee.category.toLowerCase().includes(Y))}const z=Uh.find(Y=>Y.id===x);return z&&z.id!=="all"&&(T=T.filter(Y=>z.predicate(Y.price))),T.sort((Y,ee)=>{var ke,ve;switch(g){case"price-low":return Y.price-ee.price;case"price-high":return ee.price-Y.price;case"popular":return ee.views+(((ke=ee.favorites)==null?void 0:ke.length)||0)*3-(Y.views+(((ve=Y.favorites)==null?void 0:ve.length)||0)*3);case"recent":default:return new Date(ee.createdAt).getTime()-new Date(Y.createdAt).getTime()}}),T},[s,c,b,f,m,x,g]),I=async(T,z)=>{if(T.stopPropagation(),!e){l("Login to save listings you love");return}try{const Y=await fetch(`${je}/marketplace/listings/${z}/favorite`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});if(!Y.ok){const ke=await Y.json();throw new Error(ke.error||"Failed to update favorites")}if((await Y.json()).favorited){const ke=[...f,z];y(ke),localStorage.setItem("marketplace_favorites",JSON.stringify(ke))}else{const ke=f.filter(ve=>ve!==z);y(ke),localStorage.setItem("marketplace_favorites",JSON.stringify(ke))}await ze()}catch(Y){l(Y.message||"Unable to update favorites right now")}},J=T=>{const z=Array.from(T.target.files||[]);if(z.length+j.length>10){l("Maximum of 10 images allowed per listing");return}const Y=[];z.forEach(ee=>{if(!["image/jpeg","image/png","image/webp"].includes(ee.type)){l(`${ee.name} has an unsupported format. Use JPEG, PNG, or WebP.`);return}if(ee.size>10*1024*1024){l(`${ee.name} is larger than 10MB. Please compress and retry.`);return}Y.push(ee)}),Y.length!==0&&(P(ee=>[...ee,...Y]),Y.forEach(ee=>{const ke=new FileReader;ke.onloadend=()=>{B(ve=>[...ve,ke.result])},ke.readAsDataURL(ee)}))},re=T=>{P(z=>z.filter((Y,ee)=>ee!==T)),B(z=>z.filter((Y,ee)=>ee!==T))},Te=async()=>{if(j.length===0){l("Add at least one image to showcase your listing");return}try{D(!0);const T=new FormData;j.forEach(ee=>T.append("images",ee));const z=await fetch(`${je}/marketplace/upload`,{method:"POST",headers:{Authorization:`Bearer ${e}`},body:T});if(!z.ok){const ee=await z.json();throw new Error(ee.error||"Image upload failed")}const Y=await z.json();K(Y.images),P([]),B([]),l("")}catch(T){l(T.message||"Unable to upload images right now")}finally{D(!1)}},Pe=async T=>{if(T.preventDefault(),l(""),!e){l("Please log in to share a listing");return}if(!e){l("Please login to post a listing");return}if(!me.title||!me.description||!me.price||!me.category){l("Fill out all required fields to share your listing");return}if(me.title.trim().length<5){l("Title must be at least 5 characters");return}if(me.description.trim().length<10){l("Description must be at least 10 characters");return}const z=parseFloat(me.price);if(Number.isNaN(z)||z<0){l("Enter a valid price (numbers only)");return}try{const Y=await fetch(`${je}/marketplace/listings`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({...me,price:z,images:A})});if(!Y.ok){const ee=await Y.json();throw new Error(ee.error||"Failed to create listing")}Z({title:"",description:"",category:"electronics",price:"",location:"",condition:"good"}),K([]),P([]),B([]),k(!1),ae(t?"Listing published successfully.":"Thanks! Your listing was sent to the admin team for review."),await ze()}catch(Y){l(Y.message||"Unable to create listing right now")}},Ce=[{label:"Active listings",value:s.length,icon:""},{label:"New this week",value:Ot,icon:""},{label:"Community sellers",value:Xt,icon:""}];return n.jsxs("div",{className:"space-y-10",children:[o&&n.jsx("div",{className:"rounded-2xl border border-red-200 bg-red-50 px-6 py-4 text-red-700 shadow-sm",children:o}),te&&n.jsx("div",{className:"rounded-2xl border border-emerald-200 bg-emerald-50 px-6 py-4 text-sm font-semibold text-emerald-700 shadow-sm",children:te}),n.jsxs("section",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-red-600 via-orange-500 to-yellow-400 p-1 shadow-xl",children:[n.jsx("div",{className:"relative rounded-[26px] bg-white/95 p-10 backdrop-blur",children:n.jsxs("div",{className:"grid gap-10 lg:grid-cols-[1.4fr,1fr]",children:[n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("p",{className:"inline-flex items-center gap-2 rounded-full bg-red-100 px-4 py-1 text-sm font-semibold text-red-700 shadow",children:" Marketplace  Powered by our community"}),n.jsx("h1",{className:"mt-5 text-4xl font-black text-gray-900 md:text-5xl",children:"Discover trusted listings from neighbours you know."}),n.jsx("p",{className:"mt-4 text-lg text-gray-600 md:text-xl",children:"Buy, sell, and swap within Ottawas Ethiopian community. Find unique products, reliable services, and everyday essentialssafely and effortlessly."})]}),n.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx("input",{type:"search",value:m,onChange:T=>h(T.target.value),placeholder:"Search listings, sellers, locations",className:"w-full rounded-2xl border border-gray-200 bg-white/90 px-5 py-3 text-base shadow focus:border-red-500 focus:outline-none focus:ring-2 focus:ring-red-200"}),n.jsx("span",{className:"pointer-events-none absolute right-5 top-1/2 -translate-y-1/2 text-xl text-gray-400",children:""})]}),n.jsxs("div",{className:"flex flex-col gap-3 md:w-auto",children:[n.jsx("button",{onClick:()=>{ae(""),l(""),k(!0)},disabled:!e,className:"flex items-center justify-center gap-2 rounded-2xl bg-gradient-to-r from-red-600 via-red-500 to-orange-500 px-6 py-3 text-base font-bold text-white shadow-lg shadow-red-200 transition hover:scale-[1.02] hover:shadow-xl disabled:cursor-not-allowed disabled:opacity-60",children:n.jsx("span",{children:"+ Create listing"})}),!t&&e&&n.jsxs("div",{className:"flex flex-col gap-2 rounded-2xl border border-amber-200 bg-amber-50 px-4 py-3 text-xs text-amber-800 shadow-sm",children:[n.jsx("p",{className:"font-semibold text-amber-800",children:"Pending admin review"}),n.jsx("p",{className:"text-amber-700",children:"Share your listing and the admin team will approve it before it appears in the marketplace. Check the admin portal for status."})]})]})]}),n.jsx("div",{className:"grid gap-4 sm:grid-cols-3",children:Ce.map(T=>n.jsxs("div",{className:"flex items-center gap-3 rounded-2xl border border-white/60 bg-white/80 px-5 py-4 shadow-sm backdrop-blur transition hover:-translate-y-1 hover:shadow-lg",children:[n.jsx("span",{className:"text-2xl",children:T.icon}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:T.label}),n.jsx("p",{className:"text-2xl font-black text-gray-900",children:T.value})]})]},T.label))})]}),n.jsxs("div",{className:"flex flex-col gap-5 rounded-3xl bg-gradient-to-br from-white/90 to-white/60 p-6 shadow-inner",children:[n.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Trending this week"}),n.jsxs("div",{className:"space-y-4",children:[F.length===0&&n.jsx("p",{className:"rounded-2xl border border-gray-100 bg-white/80 px-4 py-5 text-sm text-gray-500",children:"Listings that get the most views & saves show up here. Share something to be featured!"}),F.map(T=>{var z;return n.jsxs("button",{type:"button",onClick:()=>C(T),className:"flex items-center gap-4 rounded-2xl border border-gray-100 bg-white/80 px-4 py-3 text-left shadow-sm transition hover:-translate-y-1 hover:border-red-200 hover:shadow-lg",children:[n.jsx("span",{className:"flex h-12 w-12 items-center justify-center overflow-hidden rounded-xl bg-gradient-to-br from-red-500/10 to-orange-500/10 text-xl",children:(z=T.images)!=null&&z.length?n.jsx("img",{src:T.images[0],alt:T.title,className:"h-full w-full object-cover"}):""}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"line-clamp-1 text-sm font-semibold text-gray-900",children:T.title}),n.jsxs("p",{className:"text-xs text-gray-500",children:[nl(T.price),"  ",T.location]})]}),n.jsxs("span",{className:"text-xs font-semibold text-gray-500",children:[" ",T.views]})]},T._id)})]})]})]})}),n.jsx("div",{className:"pointer-events-none absolute -right-32 -top-32 h-72 w-72 rounded-full bg-white/20 blur-3xl"}),n.jsx("div",{className:"pointer-events-none absolute -bottom-20 -left-20 h-64 w-64 rounded-full bg-red-300/30 blur-3xl"})]}),n.jsxs("div",{className:"flex flex-col gap-8 lg:flex-row",children:[n.jsx("aside",{className:"lg:w-80",children:n.jsxs("div",{className:"sticky top-4 space-y-8 rounded-3xl border border-gray-100 bg-white/90 p-6 shadow-xl shadow-red-50/50 backdrop-blur",children:[n.jsx("div",{className:"rounded-3xl border border-rose-100 bg-rose-50/80 p-4 shadow-inner shadow-rose-100/60",children:n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-rose-800",children:"Favorites spotlight"}),n.jsx("p",{className:"text-xs text-rose-600",children:"Jump back to saved listings instantly."})]}),n.jsx("button",{onClick:()=>p(T=>!T),className:`rounded-full px-3 py-2 text-xs font-semibold transition ${b?"bg-rose-600 text-white shadow-lg shadow-rose-200":"border border-rose-200 bg-white text-rose-600 hover:bg-rose-50"}`,children:b?" On":" Off"})]})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Browse by category"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Tap a category to filter listings. Counts update live."}),n.jsx("div",{className:"mt-4 space-y-3",children:rl.map(T=>{const z=c===T.id,Y=T.id==="all"?s.length:cs[T.id]??0;return n.jsxs("button",{onClick:()=>d(T.id),className:`flex w-full items-center gap-4 rounded-2xl border px-4 py-3 text-left transition ${z?`border-transparent bg-gradient-to-r ${T.gradient} text-white shadow-[0_18px_45px_rgba(196,30,58,0.25)] ring-2 ring-white/40`:"border-gray-200 bg-white hover:border-red-200 hover:shadow-md"}`,children:[n.jsx("span",{className:"text-xl",children:T.icon}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm font-semibold ${z?"text-white":"text-gray-900"}`,children:T.label}),n.jsx("p",{className:`text-xs ${z?"text-white/80":"text-gray-500"}`,children:T.description})]}),n.jsx("span",{className:`inline-flex h-8 min-w-[2.5rem] items-center justify-center rounded-full px-2 text-xs font-semibold ${z?"bg-white/20 text-white":"bg-gray-100 text-gray-600"}`,children:Y})]},T.id)})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Quick filters"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-400",children:"Price range"}),Uh.map(T=>{const z=T.id===x;return n.jsxs("button",{onClick:()=>w(T.id),className:`flex w-full items-center gap-3 rounded-2xl border px-4 py-3 text-left transition ${z?"border-red-200 bg-red-50 text-red-600":"border-gray-200 bg-white text-gray-600 hover:border-red-200 hover:bg-red-50/40"}`,children:[n.jsx("span",{className:"text-lg",children:T.icon}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold",children:T.label}),n.jsx("p",{className:"text-xs text-gray-500",children:T.hint})]})]},T.id)})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-400",children:"Sort listings"}),n.jsx("select",{value:g,onChange:T=>v(T.target.value),className:"w-full rounded-2xl border border-gray-200 bg-white px-4 py-3 text-sm font-semibold text-gray-600 shadow focus:border-red-400 focus:ring-2 focus:ring-red-100",children:Vh.map(T=>n.jsx("option",{value:T.id,children:T.label},T.id))}),n.jsx("p",{className:"text-xs text-gray-400",children:(Ze=Vh.find(T=>T.id===g))==null?void 0:Ze.description})]})]})]})}),n.jsxs("main",{className:"flex-1 space-y-8",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-black text-gray-900",children:c==="all"?"All community listings":(q=rl.find(T=>T.id===c))==null?void 0:q.label}),n.jsxs("p",{className:"text-sm text-gray-500",children:[Q.length," ",Q.length===1?"result":"results"," "," ",b?"Favorites filtered view":"Scroll to explore whats new"]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsx("button",{onClick:ze,className:"inline-flex items-center gap-2 rounded-2xl border border-gray-200 bg-white px-4 py-2 text-sm font-semibold text-gray-600 shadow hover:border-red-200 hover:text-red-600 hover:shadow-md",children:" Refresh feed"}),!b&&f.length>0&&n.jsxs("button",{onClick:()=>{d("all"),p(!0)},className:"inline-flex items-center gap-2 rounded-2xl bg-red-50 px-4 py-2 text-sm font-semibold text-red-600 shadow",children:[" ",f.length," saved"]})]})]}),i?n.jsx("div",{className:"grid gap-6 sm:grid-cols-2 xl:grid-cols-3",children:Array.from({length:6}).map((T,z)=>n.jsxs("div",{className:"animate-pulse space-y-4 rounded-3xl border border-gray-100 bg-white p-6 shadow-sm",children:[n.jsx("div",{className:"h-40 w-full rounded-2xl bg-gray-200"}),n.jsx("div",{className:"h-6 w-3/4 rounded-full bg-gray-200"}),n.jsx("div",{className:"h-4 w-1/2 rounded-full bg-gray-200"}),n.jsx("div",{className:"h-4 w-full rounded-full bg-gray-100"})]},z))}):Q.length===0?n.jsxs("div",{className:"rounded-3xl border border-gray-100 bg-white p-10 text-center shadow-sm",children:[n.jsx("div",{className:"mx-auto flex h-20 w-20 items-center justify-center rounded-full bg-red-50 text-3xl",children:""}),n.jsx("h3",{className:"mt-4 text-xl font-bold text-gray-900",children:"No listings found"}),n.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Try adjusting your filters or clear the search term to see more items."}),n.jsx("button",{onClick:()=>{d("all"),p(!1),w("all"),h(""),v("recent")},className:"mt-4 rounded-2xl border border-gray-200 bg-white px-4 py-2 text-sm font-semibold text-gray-600 shadow hover:border-red-200 hover:text-red-600",children:"Reset filters"})]}):n.jsx("div",{className:"grid gap-6 sm:grid-cols-2 xl:grid-cols-3",children:Q.map(T=>{const z=f.includes(T._id),Y=E1[T.condition||""]||"border border-gray-200 bg-gray-100 text-gray-700";return`${T.sellerName.replace(/\s+/g,".").toLowerCase()}`,n.jsxs("article",{onClick:()=>C(T),className:"group relative flex cursor-pointer flex-col overflow-hidden rounded-3xl border border-gray-100 bg-white shadow-sm transition hover:-translate-y-2 hover:shadow-2xl",children:[n.jsx(Wh,{images:T.images||[]}),n.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-6",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-red-50 px-3 py-1 text-xs font-semibold text-red-600",children:[" ",T.location]}),n.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-gray-100 px-2.5 py-1 text-xs font-semibold text-gray-500",children:[" ",T.views]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"line-clamp-2 text-lg font-bold text-gray-900 transition group-hover:text-red-600",children:T.title}),n.jsx("p",{className:"mt-1 text-sm text-gray-500 line-clamp-2",children:T.description})]}),n.jsx("p",{className:"bg-gradient-to-r from-red-600 via-orange-500 to-yellow-500 bg-clip-text text-3xl font-black text-transparent",children:nl(T.price)}),n.jsx("span",{className:"inline-flex items-center gap-1 text-xs font-semibold uppercase tracking-wide text-emerald-600",children:" Admin approved"}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-gray-400",children:"Seller"}),n.jsx("span",{className:"font-semibold text-gray-800",children:T.sellerName})]}),n.jsx("span",{className:`inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-semibold ${Y}`,children:Hh(T.condition)})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx("button",{type:"button",onClick:ee=>I(ee,T._id),className:`flex w-full items-center justify-center gap-2 rounded-2xl border px-4 py-2 text-sm font-semibold transition ${z?"border-red-200 bg-red-50 text-red-600 shadow-inner":"border-gray-200 bg-white text-gray-600 hover:border-red-200 hover:text-red-600"}`,children:z?" Saved":" Save to favorites"}),n.jsx("button",{type:"button",onClick:ee=>{if(ee.stopPropagation(),!e){l("Please log in to message sellers");return}V(T),he(""),M("")},className:"flex w-full items-center justify-center gap-2 rounded-2xl border border-gray-200 bg-white px-4 py-2 text-sm font-semibold text-gray-600 transition hover:border-red-200 hover:text-red-600",children:" Message seller"})]})]}),n.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-3xl opacity-0 transition group-hover:opacity-100 group-hover:shadow-[inset_0_0_40px_rgba(196,30,58,0.15)]"})]},T._id)})})]})]}),e&&N&&n.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/50 backdrop-blur-md p-4",children:n.jsxs("div",{className:"relative w-full max-w-3xl overflow-hidden rounded-3xl border border-red-100 bg-white shadow-2xl",children:[n.jsx("button",{onClick:()=>{k(!1),ae(""),l("")},className:"absolute right-4 top-4 rounded-full bg-red-500 hover:bg-red-600 px-3 py-1 text-lg text-white font-bold transition shadow-lg shadow-red-500/50 ring-2 ring-red-200","aria-label":"Close create listing form",children:""}),n.jsxs("form",{onSubmit:Pe,className:"max-h-[85vh] overflow-y-auto p-8",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"text-2xl font-black text-gray-900",children:"Share something with the community"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Great photos and clear details help your listing shine. Upload images and describe the item so neighbours know exactly what to expect."})]}),n.jsxs("div",{className:"mt-6 grid gap-5 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Title *"}),n.jsx("input",{type:"text",value:me.title,onChange:T=>Z(z=>({...z,title:T.target.value})),className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-3 text-sm shadow-inner focus:border-red-400 focus:outline-none focus:ring-2 focus:ring-red-100",placeholder:"Eg. Traditional coffee set, like new",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Description *"}),n.jsx("textarea",{value:me.description,onChange:T=>Z(z=>({...z,description:T.target.value})),rows:5,className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-3 text-sm shadow-inner focus:border-red-400 focus:outline-none focus:ring-2 focus:ring-red-100",placeholder:"Describe condition, why youre selling, whats included",required:!0})]}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Category *"}),n.jsx("select",{value:me.category,onChange:T=>Z(z=>({...z,category:T.target.value})),className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-3 text-sm shadow-inner focus:border-red-400 focus:outline-none focus:ring-2 focus:ring-red-100",children:rl.filter(T=>T.id!=="all").map(T=>n.jsx("option",{value:T.id,children:T.label},T.id))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Condition"}),n.jsxs("select",{value:me.condition,onChange:T=>Z(z=>({...z,condition:T.target.value})),className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-3 text-sm shadow-inner focus:border-red-400 focus:outline-none focus:ring-2 focus:ring-red-100",children:[n.jsx("option",{value:"new",children:"Brand new"}),n.jsx("option",{value:"like-new",children:"Like new"}),n.jsx("option",{value:"good",children:"Good"}),n.jsx("option",{value:"fair",children:"Needs some love"})]})]})]}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Price (CAD) *"}),n.jsx("input",{type:"number",min:"0",step:"0.01",value:me.price,onChange:T=>Z(z=>({...z,price:T.target.value})),className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-3 text-sm shadow-inner focus:border-red-400 focus:outline-none focus:ring-2 focus:ring-red-100",placeholder:"Eg. 75",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Location"}),n.jsx("input",{type:"text",value:me.location,onChange:T=>Z(z=>({...z,location:T.target.value})),className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-3 text-sm shadow-inner focus:border-red-400 focus:outline-none focus:ring-2 focus:ring-red-100",placeholder:"Eg. Kanata, Downtown Ottawa (optional)"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Photo gallery"}),n.jsxs("div",{className:"rounded-3xl border-2 border-dashed border-gray-200 bg-gray-50/70 p-6 text-center",children:[n.jsx("input",{id:"listing-images",type:"file",accept:"image/jpeg,image/png,image/webp",multiple:!0,hidden:!0,onChange:J}),n.jsxs("label",{htmlFor:"listing-images",className:"flex cursor-pointer flex-col items-center gap-2 text-sm text-gray-600",children:[n.jsx("span",{className:"text-3xl",children:""}),n.jsx("span",{className:"font-semibold text-gray-700",children:"Add photos"}),n.jsx("span",{className:"text-xs text-gray-500",children:"JPEG, PNG, WebP (max 10 images  10MB each)"})]}),R.length>0&&n.jsx("div",{className:"mt-4 grid grid-cols-3 gap-3",children:R.map((T,z)=>n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:T,alt:`Preview ${z+1}`,className:"h-24 w-full rounded-2xl object-cover"}),n.jsx("button",{type:"button",onClick:()=>re(z),className:"absolute right-1 top-1 rounded-full bg-black/60 px-2 text-xs text-white",children:""})]},z))}),n.jsx("button",{type:"button",onClick:Te,disabled:j.length===0||L,className:"mt-4 inline-flex items-center justify-center gap-2 rounded-2xl bg-gradient-to-r from-red-600 to-orange-500 px-4 py-2 text-sm font-semibold text-white shadow disabled:cursor-not-allowed disabled:opacity-60",children:L?"Uploading":"Upload selected images"}),A.length>0&&n.jsxs("p",{className:"mt-3 text-xs font-semibold text-emerald-600",children:[" ",A.length," image",A.length>1&&"s"," ready to publish"]})]})]})]}),n.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-3",children:[n.jsx("button",{type:"button",onClick:()=>{k(!1),ae(""),l("")},className:"rounded-2xl border border-gray-200 bg-white px-5 py-2.5 text-sm font-semibold text-gray-600 hover:border-red-200 hover:text-red-600",children:"Cancel"}),n.jsx("button",{type:"submit",className:"rounded-2xl bg-gradient-to-r from-red-600 via-red-500 to-orange-500 px-6 py-3 text-sm font-semibold text-white shadow-lg shadow-red-200 hover:scale-[1.01] hover:shadow-xl",children:"Publish listing"})]})]})]})}),E&&n.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/60 p-4",children:n.jsxs("div",{className:"relative grid w-full max-w-4xl gap-6 rounded-3xl border border-red-100 bg-white/95 p-8 shadow-2xl backdrop-blur-lg md:grid-cols-[1.4fr,1fr]",children:[n.jsx("button",{onClick:()=>C(null),className:"absolute right-4 top-4 rounded-full bg-red-500 hover:bg-red-600 px-3 py-1 text-lg text-white font-bold transition shadow-lg shadow-red-500/50 ring-2 ring-red-200","aria-label":"Close listing detail",children:""}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(Wh,{images:E.images||[]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"text-3xl font-black text-gray-900",children:E.title}),n.jsx("p",{className:"text-lg text-gray-600",children:E.description}),n.jsxs("div",{className:"flex flex-wrap gap-2 text-sm text-gray-500",children:[n.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-gray-100 px-3 py-1 font-semibold text-gray-600",children:[" ",E.location]}),n.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-gray-100 px-3 py-1 font-semibold text-gray-600 capitalize",children:[" ",E.category]}),n.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-gray-100 px-3 py-1 font-semibold text-gray-600",children:[" Posted ",T1(E.createdAt)]})]})]})]}),n.jsxs("div",{className:"flex flex-col gap-6 rounded-3xl bg-white/80 p-6 shadow-inner",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-400",children:"Price"}),n.jsx("p",{className:"mt-1 bg-gradient-to-r from-red-600 via-orange-500 to-yellow-500 bg-clip-text text-4xl font-black text-transparent",children:nl(E.price)}),n.jsx("span",{className:"mt-2 inline-flex items-center gap-2 rounded-full bg-emerald-50 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-emerald-700",children:" Verified by moderators"})]}),n.jsxs("div",{className:"grid gap-4",children:[n.jsxs("div",{className:"rounded-2xl border border-gray-100 bg-white px-4 py-3",children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-400",children:"Seller"}),n.jsx("p",{className:"mt-1 text-base font-semibold text-gray-800",children:E.sellerName}),n.jsxs("p",{className:"text-xs text-gray-500",children:[" ",E.views," views "," ",((Se=E.favorites)==null?void 0:Se.length)||0," saves"]})]}),n.jsxs("div",{className:"rounded-2xl border border-gray-100 bg-white px-4 py-3",children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-400",children:"Condition"}),n.jsx("p",{className:"mt-1 inline-flex items-center gap-2 rounded-full border border-gray-200 bg-gray-100 px-3 py-1 text-sm font-semibold text-gray-700",children:Hh(E.condition)})]})]}),n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsx("button",{onClick:T=>I(T,E._id),className:`flex items-center justify-center gap-2 rounded-2xl px-4 py-3 text-sm font-semibold transition ${f.includes(E._id)?"bg-red-600 text-white shadow-lg shadow-red-200 hover:bg-red-700":"border border-red-200 bg-red-50 text-red-600 hover:bg-red-100"}`,children:f.includes(E._id)?" Saved to favorites":" Save listing"}),n.jsx("button",{onClick:()=>{if(!e){l("Please log in to message sellers");return}V(E),he(""),M("")},className:"flex items-center justify-center gap-2 rounded-2xl border border-gray-200 bg-white px-4 py-3 text-sm font-semibold text-gray-600 transition hover:border-red-200 hover:text-red-600",children:" Message seller"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Every message is monitored for safety. Report concerns to support@pomi.community so the admin team can step in."})]})]})]})}),U&&e&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-md p-4",children:n.jsxs("div",{className:"relative w-full max-w-md rounded-3xl border border-red-100 bg-white shadow-2xl",children:[n.jsx("button",{onClick:()=>{V(null),he(""),M("")},className:"absolute right-4 top-4 rounded-full bg-red-500 hover:bg-red-600 px-3 py-1 text-lg text-white font-bold transition shadow-lg shadow-red-500/50 ring-2 ring-red-200","aria-label":"Close messaging",children:""}),n.jsxs("div",{className:"space-y-4 border-b border-gray-100 p-6",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Message seller"}),n.jsxs("div",{className:"flex items-start gap-3 rounded-2xl bg-gray-50 p-4",children:[n.jsx("span",{className:"text-3xl",children:""}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-800",children:U.sellerName}),n.jsxs("p",{className:"text-xs text-gray-500 line-clamp-1",children:["Selling: ",U.title]})]})]})]}),n.jsxs("form",{onSubmit:async T=>{var z,Y;if(T.preventDefault(),!X.trim()||!U){l("Please write a message");return}He(!0),l("");try{const ke=await(await fetch(`${je}/marketplace/listings/${U._id}`,{headers:e?{Authorization:`Bearer ${e}`}:void 0})).json(),ve=((z=ke.data.sellerId)==null?void 0:z._id)||((Y=ke.data.sellerId)==null?void 0:Y.id);if(!ve)throw new Error("Unable to contact the seller right now");const Lt=X.trim(),ks=jc();if(!!(ge&&Le.isConnected()))Le.sendMessage(ve,Lt,U._id,ks);else if(!(await fetch(`${je}/messages`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({recipientId:ve,content:Lt,listingId:U._id,clientMessageId:ks})})).ok)throw new Error("Failed to send message");M(`Message sent to ${U.sellerName}! They'll get back to you soon. `),he(""),setTimeout(()=>M(""),4e3)}catch(ee){l(ee.message||"Failed to send message")}finally{He(!1)}},className:"space-y-4 p-6",children:[_&&n.jsx("div",{className:"rounded-2xl border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm font-semibold text-emerald-700 shadow-sm",children:_}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Your message"}),n.jsx("textarea",{value:X,onChange:T=>he(T.target.value),placeholder:"Hi! I'm interested in this item. Is it still available?...",className:"mt-2 w-full rounded-2xl border border-gray-200 px-4 py-3 text-sm shadow-inner focus:border-red-400 focus:outline-none focus:ring-2 focus:ring-red-100",rows:4,disabled:ie})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"button",onClick:()=>{V(null),he(""),M("")},className:"flex-1 rounded-2xl border border-gray-200 bg-white px-4 py-2.5 text-sm font-semibold text-gray-600 transition hover:border-red-200 hover:text-red-600",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:ie||!X.trim(),className:"flex-1 rounded-2xl bg-gradient-to-r from-red-600 to-orange-500 px-4 py-2.5 text-sm font-semibold text-white shadow-lg shadow-red-200 transition hover:scale-[1.01] disabled:cursor-not-allowed disabled:opacity-60",children:ie?"Sending...":"Send message"})]}),n.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Messages are monitored for safety. The seller will receive your contact info."})]})]})})]})}function _1(){var a;const e=se.getToken()||"",t=!!((a=se.getUserData())!=null&&a.isAdmin),s=pt(),[r,i]=u.useState(0);return u.useEffect(()=>{t&&s("/admin",{replace:!0})},[t,s]),u.useEffect(()=>{const o=localStorage.getItem("marketplace_favorites");if(o)try{const l=JSON.parse(o);i(Array.isArray(l)?l.length:0)}catch{i(0)}},[]),n.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100",children:[n.jsx("header",{className:"sticky top-0 z-40 border-b border-slate-800 bg-slate-950/85 backdrop-blur",children:n.jsxs("div",{className:"mx-auto flex h-16 max-w-7xl items-center justify-between px-4 sm:px-6",children:[n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs(ne,{to:"/",className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-orange-500 to-rose-600 hover:scale-[1.02] transition",children:n.jsx("span",{className:"text-lg font-bold text-white",children:"P"})}),n.jsxs("div",{className:"hidden sm:block",children:[n.jsx("p",{className:"text-[10px] font-medium uppercase tracking-wider text-slate-400",children:"Pomi"}),n.jsx("p",{className:"text-sm font-semibold text-white",children:"Marketplace"})]})]})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ne,{to:"/messages",children:n.jsxs(W,{variant:"ghost",size:"sm",className:"gap-2 text-slate-300 hover:text-white hover:bg-slate-800",children:[n.jsx(Ks,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Messages"})]})}),r>0&&n.jsxs(W,{variant:"ghost",size:"sm",className:"gap-2 text-slate-300 hover:text-white hover:bg-slate-800",children:[n.jsx(yr,{className:"h-4 w-4"}),n.jsxs("span",{className:"hidden sm:inline",children:[r," saved"]})]}),e&&n.jsx(ne,{to:"/marketplace/new",children:n.jsxs(W,{size:"sm",className:"gap-2 bg-orange-500 hover:bg-orange-600 text-white",children:[n.jsx(dx,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"New Listing"})]})})]})]})}),n.jsxs("main",{className:"mx-auto max-w-7xl px-4 py-8 sm:px-6",children:[n.jsxs("div",{className:"mb-8 space-y-3",children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-emerald-300",children:"Community marketplace"}),n.jsx("h1",{className:"text-3xl font-bold text-white",children:"Discover trusted listings from neighbours"}),n.jsx("p",{className:"text-slate-400 max-w-2xl",children:"Buy, sell, and swap within Ottawa's Habesha community. Find unique products, reliable services, and everyday essentials."})]}),n.jsx("div",{className:"overflow-hidden rounded-2xl border border-slate-800 bg-slate-900/60 p-4 text-gray-900",children:n.jsx(P1,{token:e,isAdmin:t})})]})]})}function fo({className:e,...t}){return n.jsx("textarea",{"data-slot":"textarea",className:ls("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}function R1(){var C,L;const e=ro();pt();const t=se.getToken(),[s,r]=u.useState(null),[i,a]=u.useState(!0),[o,l]=u.useState(null),[c,d]=u.useState(!1),[m,h]=u.useState(0),[x,w]=u.useState(!1),[g,v]=u.useState({rating:5,comment:""}),[b,p]=u.useState(!1);u.useEffect(()=>{(async()=>{if(e!=null&&e.id){a(!0),l(null);try{const j=await fetch(`${je}/marketplace/listings/${e.id}`,{headers:t?{Authorization:`Bearer ${t}`}:void 0});if(!j.ok)throw new Error("Failed to load listing");const P=await j.json();r(P.data);const R=localStorage.getItem("marketplace_favorites");if(R){const B=JSON.parse(R);d(B.includes(e.id))}}catch(j){console.error(j),l("We could not load this listing right now.")}finally{a(!1)}}})()},[e==null?void 0:e.id,t]);const f=async()=>{if(!s||!t){l("Please sign in to save listings");return}try{const D=await fetch(`${je}/marketplace/listings/${s._id}/favorite`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(!D.ok)throw new Error("Failed to update favorites");const j=await D.json();d(j.favorited);const P=localStorage.getItem("marketplace_favorites"),R=P?JSON.parse(P):[];if(j.favorited)R.push(s._id);else{const B=R.indexOf(s._id);B>-1&&R.splice(B,1)}localStorage.setItem("marketplace_favorites",JSON.stringify(R))}catch(D){l(D.message||"Unable to update favorites")}},y=async()=>{if(!(!s||!g.comment.trim()||!t)){if(!x){l("Please confirm the transaction before submitting a review");return}p(!0);try{v({rating:5,comment:""}),w(!1)}catch(D){l(D.message||"Failed to submit review")}finally{p(!1)}}},N=D=>new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD",maximumFractionDigits:0}).format(D),k=D=>new Date(D).toLocaleDateString("en-CA",{month:"short",day:"numeric",year:"numeric"});if(i)return n.jsx("div",{className:"min-h-screen bg-slate-950 text-white flex items-center justify-center",children:n.jsx("p",{className:"text-slate-400 animate-pulse",children:"Loading listing..."})});if(o||!s)return n.jsx("div",{className:"min-h-screen bg-slate-950 text-white flex items-center justify-center",children:n.jsxs("div",{className:"text-center space-y-3",children:[n.jsx("p",{className:"text-lg font-semibold text-white",children:"Listing unavailable"}),n.jsx("p",{className:"text-slate-400 text-sm",children:o||"This listing was removed or never existed."}),n.jsx(ne,{to:"/marketplace",children:n.jsx(W,{className:"bg-orange-500 hover:bg-orange-600 text-white",children:"Back to marketplace"})})]})});const E=((C=s.images)==null?void 0:C.length)>0?s.images:["/placeholder.svg"];return n.jsxs("div",{className:"min-h-screen bg-slate-950 text-white",children:[n.jsx("header",{className:"sticky top-0 z-50 border-b border-slate-800 bg-slate-950/90 backdrop-blur-lg",children:n.jsxs("div",{className:"mx-auto flex h-16 max-w-7xl items-center justify-between px-4 sm:px-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(ne,{to:"/marketplace",children:n.jsxs(W,{variant:"ghost",size:"sm",className:"gap-2 text-slate-300 hover:text-white hover:bg-slate-800",children:[n.jsx(js,{className:"h-4 w-4"}),"Back to Marketplace"]})}),n.jsxs(ne,{to:"/",className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-orange-500 to-rose-600 hover:scale-[1.02] transition",children:n.jsx("span",{className:"text-lg font-bold text-white",children:"P"})}),n.jsxs("div",{className:"hidden sm:block",children:[n.jsx("p",{className:"text-[10px] font-medium uppercase tracking-wider text-slate-400",children:"POMI"}),n.jsx("p",{className:"text-sm font-semibold text-white",children:"Marketplace"})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(W,{variant:"ghost",size:"sm",onClick:f,className:"gap-2 text-slate-300 hover:text-white hover:bg-slate-800",children:[n.jsx(yr,{className:`h-4 w-4 ${c?"fill-rose-500 text-rose-500":""}`}),"Save"]}),n.jsxs(W,{variant:"ghost",size:"sm",className:"gap-2 text-slate-300 hover:text-white hover:bg-slate-800",children:[n.jsx(ar,{className:"h-4 w-4"}),"Share"]})]})]})}),n.jsx("main",{className:"mx-auto max-w-7xl px-4 py-8 sm:px-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{children:[n.jsx("div",{className:"rounded-xl overflow-hidden mb-4 border border-slate-800",children:n.jsx("img",{src:E[m]||"/placeholder.svg",alt:s.title,className:"w-full h-96 object-cover"})}),E.length>1&&n.jsx("div",{className:"flex gap-3",children:E.map((D,j)=>n.jsx("button",{onClick:()=>h(j),className:`rounded-lg overflow-hidden border-2 transition-all ${m===j?"border-orange-500 scale-105":"border-transparent"}`,children:n.jsx("img",{src:D||"/placeholder.svg",alt:"",className:"w-20 h-20 object-cover"})},j))})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[n.jsxs("div",{children:[s.status==="pending"&&n.jsx("span",{className:"inline-block px-2 py-1 bg-amber-500 text-white text-xs font-medium rounded mb-3",children:"Pending admin review"}),n.jsx("h1",{className:"text-3xl font-bold text-white",children:s.title})]}),n.jsx("p",{className:"text-3xl font-bold text-orange-400",children:N(s.price)})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-slate-400 mb-6",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(oi,{className:"h-4 w-4"})," ",s.location||"Ottawa"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Ma,{className:"h-4 w-4"})," ",k(s.createdAt)]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(aw,{className:"h-4 w-4"})," ",s.views," views"]})]}),n.jsxs("div",{className:"border-t border-slate-800 pt-6 mb-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-white mb-3",children:"Description"}),n.jsx("p",{className:"text-slate-400 leading-relaxed",children:s.description||"No description provided."})]}),n.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-900/50 p-6 mb-6",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-slate-700 flex items-center justify-center",children:n.jsx("span",{className:"text-lg font-semibold",children:((L=s.sellerName)==null?void 0:L.charAt(0))||"S"})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-semibold text-white",children:s.sellerName||"Seller"}),n.jsx(is,{className:"h-4 w-4 text-emerald-400"})]}),n.jsx("p",{className:"text-sm text-slate-400",children:"Verified community member"})]})]}),n.jsx("div",{className:"flex gap-6 text-sm",children:n.jsx("span",{className:"text-slate-400",children:"Secure payments coming soon"})})]}),n.jsxs("div",{className:"flex gap-4 mb-6",children:[n.jsx(ne,{to:`/messages?user=${encodeURIComponent(s.sellerName||"Seller")}&message=${encodeURIComponent(`Hi ${s.sellerName||"there"}, I'm interested in your ${s.title}. Is it still available?`)}`,className:"flex-1",children:n.jsxs(W,{size:"lg",className:"w-full gap-2 bg-orange-500 hover:bg-orange-600 text-white",children:[n.jsx(Ks,{className:"h-4 w-4"}),"Contact Seller"]})}),n.jsx(W,{size:"lg",variant:"outline",onClick:f,className:"border-slate-700 text-slate-300 hover:bg-slate-800",children:n.jsx(yr,{className:`h-5 w-5 ${c?"fill-rose-500 text-rose-500":""}`})})]}),n.jsxs("div",{className:"border-t border-slate-800 pt-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-white",children:"Reviews"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Only confirmed transactions can add a review."})]})}),n.jsx("p",{className:"text-sm text-slate-400 mb-4",children:"No reviews yet. Be the first after confirming a transaction."}),t?n.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-900/60 p-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("label",{className:"flex items-center gap-2 text-sm text-white cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:x,onChange:D=>w(D.target.checked),className:"h-4 w-4 rounded border-slate-700 bg-slate-800 text-orange-500 focus:ring-orange-500"}),"I confirm a completed transaction for this listing"]}),n.jsx("span",{className:"text-xs text-slate-500",children:"Required to rate"})]}),!x&&n.jsx("p",{className:"text-xs text-amber-300 bg-amber-500/10 border border-amber-500/20 rounded-lg px-3 py-2",children:"Please confirm the transaction before submitting a rating. This keeps reviews trustworthy."}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsx("select",{value:g.rating,onChange:D=>v(j=>({...j,rating:Number(D.target.value)})),className:"rounded-md bg-slate-800 border border-slate-700 px-3 py-2 text-sm text-white",disabled:!x,children:[5,4,3,2,1].map(D=>n.jsxs("option",{value:D,children:[D," stars"]},D))}),n.jsx(W,{disabled:!x||!g.comment.trim()||b,onClick:y,className:"bg-orange-500 hover:bg-orange-600 text-white disabled:opacity-50",children:b?"Submitting...":"Submit review"})]}),n.jsx(fo,{value:g.comment,onChange:D=>v(j=>({...j,comment:D.target.value})),className:"bg-slate-800 border-slate-700 text-white placeholder:text-slate-500",placeholder:"Share details about the transaction...",rows:3,disabled:!x})]}):n.jsx("p",{className:"text-sm text-slate-400",children:"Sign in to leave a review after completing a transaction."})]})]})]})})]})}function ot({className:e,type:t,...s}){return n.jsx("input",{type:t,"data-slot":"input",className:ls("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...s})}var A1="Label",l0=u.forwardRef((e,t)=>n.jsx(Qt.label,{...e,ref:t,onMouseDown:s=>{var i;s.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));l0.displayName=A1;var O1=l0;function De({className:e,...t}){return n.jsx(O1,{"data-slot":"label",className:ls("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}const L1=[{value:"electronics",label:"Electronics"},{value:"furniture",label:"Furniture"},{value:"clothing",label:"Clothing & Fashion"},{value:"home",label:"Home & Kitchen"},{value:"books",label:"Books & Learning"},{value:"services",label:"Services"},{value:"sports",label:"Sports & Hobbies"},{value:"vehicles",label:"Vehicles"},{value:"other",label:"Other"}],D1=[{value:"new",label:"Brand New"},{value:"like-new",label:"Like New"},{value:"good",label:"Good"},{value:"fair",label:"Fair"}];function I1(){var D;const e=pt(),t=se.getToken(),s=!!((D=se.getUserData())!=null&&D.isAdmin),[r,i]=u.useState(!1),[a,o]=u.useState(!1),[l,c]=u.useState(""),[d,m]=u.useState(!1),[h,x]=u.useState([]),[w,g]=u.useState([]),[v,b]=u.useState([]),p=u.useRef(null),[f,y]=u.useState({title:"",description:"",price:"",category:"electronics",location:"",condition:"good"}),N=j=>{const{name:P,value:R}=j.target;y(B=>({...B,[P]:R}))},k=j=>{const P=Array.from(j.target.files||[]);if(P.length+h.length>10){c("Maximum of 10 images allowed per listing");return}const R=[];P.forEach(B=>{if(!["image/jpeg","image/png","image/webp"].includes(B.type)){c(`${B.name} has an unsupported format. Use JPEG, PNG, or WebP.`);return}if(B.size>10*1024*1024){c(`${B.name} is larger than 10MB. Please compress and retry.`);return}R.push(B)}),R.length!==0&&(x(B=>[...B,...R]),R.forEach(B=>{const A=new FileReader;A.onloadend=()=>{g(K=>[...K,A.result])},A.readAsDataURL(B)}))},E=j=>{x(P=>P.filter((R,B)=>B!==j)),g(P=>P.filter((R,B)=>B!==j))},C=async()=>{if(h.length!==0)try{m(!0);const j=new FormData;h.forEach(B=>j.append("images",B));const P=await fetch(`${je}/marketplace/upload`,{method:"POST",headers:{Authorization:`Bearer ${t}`},body:j});if(!P.ok){const B=await P.json();throw new Error(B.error||"Image upload failed")}const R=await P.json();b(R.images),x([]),g([]),c("")}catch(j){c(j.message||"Unable to upload images right now")}finally{m(!1)}},L=async j=>{if(j.preventDefault(),i(!0),c(""),!t){c("Please sign in to create a listing"),i(!1);return}if(!f.title||!f.description||!f.price){c("Please fill in all required fields"),i(!1);return}if(f.title.trim().length<5){c("Title must be at least 5 characters"),i(!1);return}if(f.description.trim().length<10){c("Description must be at least 10 characters"),i(!1);return}const P=parseFloat(f.price);if(Number.isNaN(P)||P<0){c("Enter a valid price"),i(!1);return}try{const R=await fetch(`${je}/marketplace/listings`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({...f,price:P,images:v})});if(!R.ok){const B=await R.json();throw new Error(B.error||"Failed to create listing")}o(!0),setTimeout(()=>{e("/marketplace")},2e3)}catch(R){c(R.message||"An error occurred. Please try again."),console.error(R)}finally{i(!1)}};return t?a?n.jsx("div",{className:"min-h-screen bg-slate-950 text-white flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-emerald-500 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(rw,{className:"h-8 w-8 text-white"})}),n.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Listing created!"}),n.jsx("p",{className:"text-slate-400 mb-4",children:s?"Your listing is now live.":"Your listing has been submitted for admin review."}),n.jsx("p",{className:"text-sm text-slate-500",children:"Redirecting to marketplace..."})]})}):n.jsxs("div",{className:"min-h-screen bg-slate-950 text-white",children:[n.jsx("header",{className:"sticky top-0 z-50 border-b border-slate-800 bg-slate-950/90 backdrop-blur-lg",children:n.jsxs("div",{className:"mx-auto flex h-16 max-w-4xl items-center gap-4 px-4",children:[n.jsx(ne,{to:"/marketplace",children:n.jsxs(W,{variant:"ghost",size:"sm",className:"gap-2 text-slate-300 hover:text-white hover:bg-slate-800",children:[n.jsx(js,{className:"h-4 w-4"}),"Back"]})}),n.jsxs(ne,{to:"/",className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-orange-500 to-rose-600",children:n.jsx("span",{className:"text-lg font-bold text-white",children:"P"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] font-medium uppercase tracking-wider text-slate-400",children:"POMI"}),n.jsx("p",{className:"text-sm font-semibold text-white",children:"Create Listing"})]})]})]})}),n.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-emerald-300 mb-2",children:"Marketplace"}),n.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Create a Listing"}),n.jsx("p",{className:"text-slate-400",children:"Share something with the community. Great photos and clear details help your listing shine."})]}),l&&n.jsx("div",{className:"mb-6 rounded-lg border border-rose-500/30 bg-rose-500/10 p-4 text-sm text-rose-300",children:l}),!s&&n.jsx("div",{className:"mb-6 rounded-xl border border-amber-500/30 bg-amber-500/10 p-4",children:n.jsxs("p",{className:"text-sm text-amber-300",children:[n.jsx("strong",{children:"Note:"})," All listings are reviewed by our admin team before going live. This helps ensure quality and safety for the community."]})}),n.jsxs("form",{onSubmit:L,className:"space-y-6",children:[n.jsx("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6 space-y-5",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(De,{htmlFor:"title",className:"text-white",children:"Item Title *"}),n.jsx(ot,{id:"title",name:"title",value:f.title,onChange:N,placeholder:"e.g., iPhone 14 Pro - Like New",className:"mt-2 bg-slate-800 border-slate-700 text-white placeholder:text-slate-500",required:!0})]}),n.jsxs("div",{children:[n.jsx(De,{htmlFor:"price",className:"text-white",children:"Price (CAD) *"}),n.jsxs("div",{className:"relative mt-2",children:[n.jsx(iw,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),n.jsx(ot,{id:"price",name:"price",type:"number",min:"0",step:"0.01",value:f.price,onChange:N,placeholder:"0.00",className:"bg-slate-800 border-slate-700 text-white placeholder:text-slate-500 pl-8",required:!0})]})]}),n.jsxs("div",{children:[n.jsx(De,{htmlFor:"category",className:"text-white",children:"Category *"}),n.jsx("select",{id:"category",name:"category",value:f.category,onChange:N,className:"mt-2 w-full h-10 px-3 rounded-md bg-slate-800 border border-slate-700 text-white",required:!0,children:L1.map(j=>n.jsx("option",{value:j.value,children:j.label},j.value))})]}),n.jsxs("div",{children:[n.jsx(De,{htmlFor:"condition",className:"text-white",children:"Condition"}),n.jsx("select",{id:"condition",name:"condition",value:f.condition,onChange:N,className:"mt-2 w-full h-10 px-3 rounded-md bg-slate-800 border border-slate-700 text-white",children:D1.map(j=>n.jsx("option",{value:j.value,children:j.label},j.value))})]}),n.jsxs("div",{children:[n.jsx(De,{htmlFor:"location",className:"text-white",children:"Location"}),n.jsx(ot,{id:"location",name:"location",value:f.location,onChange:N,placeholder:"e.g., Downtown Ottawa",className:"mt-2 bg-slate-800 border-slate-700 text-white placeholder:text-slate-500"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(De,{htmlFor:"description",className:"text-white",children:"Description *"}),n.jsx("textarea",{id:"description",name:"description",value:f.description,onChange:N,placeholder:"Describe your item - condition, features, reason for selling, etc.",rows:5,className:"mt-2 w-full rounded-lg bg-slate-800 border border-slate-700 p-3 text-white placeholder:text-slate-500 focus:border-orange-500 focus:outline-none resize-none",required:!0})]})]})}),n.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6",children:[n.jsx(De,{className:"text-white mb-4 block",children:"Photos (Optional)"}),n.jsxs("button",{type:"button",onClick:()=>{var j;return(j=p.current)==null?void 0:j.click()},className:"w-full rounded-lg border-2 border-dashed border-slate-700 p-8 text-center cursor-pointer hover:border-orange-500 transition-colors bg-slate-900/40",children:[n.jsx(hx,{className:"h-8 w-8 text-slate-400 mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-slate-300",children:"Click to upload or drag and drop"}),n.jsx("p",{className:"text-xs text-slate-500",children:"JPEG, PNG, WebP up to 10MB (max 10 images)"})]}),n.jsx("input",{ref:p,type:"file",className:"hidden",accept:"image/jpeg,image/png,image/webp",multiple:!0,onChange:k}),w.length>0&&n.jsx("div",{className:"mt-4 grid grid-cols-4 gap-3",children:w.map((j,P)=>n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:j,alt:`Preview ${P+1}`,className:"h-24 w-full rounded-lg object-cover"}),n.jsx("button",{type:"button",onClick:()=>E(P),className:"absolute right-1 top-1 rounded-full bg-black/60 px-2 text-xs text-white hover:bg-black/80",children:"x"})]},P))}),h.length>0&&n.jsx(W,{type:"button",onClick:C,disabled:d,className:"mt-4 bg-slate-700 hover:bg-slate-600 text-white",children:d?"Uploading...":"Upload selected images"}),v.length>0&&n.jsxs("p",{className:"mt-3 text-xs font-semibold text-emerald-400",children:[v.length," image",v.length>1&&"s"," ready to publish"]})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(ne,{to:"/marketplace",className:"flex-1",children:n.jsx(W,{type:"button",variant:"outline",className:"w-full border-slate-700 text-slate-300 hover:bg-slate-800 bg-transparent",children:"Cancel"})}),n.jsx(W,{type:"submit",className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white",disabled:r,children:r?"Creating...":"Create Listing"})]})]})]})]}):n.jsx("div",{className:"min-h-screen bg-slate-950 text-white flex items-center justify-center",children:n.jsxs("div",{className:"text-center space-y-4",children:[n.jsx("p",{className:"text-lg font-semibold",children:"Sign in required"}),n.jsx("p",{className:"text-slate-400",children:"You need to be signed in to create a listing."}),n.jsx(ne,{to:"/marketplace",children:n.jsx(W,{className:"bg-orange-500 hover:bg-orange-600 text-white",children:"Back to marketplace"})})]})})}const Ye=Ue.create({baseURL:je,headers:{"Content-Type":"application/json"}});Ye.interceptors.request.use(e=>{const t=se.getToken();return t&&(e.headers.Authorization=`Bearer ${t}`),e});Ye.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(se.removeToken(),se.clearUserData(),window.location.href="/"),Promise.reject(e)});const Vi={retail:"Retail & Shopping",restaurant:"Food & Hospitality",services:"Services",healthcare:"Healthcare",education:"Education",technology:"Technology",finance:"Finance",entertainment:"Entertainment",other:"Other"},il=6,M1="marakihay@gmail.com";function F1(){const e=pt(),t=se.getUserData(),s=!!(t!=null&&t.isAdmin),[r,i]=u.useState([]),[a,o]=u.useState(!0),[l,c]=u.useState(null),[d,m]=u.useState("All"),[h,x]=u.useState(""),[w,g]=u.useState(!1),[v,b]=u.useState(!1),[p,f]=u.useState(1);u.useEffect(()=>{s&&e("/admin",{replace:!0})},[s,e]),u.useEffect(()=>{(async()=>{try{o(!0),c(null);const P=await Ye.get("/businesses",{params:{status:"active",limit:100}}),R=P.data.data||P.data;i(Array.isArray(R)?R:[])}catch(P){console.error("Failed to fetch businesses:",P),c("Failed to load businesses. Please try again later."),i([])}finally{o(!1)}})()},[]);const y=u.useMemo(()=>{const j=new Set(r.filter(P=>P.status==="active").map(P=>Vi[P.category]||P.category));return["All",...Array.from(j).sort()]},[r]),N=u.useMemo(()=>{let j=r.filter(P=>P.status==="active");if(h.trim()){const P=h.toLowerCase();j=j.filter(R=>R.businessName.toLowerCase().includes(P)||R.description.toLowerCase().includes(P)||R.category.toLowerCase().includes(P)||R.address&&R.address.toLowerCase().includes(P))}return d!=="All"&&(j=j.filter(P=>(Vi[P.category]||P.category)===d)),w&&(j=j.filter(P=>P.verified)),v&&(j=j.filter(P=>P.website)),j},[d,r,h,w,v]);u.useEffect(()=>{f(1)},[h,d,w,v]);const k=Math.ceil(N.length/il),E=u.useMemo(()=>{const j=(p-1)*il;return N.slice(j,j+il)},[N,p]),C=u.useMemo(()=>r.filter(j=>j.verified&&j.status==="active").length,[r]),L=u.useMemo(()=>new Set(r.filter(j=>j.status==="active").map(j=>j.category)).size,[r]),D=u.useMemo(()=>{const j=r.filter(P=>P.status==="active"&&P.verified);return j.length===0?null:j.sort((P,R)=>(R.rating||0)-(P.rating||0))[0]},[r]);return n.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100",children:[n.jsx("header",{className:"sticky top-0 z-40 border-b border-slate-800 bg-slate-950/85 backdrop-blur",children:n.jsx("div",{className:"mx-auto flex h-16 max-w-6xl items-center gap-3 px-4 sm:px-6",children:n.jsxs(ne,{to:"/",className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-orange-500 to-rose-600 hover:scale-[1.02] transition",children:n.jsx("span",{className:"text-lg font-bold text-white",children:"P"})}),n.jsxs("div",{className:"hidden sm:block",children:[n.jsx("p",{className:"text-[10px] font-medium uppercase tracking-wider text-slate-400",children:"Pomi"}),n.jsx("p",{className:"text-sm font-semibold text-white",children:"Business Directory"})]})]})})}),n.jsxs("main",{className:"mx-auto max-w-6xl px-4 py-8 sm:px-6",children:[n.jsxs("div",{className:"mb-8 space-y-3",children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-emerald-300",children:"Community businesses"}),n.jsx("h1",{className:"text-3xl font-bold text-white",children:"Find and support Habesha-owned businesses"}),n.jsx("p",{className:"text-slate-400 max-w-2xl",children:"Every listing is reviewed with the business owner to verify offerings, contact details, and community alignment."})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[n.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-4 text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-white",children:r.filter(j=>j.status==="active").length}),n.jsx("p",{className:"text-xs text-slate-400",children:"Total businesses"})]}),n.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-4 text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-emerald-400",children:C}),n.jsx("p",{className:"text-xs text-slate-400",children:"Verified"})]}),n.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-4 text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-orange-400",children:L}),n.jsx("p",{className:"text-xs text-slate-400",children:"Categories"})]})]}),D&&n.jsxs("div",{className:"mb-8 rounded-2xl border border-amber-500/30 bg-gradient-to-r from-amber-500/10 to-orange-500/10 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(zn,{className:"h-5 w-5 text-amber-400 fill-amber-400"}),n.jsx("span",{className:"text-sm font-semibold text-amber-300",children:"Featured Business"})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start",children:[D.featuredImage&&n.jsx("img",{src:D.featuredImage,alt:D.businessName,className:"w-full sm:w-32 h-24 object-cover rounded-xl"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("h3",{className:"text-xl font-bold text-white",children:D.businessName}),D.verified&&n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-emerald-500/20 text-emerald-300 text-xs font-medium rounded",children:[n.jsx(is,{className:"h-3 w-3"})," Verified"]})]}),n.jsx("p",{className:"text-sm text-slate-400 mb-2",children:Vi[D.category]||D.category}),n.jsx("p",{className:"text-sm text-slate-300 line-clamp-2",children:D.description}),n.jsx("div",{className:"flex gap-2 mt-3",children:n.jsx(ne,{to:`/business/${D._id}`,children:n.jsx(W,{size:"sm",className:"bg-orange-500 hover:bg-orange-600 text-white",children:"View profile"})})})]})]})]}),n.jsxs("div",{className:"space-y-4 mb-8 rounded-2xl border border-slate-800 bg-slate-900/60 p-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx(ux,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-500"}),n.jsx("input",{type:"text",placeholder:"Search businesses by name, category, or location...",value:h,onChange:j=>x(j.target.value),className:"w-full rounded-xl border border-slate-700 bg-slate-800 pl-10 pr-4 py-3 text-white placeholder:text-slate-500 focus:border-orange-500 focus:outline-none focus:ring-1 focus:ring-orange-500"})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[n.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:w,onChange:j=>g(j.target.checked),className:"h-4 w-4 rounded border-slate-700 bg-slate-800 text-orange-500 focus:ring-orange-500"}),n.jsx(is,{className:"h-4 w-4 text-emerald-400"}),"Verified only"]}),n.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:v,onChange:j=>b(j.target.checked),className:"h-4 w-4 rounded border-slate-700 bg-slate-800 text-orange-500 focus:ring-orange-500"}),n.jsx(ax,{className:"h-4 w-4 text-blue-400"}),"Has website"]})]}),n.jsx("div",{className:"flex flex-wrap items-center gap-2",children:y.map(j=>{const P=j===d;return n.jsx("button",{onClick:()=>m(j),className:`rounded-full px-4 py-2 text-sm font-medium transition ${P?"bg-orange-500 text-white":"border border-slate-700 bg-slate-800 text-slate-300 hover:border-slate-600 hover:text-white"}`,children:j},j)})})]}),n.jsxs("div",{className:"mb-8 rounded-2xl border border-slate-800 bg-slate-900/60 p-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-white mb-2",children:"Want your business listed?"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Submit your business details for review. We verify all listings before they go live."})]}),n.jsx(ne,{to:"/business/new",children:n.jsx(W,{className:"bg-orange-500 hover:bg-orange-600 text-white whitespace-nowrap",children:"List your business"})})]}),s&&n.jsx("p",{className:"mt-3 rounded-xl border border-emerald-500/30 bg-emerald-500/10 px-4 py-2 text-xs text-emerald-300",children:"Admin view: Use the console to add or manage businesses after verification calls."})]}),n.jsx("div",{className:"mb-4 flex items-center justify-between",children:n.jsxs("p",{className:"text-sm text-slate-400",children:["Showing ",E.length," of ",N.length," businesses"]})}),n.jsxs("section",{className:"space-y-6",children:[a&&n.jsx("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-10 text-center",children:n.jsx("p",{className:"text-slate-400 animate-pulse",children:"Loading businesses..."})}),l&&n.jsx("div",{className:"rounded-2xl border border-rose-500/30 bg-rose-500/10 p-10 text-center",children:n.jsx("p",{className:"text-rose-300",children:l})}),!a&&!l&&E.length>0&&n.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:E.map(j=>n.jsxs("article",{className:"flex h-full flex-col rounded-2xl border border-slate-800 bg-slate-900/60 overflow-hidden transition hover:border-slate-700",children:[j.featuredImage&&n.jsx("div",{className:"aspect-video w-full overflow-hidden bg-slate-800",children:n.jsx("img",{src:j.featuredImage,alt:j.businessName,className:"h-full w-full object-cover"})}),n.jsxs("div",{className:"flex flex-col gap-3 p-5 flex-1",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-xs font-medium text-slate-400 mb-1",children:Vi[j.category]||j.category}),n.jsx("h3",{className:"text-lg font-semibold text-white",children:j.businessName})]}),j.verified&&n.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-emerald-500/20 text-emerald-300 text-xs font-medium rounded",children:n.jsx(is,{className:"h-3 w-3"})})]}),j.rating&&n.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[n.jsx(zn,{className:"h-4 w-4 text-amber-400 fill-amber-400"}),n.jsx("span",{className:"text-white",children:j.rating.toFixed(1)}),n.jsxs("span",{className:"text-slate-500",children:["(",j.reviewCount||0,")"]})]}),n.jsx("p",{className:"text-sm text-slate-400 line-clamp-2 flex-1",children:j.description}),n.jsxs("div",{className:"space-y-1.5 text-sm text-slate-400",children:[j.address&&n.jsx("p",{className:"truncate",children:j.address}),j.phone&&n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(cx,{className:"h-3 w-3"})," ",j.phone]})]}),n.jsxs("div",{className:"flex gap-2 mt-2 pt-3 border-t border-slate-800",children:[n.jsx(ne,{to:`/business/${j._id}`,className:"flex-1",children:n.jsx(W,{variant:"outline",size:"sm",className:"w-full border-slate-700 text-slate-300 hover:bg-slate-800 hover:text-white",children:"View profile"})}),j.email&&n.jsx("a",{href:`mailto:${j.email}?subject=Pomi%20Business%20Directory%20Inquiry:%20${encodeURIComponent(j.businessName)}`,children:n.jsx(W,{size:"sm",className:"bg-orange-500 hover:bg-orange-600 text-white",children:n.jsx(ox,{className:"h-4 w-4"})})})]})]})]},j._id))}),!a&&!l&&N.length===0&&n.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-10 text-center",children:[n.jsx("p",{className:"text-slate-400 mb-2",children:"No businesses found matching your criteria."}),n.jsxs("p",{className:"text-sm text-slate-500",children:["Try adjusting your filters or"," ",n.jsx("a",{href:`mailto:${M1}`,className:"text-orange-400 hover:underline",children:"recommend a business"}),"."]})]})]}),!a&&!l&&k>1&&n.jsxs("div",{className:"mt-8 flex items-center justify-center gap-2",children:[n.jsx(W,{variant:"outline",size:"sm",onClick:()=>f(j=>Math.max(1,j-1)),disabled:p===1,className:"border-slate-700 text-slate-300 hover:bg-slate-800 disabled:opacity-50",children:n.jsx(Nd,{className:"h-4 w-4"})}),n.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:k},(j,P)=>P+1).map(j=>n.jsx("button",{onClick:()=>f(j),className:`h-8 w-8 rounded-lg text-sm font-medium transition ${j===p?"bg-orange-500 text-white":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:j},j))}),n.jsx(W,{variant:"outline",size:"sm",onClick:()=>f(j=>Math.min(k,j+1)),disabled:p===k,className:"border-slate-700 text-slate-300 hover:bg-slate-800 disabled:opacity-50",children:n.jsx(kd,{className:"h-4 w-4"})})]})]})]})}function B1(){var y;const e=ro(),t=pt(),[s,r]=u.useState(null),[i,a]=u.useState([]),[o,l]=u.useState(!0),[c,d]=u.useState(null),[m,h]=u.useState(!1),[x,w]=u.useState({rating:5,comment:""}),[g,v]=u.useState(!1),b=se.getToken();u.useEffect(()=>{(async()=>{if(e!=null&&e.id){l(!0),d(null);try{const[k,E]=await Promise.all([fetch(`${je}/businesses/${e.id}`),fetch(`${je}/businesses/${e.id}/reviews`)]);if(!k.ok)throw new Error("Business not found");const C=await k.json();if(r(C.data||C.business),E.ok){const L=await E.json();a(L.data||[])}}catch(k){console.error(k),d("We could not load this business right now.")}finally{l(!1)}}})()},[e]);const p=u.useMemo(()=>s!=null&&s.rating?Number(s.rating).toFixed(1):null,[s]),f=async()=>{if(!(!(e!=null&&e.id)||!x.comment.trim())){if(!b){d("Sign in to leave a review.");return}if(!g){d("Please confirm you visited or used this service.");return}h(!0);try{const N=await fetch(`${je}/businesses/${e.id}/reviews`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`},body:JSON.stringify(x)});if(!N.ok){const E=await N.json().catch(()=>({}));throw new Error(E.error||"Unable to submit review")}const k=await N.json();r(k.business),a(E=>[k.review,...E]),w({rating:5,comment:""})}catch(N){d(N.message||"Unable to submit review")}finally{h(!1)}}};return o?n.jsx("div",{className:"min-h-screen bg-slate-950 text-white flex items-center justify-center",children:n.jsx("p",{className:"text-slate-400 animate-pulse",children:"Loading business"})}):c||!s?n.jsx("div",{className:"min-h-screen bg-slate-950 text-white flex items-center justify-center",children:n.jsxs("div",{className:"text-center space-y-3",children:[n.jsx("p",{className:"text-lg font-semibold",children:"Business unavailable"}),n.jsx("p",{className:"text-slate-400 text-sm",children:c||"This profile may have been removed."}),n.jsx(W,{className:"bg-orange-500 hover:bg-orange-600 text-white",onClick:()=>t("/business"),children:"Back to directory"})]})}):n.jsxs("div",{className:"min-h-screen bg-slate-950 text-white",children:[n.jsx("header",{className:"sticky top-0 z-50 border-b border-slate-800 bg-slate-950/90 backdrop-blur-lg",children:n.jsxs("div",{className:"mx-auto flex h-16 max-w-7xl items-center justify-between px-4 sm:px-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(W,{variant:"ghost",size:"sm",className:"gap-2 text-slate-300 hover:text-white hover:bg-slate-800",onClick:()=>t("/business"),children:[n.jsx(js,{className:"h-4 w-4"}),"Directory"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-orange-500 to-rose-600",children:n.jsx("span",{className:"text-lg font-bold text-white",children:"P"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] font-medium uppercase tracking-wider text-slate-400",children:"POMI"}),n.jsx("p",{className:"text-sm font-semibold text-white",children:"Business Profile"})]})]})]}),n.jsx(ne,{to:`/messages?business=${encodeURIComponent(s.businessName)}`,children:n.jsx(W,{size:"sm",className:"bg-orange-500 hover:bg-orange-600 text-white",children:"Contact business"})})]})}),n.jsxs("main",{className:"mx-auto max-w-5xl px-4 py-8 sm:px-6 space-y-8",children:[n.jsxs("section",{className:"grid gap-6 lg:grid-cols-5",children:[n.jsx("div",{className:"lg:col-span-3 rounded-2xl overflow-hidden border border-slate-800 bg-slate-900/60",children:n.jsx("img",{src:((y=s.images)==null?void 0:y[0])||"/placeholder.svg",alt:s.businessName,className:"w-full h-72 object-cover"})}),n.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{children:[s.verified&&n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-emerald-500 text-white text-xs font-medium rounded mb-2",children:[n.jsx(is,{className:"h-3 w-3"})," Verified"]}),n.jsx("h1",{className:"text-3xl font-bold text-white",children:s.businessName}),n.jsx("p",{className:"text-slate-400 text-sm",children:s.category})]}),p&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(zn,{className:"h-5 w-5 text-amber-400 fill-amber-400"}),n.jsx("span",{className:"text-lg text-white",children:p}),n.jsxs("span",{className:"text-xs text-slate-500",children:["(",s.reviewCount||i.length||0,")"]})]})]}),n.jsx("p",{className:"text-slate-300 leading-relaxed",children:s.description}),n.jsxs("div",{className:"space-y-3 text-sm text-slate-300",children:[s.address&&n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(oi,{className:"h-4 w-4"})," ",s.address]}),s.phone&&n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(cx,{className:"h-4 w-4"})," ",s.phone]}),s.email&&n.jsxs("a",{href:`mailto:${s.email}`,className:"flex items-center gap-2 text-orange-300 hover:underline",children:[n.jsx(ox,{className:"h-4 w-4"})," ",s.email]}),s.website&&n.jsxs("a",{href:s.website.startsWith("http")?s.website:`https://${s.website}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-orange-300 hover:underline",children:[n.jsx(ax,{className:"h-4 w-4"})," ",s.website]})]})]})]}),n.jsxs("section",{className:"rounded-2xl border border-slate-800 bg-slate-900/70 p-6 space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-white",children:"Community reviews"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Confirm a visit to rate and share feedback. Verified reviews boost trust."})]}),p&&n.jsxs("div",{className:"flex items-center gap-2 text-amber-300",children:[n.jsx(zn,{className:"h-4 w-4 fill-amber-300"}),n.jsx("span",{className:"text-lg font-semibold",children:p}),n.jsxs("span",{className:"text-xs text-slate-500",children:["(",s.reviewCount||i.length||0,")"]})]})]}),b?n.jsxs("div",{className:"grid gap-4 rounded-xl border border-slate-800 bg-slate-950/60 p-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("label",{className:"flex items-center gap-2 text-sm text-white cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:g,onChange:N=>v(N.target.checked),className:"h-4 w-4 rounded border-slate-700 bg-slate-800 text-orange-500 focus:ring-orange-500"}),"I confirm I visited or used this service"]}),n.jsx("span",{className:"text-xs text-slate-500",children:"Required to rate"})]}),!g&&n.jsx("p",{className:"text-xs text-amber-300 bg-amber-500/10 border border-amber-500/20 rounded-lg px-3 py-2",children:"Confirming your visit keeps reviews accountable and useful for neighbours."}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("label",{className:"text-sm font-semibold text-white",children:"Your rating"}),n.jsx("select",{className:"rounded-lg border border-slate-800 bg-slate-900 px-3 py-2 text-sm text-white",value:x.rating,onChange:N=>w(k=>({...k,rating:Number(N.target.value)})),disabled:!g,children:[5,4,3,2,1].map(N=>n.jsxs("option",{value:N,children:[N," star",N>1?"s":""]},N))})]})}),n.jsx(fo,{placeholder:"Share what stood out about this business...",value:x.comment,onChange:N=>w(k=>({...k,comment:N.target.value})),className:"bg-slate-900 border-slate-800 text-white placeholder:text-slate-500 min-h-[100px]",disabled:!g}),n.jsx(W,{onClick:f,disabled:m||!g||!x.comment.trim(),className:"bg-orange-500 hover:bg-orange-600 disabled:opacity-50",children:m?"Sending":"Submit review"})]}):n.jsx("p",{className:"text-sm text-slate-400",children:"Sign in to leave a review. Verified members help neighbours discover trusted services faster."}),n.jsxs("div",{className:"space-y-3",children:[i.length===0&&n.jsx("p",{className:"text-sm text-slate-400",children:"No reviews yet."}),i.map(N=>n.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-900/60 p-4 space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("p",{className:"font-semibold text-white",children:N.authorName}),n.jsx("span",{className:"text-slate-400",children:new Date(N.createdAt).toLocaleDateString()})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-300",children:[n.jsx(zn,{className:"h-4 w-4 fill-amber-300"}),N.rating," / 5"]}),n.jsx("p",{className:"text-sm text-slate-200",children:N.comment}),N.verified&&n.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-emerald-600/20 px-3 py-1 text-xs font-semibold text-emerald-200",children:[n.jsx(is,{className:"h-3 w-3"})," Verified visit"]})]},N._id))]})]})]})]})}const z1=[{value:"restaurant",label:"Food & Hospitality"},{value:"retail",label:"Retail & Shopping"},{value:"services",label:"Services"},{value:"healthcare",label:"Healthcare"},{value:"education",label:"Education"},{value:"technology",label:"Technology"},{value:"finance",label:"Finance"},{value:"entertainment",label:"Entertainment"},{value:"other",label:"Other"}];function $1(){const e=pt(),t=se.getToken(),[s,r]=u.useState(!1),[i,a]=u.useState(!1),[o,l]=u.useState(null),[c,d]=u.useState(""),[m,h]=u.useState(null),[x,w]=u.useState({businessName:"",description:"",category:"",address:"",phone:"",email:"",website:"",hours:""}),g=u.useRef(null),v=async b=>{if(b.preventDefault(),!t){l("Please sign in to submit a business listing.");return}r(!0),l(null);try{const p=await fetch(`${je}/businesses`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({...x,status:"draft"})});if(!p.ok){const f=await p.json().catch(()=>({}));throw new Error(f.error||"Failed to submit business listing")}a(!0),setTimeout(()=>e("/business"),2e3)}catch(p){console.error(p),l(p.message||"Unable to submit right now. Please try again.")}finally{r(!1)}};return t?i?n.jsx("div",{className:"min-h-screen bg-slate-950 text-white flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-emerald-500 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(ix,{className:"h-8 w-8 text-white"})}),n.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Business submitted!"}),n.jsx("p",{className:"text-slate-400 mb-4",children:"We'll verify details before it appears in the directory."}),n.jsx("p",{className:"text-sm text-slate-500",children:"Redirecting to directory..."})]})}):n.jsxs("div",{className:"min-h-screen bg-slate-950 text-white",children:[n.jsx("header",{className:"sticky top-0 z-50 border-b border-slate-800 bg-slate-950/90 backdrop-blur-lg",children:n.jsxs("div",{className:"mx-auto flex h-16 max-w-7xl items-center justify-between px-4 sm:px-6",children:[n.jsx("div",{className:"flex items-center gap-4",children:n.jsx(ne,{to:"/business",children:n.jsxs(W,{variant:"ghost",size:"sm",className:"gap-2 text-slate-300 hover:text-white hover:bg-slate-800",children:[n.jsx(js,{className:"h-4 w-4"}),"Back to Directory"]})})}),n.jsx(ne,{to:"/",className:"flex items-center gap-2",children:n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-orange-500 to-rose-600",children:n.jsx("span",{className:"text-lg font-bold text-white",children:"P"})})})]})}),n.jsxs("main",{className:"mx-auto max-w-2xl px-4 py-8 sm:px-6",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-emerald-300 mb-2",children:"Community businesses"}),n.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"List a Business"}),n.jsx("p",{className:"text-slate-400",children:"Share a local Habesha-owned business so neighbours can find and support it."}),o&&n.jsx("p",{className:"text-sm text-rose-300 mt-3 bg-rose-500/10 border border-rose-500/30 rounded-lg px-4 py-2",children:o})]}),n.jsxs("form",{onSubmit:v,className:"space-y-6",children:[n.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6 space-y-5",children:[n.jsxs("div",{children:[n.jsx(De,{htmlFor:"businessName",className:"text-white",children:"Business name *"}),n.jsx(ot,{id:"businessName",placeholder:"e.g. Habesha Restaurant",value:x.businessName,onChange:b=>w({...x,businessName:b.target.value}),className:"mt-2 bg-slate-800 border-slate-700 text-white placeholder:text-slate-500",required:!0})]}),n.jsxs("div",{children:[n.jsx(De,{htmlFor:"description",className:"text-white",children:"Description *"}),n.jsx(fo,{id:"description",placeholder:"Tell neighbours what makes this business special...",value:x.description,onChange:b=>w({...x,description:b.target.value}),className:"mt-2 bg-slate-800 border-slate-700 text-white placeholder:text-slate-500 min-h-32",required:!0})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(De,{htmlFor:"category",className:"text-white",children:"Category *"}),n.jsxs("select",{id:"category",value:x.category,onChange:b=>w({...x,category:b.target.value}),className:"mt-2 w-full h-10 px-3 rounded-md bg-slate-800 border border-slate-700 text-white",required:!0,children:[n.jsx("option",{value:"",children:"Select category"}),z1.map(b=>n.jsx("option",{value:b.value,children:b.label},b.value))]})]}),n.jsxs("div",{children:[n.jsx(De,{htmlFor:"phone",className:"text-white",children:"Phone *"}),n.jsx(ot,{id:"phone",placeholder:"(613) 555-0123",value:x.phone,onChange:b=>w({...x,phone:b.target.value}),className:"mt-2 bg-slate-800 border-slate-700 text-white placeholder:text-slate-500",required:!0})]})]}),n.jsxs("div",{children:[n.jsx(De,{htmlFor:"address",className:"text-white",children:"Address *"}),n.jsx(ot,{id:"address",placeholder:"123 Bank Street, Ottawa, ON",value:x.address,onChange:b=>w({...x,address:b.target.value}),className:"mt-2 bg-slate-800 border-slate-700 text-white placeholder:text-slate-500",required:!0})]}),n.jsxs("div",{children:[n.jsx(De,{htmlFor:"email",className:"text-white",children:"Business email *"}),n.jsx(ot,{id:"email",type:"email",placeholder:"contact@business.com",value:x.email,onChange:b=>w({...x,email:b.target.value}),className:"mt-2 bg-slate-800 border-slate-700 text-white placeholder:text-slate-500",required:!0})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(De,{htmlFor:"website",className:"text-white",children:"Website (optional)"}),n.jsx(ot,{id:"website",placeholder:"www.business.com",value:x.website,onChange:b=>w({...x,website:b.target.value}),className:"mt-2 bg-slate-800 border-slate-700 text-white placeholder:text-slate-500"})]}),n.jsxs("div",{children:[n.jsx(De,{htmlFor:"hours",className:"text-white",children:"Business hours (optional)"}),n.jsx(ot,{id:"hours",placeholder:"Mon-Fri 9am-6pm",value:x.hours,onChange:b=>w({...x,hours:b.target.value}),className:"mt-2 bg-slate-800 border-slate-700 text-white placeholder:text-slate-500"})]})]}),n.jsxs("div",{children:[n.jsx(De,{className:"text-white",children:"Logo or banner (optional)"}),n.jsxs("button",{type:"button",className:"mt-2 w-full border-2 border-dashed border-slate-700 rounded-xl p-6 text-center hover:border-slate-600 transition-colors cursor-pointer bg-slate-900/40",onClick:()=>{var b;return(b=g.current)==null?void 0:b.click()},children:[m?n.jsx("img",{src:m,alt:"Preview",className:"h-24 mx-auto mb-2 rounded-lg object-cover"}):n.jsx(hx,{className:"h-8 w-8 text-slate-500 mx-auto mb-2"}),n.jsx("p",{className:"text-slate-300 text-sm",children:"Click to upload or drag and drop"}),n.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"If you skip this step, we'll use a placeholder image."})]}),n.jsx("input",{ref:g,type:"file",accept:"image/*",className:"hidden",onChange:b=>{var y;const p=(y=b.target.files)==null?void 0:y[0];if(!p)return;d(p.name);const f=URL.createObjectURL(p);h(f)}}),c&&n.jsxs("p",{className:"mt-2 text-xs text-emerald-300",children:["Selected: ",c]})]})]}),n.jsx("div",{className:"rounded-2xl border border-amber-500/30 bg-amber-500/10 p-4",children:n.jsxs("p",{className:"text-sm text-amber-300",children:[n.jsx("strong",{children:"Note:"})," All submissions are reviewed by our admin team before appearing in the directory. This helps ensure quality and accuracy for the community."]})}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(ne,{to:"/business",className:"flex-1",children:n.jsx(W,{type:"button",variant:"outline",className:"w-full border-slate-700 text-slate-300 hover:bg-slate-800 bg-transparent",children:"Cancel"})}),n.jsx(W,{type:"submit",className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white",disabled:s,children:s?"Submitting...":"Submit for Review"})]})]})]})]}):n.jsx("div",{className:"min-h-screen bg-slate-950 text-white flex items-center justify-center",children:n.jsxs("div",{className:"text-center space-y-4",children:[n.jsx("p",{className:"text-lg font-semibold",children:"Sign in required"}),n.jsx("p",{className:"text-slate-400",children:"You need to be signed in to submit a business listing."}),n.jsx(ne,{to:"/business",children:n.jsx(W,{className:"bg-orange-500 hover:bg-orange-600 text-white",children:"Back to directory"})})]})})}const Xs=[{id:"general",label:"Community Pulse",description:"Neighbourly updates, wins, and everyday check-ins.",badge:""},{id:"culture",label:"Culture & Celebrations",description:"Food, art, language, and holiday planning.",badge:""},{id:"business",label:"Marketplace & Business",description:"Buying, selling, services, and entrepreneurship.",badge:""},{id:"education",label:"Newcomers & Education",description:"Schooling, admissions, tutoring, and mentorship.",badge:""},{id:"technology",label:"Tech & Careers",description:"Job leads, interview prep, and technical help.",badge:""},{id:"events",label:"Events & Meetups",description:"Coordinate hangouts, volunteer drives, and tours.",badge:""},{id:"health",label:"Health & Wellness",description:"Mental health, family care, and support circles.",badge:""},{id:"other",label:"Open Topics",description:"Anything that doesnt fit neatly elsewhere.",badge:""}],qh={title:"",content:"",category:"general",tagsText:""},U1=e=>{const t=new Date(e),r=new Date().getTime()-t.getTime(),i=Math.floor(r/1e3);if(i<60)return"just now";const a=Math.floor(i/60);if(a<60)return`${a}m ago`;const o=Math.floor(a/60);if(o<24)return`${o}h ago`;const l=Math.floor(o/24);return l<7?`${l}d ago`:t.toLocaleDateString("en-CA",{month:"short",day:"numeric"})};function V1(){var Ot;const e=rn(),t=pt(),[s,r]=u.useState([]),[i,a]=u.useState(!0),[o,l]=u.useState(null),[c,d]=u.useState("all"),[m,h]=u.useState(""),[x,w]=u.useState(""),[g,v]=u.useState("top"),[b,p]=u.useState(!1),[f,y]=u.useState(qh),[N,k]=u.useState(null),[E,C]=u.useState(null),[L,D]=u.useState(!1),[j,P]=u.useState(!1),[R,B]=u.useState(!1),A=u.useRef(e.search),[K,te]=u.useState(1),ae=10,_=se.isAuthenticated(),M=!!((Ot=se.getUserData())!=null&&Ot.isAdmin);u.useEffect(()=>{M&&t("/admin",{replace:!0})},[M,t]),u.useEffect(()=>{if(R&&e.search===A.current)return;const F=new URLSearchParams(e.search),Q=F.get("community"),I=F.get("search"),J=F.get("sort");Q&&Xs.some(re=>re.id===Q)?d(Q):d("all"),I!==null?(h(I),w(I)):(h(""),w("")),v(J==="new"?"new":"top"),A.current=e.search,B(!0)},[R,e.search]),u.useEffect(()=>{if(!R)return;const F=new URLSearchParams;c!=="all"&&F.set("community",c),x.trim()&&F.set("search",x.trim()),g==="new"&&F.set("sort","new");const Q=F.toString(),I=Q?`?${Q}`:"";I!==A.current&&(A.current=I,t({pathname:e.pathname,search:I},{replace:!0}))},[c,x,g,R,t,e.pathname]);const U=u.useCallback(async()=>{var F,Q;a(!0),l(null);try{const I=await Ye.get("/forums/posts",{params:{category:c!=="all"?c:void 0,search:x||void 0,limit:60}}),J=Array.isArray((F=I.data)==null?void 0:F.data)?I.data.data:Array.isArray(I.data)?I.data:((Q=I.data)==null?void 0:Q.posts)||[];r(J)}catch(I){l(I.message||"Unable to load threads right now."),r([])}finally{a(!1),P(!1)}},[c,x]);u.useEffect(()=>{R&&U()},[U,R]);const V=u.useMemo(()=>{const F=c==="all"?s:s.filter(J=>J.category===c),I=[...x?F.filter(J=>J.title.toLowerCase().includes(x.toLowerCase())||J.content.toLowerCase().includes(x.toLowerCase())):F];return g==="top"?I.sort((J,re)=>{const Te=(J.repliesCount||0)*2+(J.viewsCount||0),Pe=(re.repliesCount||0)*2+(re.viewsCount||0);return Pe===Te?new Date(re.createdAt).getTime()-new Date(J.createdAt).getTime():Pe-Te}):I.sort((J,re)=>new Date(re.createdAt).getTime()-new Date(J.createdAt).getTime()),I},[s,c,x,g]),X=Math.ceil(V.length/ae),he=u.useMemo(()=>{const F=(K-1)*ae;return V.slice(F,F+ae)},[V,K,ae]);u.useEffect(()=>{te(1)},[c,x,g]);const ie=F=>{const Q=F.repliesCount||0,I=F.viewsCount||0,J=F.upvotes??F.votes??0;return Q*3+J*5+I},He=u.useMemo(()=>{const F=s.reduce((Q,I)=>Q.set(I.category,(Q.get(I.category)||0)+1),new Map);return Xs.map(Q=>({...Q,total:F.get(Q.id)||0})).sort((Q,I)=>I.total-Q.total).slice(0,4)},[s]),me=u.useMemo(()=>c==="all"?[]:[...s.filter(I=>I.category===c)].sort((I,J)=>ie(J)-ie(I)).slice(0,5),[s,c]),Z=u.useMemo(()=>{var I;const F=[];if(c!=="all"){const J=((I=Xs.find(re=>re.id===c))==null?void 0:I.label)??"Community filter";F.push(J)}const Q=x.trim();return Q&&F.push(`Search: ${Q}`),g==="new"&&F.push("Newest first"),F},[c,x,g]),ce=u.useMemo(()=>{if(c==="all")return{label:"All communities",description:"See every conversation in one stream."};const F=Xs.find(Q=>Q.id===c);return{label:(F==null?void 0:F.label)??"Community threads",description:(F==null?void 0:F.description)??""}},[c]),ge=F=>{F.preventDefault(),w(m.trim())},ze=()=>{d("all"),h(""),w(""),v("top"),P(!0),U()},cs=async F=>{if(F.preventDefault(),!_){k("Please log in to share a thread with the community.");return}if(!f.title.trim()||!f.content.trim()){k("Title and message are required.");return}D(!0),k(null),C(null);try{const Q=f.tagsText.split(",").map(I=>I.trim()).filter(Boolean);await Ye.post("/forums/posts",{title:f.title.trim(),content:f.content.trim(),category:f.category,tags:Q}),C("Thread published! Thanks for sharing with neighbours."),y(qh),p(!1),P(!0),await U()}catch(Q){k(Q.message||"Failed to publish thread.")}finally{D(!1)}},Xt=()=>{P(!0),U()};return n.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100",children:[n.jsx("header",{className:"border-b border-white/10 bg-slate-950/80 backdrop-blur",children:n.jsxs("div",{className:"mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-4 px-6 py-6",children:[n.jsx(ne,{to:"/",className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-4 py-2 text-sm font-semibold text-white/80 transition hover:border-white/30 hover:text-white",children:" Home"}),n.jsxs("div",{className:"flex flex-col items-end gap-2 text-right",children:[n.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/60",children:"Pomi Forums"}),n.jsx("h1",{className:"text-xl font-black text-white md:text-2xl",children:"Crowd wisdom for every stage of the newcomer journey"})]})]})}),n.jsxs("main",{className:"mx-auto grid max-w-6xl gap-8 px-6 py-12 lg:grid-cols-[2fr,1fr]",children:[n.jsxs("section",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4 rounded-[32px] border border-white/10 bg-white/10 p-8 shadow-[0_30px_60px_rgba(15,23,42,0.45)] backdrop-blur",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/10 px-3 py-1 text-xs font-semibold uppercase tracking-[0.3em] text-rose-200",children:"Powered by the community"}),n.jsx("h2",{className:"text-3xl font-black text-white md:text-4xl",children:"Ask questions, swap tips, and celebrate wins together."}),n.jsx("p",{className:"text-sm text-slate-200 md:text-base",children:"Pick a community, share an update, and help the next neighbour in line. Inspired by Reddits best practicesbut rooted in Ottawas Habesha community."})]}),n.jsxs("div",{className:"flex flex-col gap-3 text-right text-sm text-white/70",children:[n.jsxs("p",{children:[s.length," ",s.length===1?"active thread":"active threads"]}),n.jsx("button",{onClick:()=>p(!0),className:"inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-red-500 via-rose-500 to-orange-500 px-4 py-2 text-sm font-semibold text-white shadow-lg shadow-rose-500/40 transition hover:-translate-y-0.5",children:" Start a thread"})]})]}),n.jsxs("form",{onSubmit:ge,className:"flex flex-wrap items-center gap-3",children:[n.jsxs("div",{className:"relative flex-1 min-w-[220px]",children:[n.jsx("input",{value:m,onChange:F=>h(F.target.value),placeholder:"Search threads (housing, job tips, events...)",className:"w-full rounded-2xl border border-white/15 bg-white/90 px-5 py-3 text-sm text-slate-900 placeholder:text-slate-500 focus:border-rose-300 focus:outline-none focus:ring-2 focus:ring-rose-200/40"}),n.jsx("span",{className:"pointer-events-none absolute right-4 top-1/2 -translate-y-1/2 text-lg text-slate-400",children:""})]}),n.jsx("button",{type:"submit",className:"rounded-2xl border border-white/20 px-4 py-2 text-sm font-semibold text-white/80 transition hover:border-white/40 hover:text-white",children:"Search"}),n.jsx("button",{type:"button",onClick:ze,className:"rounded-2xl border border-transparent px-4 py-2 text-sm font-semibold text-white/70 transition hover:text-white",children:"Reset"}),n.jsx("button",{type:"button",onClick:Xt,className:"rounded-2xl border border-white/15 px-4 py-2 text-sm font-semibold text-white/70 transition hover:border-white/40 hover:text-white",children:j?"Refreshing":"Refresh"})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx("button",{onClick:()=>d("all"),className:`rounded-full px-4 py-2 text-sm font-semibold transition ${c==="all"?"bg-gradient-to-r from-red-500 via-rose-500 to-orange-500 text-white shadow-lg shadow-rose-500/40":"border border-white/15 bg-white/5 text-white/70 hover:border-white/40 hover:text-white"}`,children:"All communities"}),Xs.map(F=>n.jsxs("button",{onClick:()=>d(F.id),className:`rounded-full px-4 py-2 text-sm font-semibold transition ${c===F.id?"bg-white text-slate-900 shadow-lg shadow-white/30":"border border-white/15 bg-white/5 text-white/70 hover:border-white/40 hover:text-white"}`,children:[F.badge," ",F.label]},F.id))]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-white/60",children:[n.jsx("span",{children:"Sort by:"}),n.jsx("button",{onClick:()=>v("top"),className:`rounded-full px-3 py-1 font-semibold ${g==="top"?"bg-white/20 text-white":"border border-white/15 text-white/70 hover:border-white/30 hover:text-white"}`,children:"Trending"}),n.jsx("button",{onClick:()=>v("new"),className:`rounded-full px-3 py-1 font-semibold ${g==="new"?"bg-white/20 text-white":"border border-white/15 text-white/70 hover:border-white/30 hover:text-white"}`,children:"Newest"})]}),Z.length>0&&n.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-white/70",children:[n.jsx("span",{children:"Active filters:"}),Z.map(F=>n.jsx("span",{className:"rounded-full border border-white/20 bg-white/10 px-3 py-1 text-white",children:F},F)),n.jsx("button",{type:"button",onClick:ze,className:"rounded-full border border-transparent px-3 py-1 font-semibold text-white/70 transition hover:text-white",children:"Clear all"})]}),n.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 px-4 py-3 text-sm text-white/70 shadow-inner shadow-slate-900/40",children:[n.jsx("span",{className:"font-semibold text-white",children:ce.label}),ce.description&&n.jsx("span",{className:"ml-2 text-white/60",children:ce.description})]})]}),!i&&!o&&n.jsxs("p",{className:"text-xs text-white/60",children:["Showing ",V.length," ",V.length===1?"thread":"threads"]}),i?n.jsx("div",{className:"rounded-3xl border border-white/10 bg-white/10 p-8 text-center text-sm text-white/70",children:"Loading the latest conversations"}):o?n.jsx("div",{className:"rounded-3xl border border-rose-300/40 bg-rose-500/10 p-8 text-center text-sm text-rose-100",children:o}):V.length===0?n.jsxs("div",{className:"rounded-3xl border border-white/10 bg-white/5 p-10 text-center text-white/70 shadow-lg shadow-slate-900/30 backdrop-blur",children:[n.jsx("p",{className:"text-lg font-semibold text-white",children:"No threads match these filters yet."}),n.jsx("p",{className:"mt-2 text-sm",children:"Try another community or be the first to start the conversation."}),n.jsx("button",{onClick:()=>p(!0),className:"mt-4 inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-red-500 via-rose-500 to-orange-500 px-5 py-2 text-sm font-semibold text-white shadow-lg shadow-rose-500/40 transition hover:-translate-y-0.5",children:" Share a thread"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"space-y-4",children:he.map(F=>{var Q;return n.jsxs("article",{className:"rounded-3xl border border-white/10 bg-white/5 p-6 shadow-lg shadow-slate-900/40 backdrop-blur transition hover:-translate-y-1",children:[n.jsxs("header",{className:"flex flex-wrap items-center gap-3 text-xs text-white/60",children:[n.jsx("span",{className:"font-semibold text-white",children:((Q=Xs.find(I=>I.id===F.category))==null?void 0:Q.label)??"Community"}),n.jsx("span",{children:""}),n.jsx("span",{children:F.authorName||"Community member"}),n.jsx("span",{children:""}),n.jsx("span",{children:U1(F.createdAt)})]}),n.jsxs(ne,{to:`/forums/${F._id}`,className:"mt-3 block space-y-3",children:[n.jsx("h3",{className:"text-lg font-semibold text-white",children:F.title}),n.jsx("p",{className:"text-sm text-white/80 line-clamp-3",children:F.content})]}),n.jsxs("footer",{className:"mt-4 flex flex-wrap items-center gap-3 text-xs font-semibold text-white/60",children:[n.jsxs("span",{children:[" ",F.repliesCount??0," replies"]}),n.jsxs("span",{children:[" ",F.viewsCount??0," views"]}),F.tags&&F.tags.length>0&&n.jsx("div",{className:"flex flex-wrap gap-2",children:F.tags.slice(0,3).map(I=>n.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/15 px-3 py-1",children:["#",I]},I))}),n.jsx(ne,{to:`/forums/${F._id}`,className:"ml-auto inline-flex items-center gap-1 rounded-full border border-white/20 px-3 py-1 text-white/80 transition hover:border-white/40 hover:text-white",children:"View thread "})]})]},F._id)})}),X>1&&n.jsxs("div",{className:"mt-6 flex flex-wrap items-center justify-between gap-4 rounded-2xl border border-white/10 bg-white/5 px-4 py-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>te(F=>Math.max(1,F-1)),disabled:K===1,className:"rounded-full border border-white/15 px-3 py-1 text-sm font-semibold text-white/70 transition hover:border-white/40 hover:text-white disabled:opacity-40 disabled:cursor-not-allowed",children:" Previous"}),n.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(X,5)}).map((F,Q)=>{let I;return X<=5||K<=3?I=Q+1:K>=X-2?I=X-4+Q:I=K-2+Q,n.jsx("button",{onClick:()=>te(I),className:`h-8 w-8 rounded-full text-sm font-semibold transition ${K===I?"bg-gradient-to-r from-red-500 via-rose-500 to-orange-500 text-white":"text-white/70 hover:bg-white/10 hover:text-white"}`,children:I},I)})}),n.jsx("button",{onClick:()=>te(F=>Math.min(X,F+1)),disabled:K===X,className:"rounded-full border border-white/15 px-3 py-1 text-sm font-semibold text-white/70 transition hover:border-white/40 hover:text-white disabled:opacity-40 disabled:cursor-not-allowed",children:"Next "})]}),n.jsxs("p",{className:"text-xs text-white/60",children:["Showing ",(K-1)*ae+1,"-",Math.min(K*ae,V.length)," of ",V.length," threads"]})]})]})]}),n.jsxs("aside",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4 rounded-3xl border border-white/10 bg-white/5 p-6 text-sm text-white/70 shadow-lg shadow-slate-900/40 backdrop-blur",children:[n.jsx("h3",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/50",children:c==="all"?"Trending communities":"Trending threads"}),n.jsx("ul",{className:"space-y-3",children:c==="all"?He.map((F,Q)=>n.jsx("li",{className:"w-full",children:n.jsxs("button",{type:"button",onClick:()=>d(F.id),className:`flex w-full items-center justify-between gap-3 rounded-2xl border px-3 py-2 text-left transition ${c===F.id?"border-white/20 bg-white/10":"border-white/10 bg-white/5 hover:border-white/20 hover:bg-white/10"}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-lg font-bold text-white/50",children:Q+1}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-semibold text-white",children:[F.badge," ",F.label]}),n.jsx("p",{className:"text-xs text-white/60",children:F.description})]})]}),n.jsxs("span",{className:"rounded-full border border-white/10 px-3 py-1 text-xs text-white/60",children:[F.total," threads"]})]})},F.id)):me.length>0?me.map((F,Q)=>n.jsx("li",{className:"cursor-pointer rounded-2xl border border-white/10 bg-white/5 px-3 py-2 hover:bg-white/10 transition",onClick:()=>t(`/forums/${F._id}`),children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-sm font-bold text-white/50",children:Q+1}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-semibold text-white text-sm line-clamp-2",children:F.title}),n.jsxs("p",{className:"mt-1 text-xs text-white/60 line-clamp-2",children:[F.content.slice(0,140),F.content.length>140?"":""]}),n.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-white/60",children:[n.jsxs("span",{children:[" ",F.upvotes??F.votes??0]}),n.jsxs("span",{children:[" ",F.repliesCount||0]}),n.jsxs("span",{children:[" ",F.viewsCount||0]})]})]})]})},F._id)):n.jsx("li",{className:"text-white/50 text-sm py-4 text-center",children:"No threads yet in this community"})})]}),n.jsxs("div",{className:"space-y-4 rounded-3xl border border-white/10 bg-white/5 p-6 text-sm text-white/70 shadow-lg shadow-slate-900/40 backdrop-blur",children:[n.jsx("h3",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/50",children:"Quick guidelines"}),n.jsxs("ul",{className:"space-y-2",children:[n.jsx("li",{children:"Be kind and assume good intent."}),n.jsx("li",{children:"No spam or cold DMsprotect the community."}),n.jsx("li",{children:"Tag posts so the right neighbours can help."}),n.jsx("li",{children:"Report anything suspicious so admins can review."})]})]})]})]}),b&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 p-4 backdrop-blur",children:n.jsxs("div",{className:"relative w-full max-w-3xl rounded-[32px] border border-white/10 bg-white/95 p-8 text-slate-900 shadow-2xl",children:[n.jsx("button",{onClick:()=>p(!1),className:"absolute right-4 top-4 inline-flex h-10 w-10 items-center justify-center rounded-full bg-rose-100 text-rose-600 text-2xl font-bold shadow-lg shadow-rose-200 ring-2 ring-rose-200 transition hover:-translate-y-0.5","aria-label":"Close composer",children:""}),n.jsx("h3",{className:"text-2xl font-black text-slate-900",children:"Start a new thread"}),n.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Share advice, a question, or a celebration. Clear titles help others find it later."}),N&&n.jsx("div",{className:"mt-4 rounded-2xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700",children:N}),E&&n.jsx("div",{className:"mt-4 rounded-2xl border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm text-emerald-700",children:E}),n.jsxs("form",{onSubmit:cs,className:"mt-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Title"}),n.jsx("input",{value:f.title,onChange:F=>y(Q=>({...Q,title:F.target.value})),className:"mt-2 w-full rounded-2xl border border-slate-200 px-4 py-3 text-sm shadow-inner focus:border-red-400 focus:outline-none focus:ring-2 focus:ring-red-100",placeholder:"Share the key takeaway in one line",required:!0})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Community"}),n.jsx("select",{value:f.category,onChange:F=>y(Q=>({...Q,category:F.target.value})),className:"mt-2 w-full rounded-2xl border border-slate-200 px-4 py-3 text-sm shadow-inner focus:border-red-400 focus:outline-none focus:ring-2 focus:ring-red-100",children:Xs.map(F=>n.jsx("option",{value:F.id,children:F.label},F.id))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Tags (optional)"}),n.jsx("input",{value:f.tagsText,onChange:F=>y(Q=>({...Q,tagsText:F.target.value})),className:"mt-2 w-full rounded-2xl border border-slate-200 px-4 py-3 text-sm shadow-inner focus:border-red-400 focus:outline-none focus:ring-2 focus:ring-red-100",placeholder:"housing, job, meetup"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Message"}),n.jsx("textarea",{value:f.content,onChange:F=>y(Q=>({...Q,content:F.target.value})),rows:6,className:"mt-2 w-full rounded-2xl border border-slate-200 px-4 py-3 text-sm shadow-inner focus:border-red-400 focus:outline-none focus:ring-2 focus:ring-red-100",placeholder:"Include context, what you need, or advice to share.",required:!0})]}),n.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-3",children:[n.jsx("button",{type:"button",onClick:()=>p(!1),className:"rounded-2xl border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:border-slate-400 hover:text-slate-800",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:L,className:"rounded-2xl bg-gradient-to-r from-red-500 via-rose-500 to-orange-500 px-5 py-2 text-sm font-semibold text-white shadow-lg shadow-rose-500/40 transition hover:-translate-y-0.5 disabled:cursor-not-allowed disabled:opacity-60",children:L?"Publishing":"Publish thread"})]}),!_&&n.jsx("p",{className:"text-xs text-rose-500",children:"You need an account to post. Sign in or register to join the conversation."})]})]})})]})}const Kh=e=>{const t=new Date(e),r=new Date().getTime()-t.getTime(),i=Math.floor(r/1e3);if(i<60)return"just now";const a=Math.floor(i/60);if(a<60)return`${a}m ago`;const o=Math.floor(a/60);if(o<24)return`${o}h ago`;const l=Math.floor(o/24);return l<7?`${l}d ago`:t.toLocaleDateString("en-CA",{month:"short",day:"numeric"})},H1=e=>{switch(e){case"general":return"Community Pulse";case"culture":return"Culture & Celebrations";case"business":return"Marketplace & Business";case"education":return"Newcomers & Education";case"technology":return"Tech & Careers";case"events":return"Events & Meetups";case"health":return"Health & Wellness";case"other":default:return"Open Topics"}};function W1(){const{postId:e}=ro(),t=pt(),[s,r]=u.useState(null),[i,a]=u.useState([]),[o,l]=u.useState(!0),[c,d]=u.useState(!0),[m,h]=u.useState(null),[x,w]=u.useState(null),[g,v]=u.useState(""),[b,p]=u.useState(!1),[f,y]=u.useState(!1),[N,k]=u.useState(0),[E,C]=u.useState({}),[L,D]=u.useState(!1),[j,P]=u.useState([]),[R,B]=u.useState(!1),[A,K]=u.useState(!1),te=se.isAuthenticated(),ae=u.useCallback(async()=>{var Z,ce;if(e){l(!0),h(null);try{const ge=await Ye.get(`/forums/posts/${e}`),ze=((Z=ge.data)==null?void 0:Z.data)||((ce=ge.data)==null?void 0:ce.post)||ge.data;r(ze)}catch(ge){h(ge.message||"Unable to load this thread."),r(null)}finally{l(!1)}}},[e]),_=u.useCallback(async()=>{var Z,ce;if(e){d(!0),w(null);try{const ge=await Ye.get(`/forums/posts/${e}/replies`,{params:{limit:100}}),ze=Array.isArray((Z=ge.data)==null?void 0:Z.data)?ge.data.data:Array.isArray(ge.data)?ge.data:((ce=ge.data)==null?void 0:ce.replies)||[];a(ze)}catch(ge){w(ge.message||"Unable to load replies right now."),a([])}finally{d(!1)}}},[e]);u.useEffect(()=>{ae(),_()},[ae,_]);const M=()=>{const Z=!f;y(Z),k(ce=>Z?ce+1:Math.max(0,ce-1))},U=Z=>{C(ce=>{const ge=ce[Z]||{liked:!1,count:0},ze=!ge.liked;return{...ce,[Z]:{liked:ze,count:ze?ge.count+1:Math.max(0,ge.count-1)}}})},V=()=>{D(!0),K(!0)},X=Z=>{j.includes(Z)||(P(ce=>[...ce,Z]),K(!0))},he=async()=>{var Z;if(navigator.share)try{await navigator.share({title:(s==null?void 0:s.title)||"Forum Thread",text:((Z=s==null?void 0:s.content)==null?void 0:Z.slice(0,100))||"Check out this discussion",url:window.location.href})}catch{}else await navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!");B(!1)},ie=async()=>{try{await navigator.clipboard.writeText(window.location.href),alert("Link copied!")}catch{}B(!1)},He=async Z=>{if(Z.preventDefault(),!!e){if(!te){w("Please log in to participate in the discussion.");return}if(!g.trim()){w("Share a quick note before posting.");return}p(!0),w(null);try{await Ye.post(`/forums/posts/${e}/replies`,{content:g.trim()}),v(""),await _()}catch(ce){w(ce.message||"Failed to send reply.")}finally{p(!1)}}},me=()=>{window.history.length>1?t(-1):t("/forums")};return n.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100",children:[n.jsx("header",{className:"sticky top-0 z-50 border-b border-white/10 bg-slate-950/90 backdrop-blur-lg",children:n.jsxs("div",{className:"mx-auto flex h-16 max-w-5xl items-center justify-between gap-4 px-4 sm:px-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(W,{variant:"ghost",size:"sm",onClick:me,className:"gap-2 text-slate-300 hover:text-white hover:bg-slate-800",children:[n.jsx(js,{className:"h-4 w-4"}),"Back"]}),n.jsxs(ne,{to:"/",className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-orange-500 to-rose-600 hover:scale-[1.02] transition",children:n.jsx("span",{className:"text-lg font-bold text-white",children:"P"})}),n.jsxs("div",{className:"hidden sm:block",children:[n.jsx("p",{className:"text-[10px] font-medium uppercase tracking-wider text-slate-400",children:"POMI"}),n.jsx("p",{className:"text-sm font-semibold text-white",children:"Forums"})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"relative",children:[n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>B(Z=>!Z),className:"text-slate-300 hover:text-white hover:bg-slate-800",children:n.jsx(ar,{className:"h-4 w-4"})}),R&&n.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 rounded-xl border border-slate-700 bg-slate-900 p-2 shadow-xl z-50",onMouseLeave:()=>B(!1),children:[n.jsxs("button",{onClick:()=>void ie(),className:"flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm text-slate-200 hover:bg-slate-800",children:[n.jsx(nw,{className:"h-4 w-4"})," Copy link"]}),n.jsxs("a",{href:`https://twitter.com/intent/tweet?url=${encodeURIComponent(window.location.href)}`,target:"_blank",rel:"noopener noreferrer",className:"flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm text-slate-200 hover:bg-slate-800",onClick:()=>B(!1),children:[n.jsx(ar,{className:"h-4 w-4"})," Share to X"]}),n.jsxs("a",{href:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}`,target:"_blank",rel:"noopener noreferrer",className:"flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm text-slate-200 hover:bg-slate-800",onClick:()=>B(!1),children:[n.jsx(ar,{className:"h-4 w-4"})," Share to Facebook"]})]})]}),n.jsx(W,{variant:"ghost",size:"sm",onClick:V,className:L?"text-emerald-400":"text-slate-300 hover:text-red-400 hover:bg-slate-800",children:L?n.jsx(Jo,{className:"h-4 w-4"}):n.jsx(lc,{className:"h-4 w-4"})})]})]})}),n.jsxs("main",{className:"mx-auto flex max-w-5xl flex-col gap-8 px-6 py-10",children:[o?n.jsx("div",{className:"rounded-3xl border border-white/10 bg-white/10 p-10 text-center text-sm text-white/70",children:"Loading thread"}):m?n.jsx("div",{className:"rounded-3xl border border-rose-300/40 bg-rose-500/10 p-10 text-center text-sm text-rose-100",children:m}):s?n.jsxs("article",{className:"space-y-5 rounded-3xl border border-white/10 bg-white/5 p-6 text-white shadow-lg shadow-slate-900/40 backdrop-blur",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-white/60",children:[n.jsx("span",{className:"rounded-full bg-orange-500/20 px-3 py-1 font-semibold text-orange-300",children:H1(s.category)}),n.jsx("span",{children:""}),n.jsx("span",{children:s.authorName||"Community member"}),n.jsx("span",{children:""}),n.jsx("span",{children:Kh(s.createdAt)})]}),n.jsx("h1",{className:"text-3xl font-black text-white",children:s.title}),n.jsx("p",{className:"text-base text-white/90 whitespace-pre-line leading-relaxed",children:s.content}),s.tags&&s.tags.length>0&&n.jsx("div",{className:"flex flex-wrap gap-2 text-xs text-white/70",children:s.tags.map(Z=>n.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/15 px-3 py-1",children:["#",Z]},Z))}),n.jsx("div",{className:"flex flex-wrap items-center gap-4 border-t border-white/10 pt-4",children:n.jsxs("div",{className:"flex items-center gap-3 text-sm text-white/60",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Ks,{className:"h-4 w-4"}),s.repliesCount??i.length," replies"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[" ",s.viewsCount??0," views"]})]})}),A&&n.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-amber-500/15 px-3 py-1 text-xs text-amber-200",children:[n.jsx(Jo,{className:"h-3 w-3"})," Admins have been notified to review flagged content"]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3 border-t border-white/10 pt-4",children:[n.jsxs(W,{variant:"ghost",size:"sm",onClick:M,className:`gap-2 ${f?"text-red-400":"text-slate-400 hover:text-red-400"}`,children:[n.jsx(yr,{className:`h-4 w-4 ${f?"fill-current":""}`}),N," Thanks"]}),n.jsxs(W,{variant:"ghost",size:"sm",className:"gap-2 text-slate-400 hover:text-orange-400",children:[n.jsx(Ks,{className:"h-4 w-4"}),"Reply"]}),n.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>void he(),className:"gap-2 text-slate-400 hover:text-emerald-400",children:[n.jsx(ar,{className:"h-4 w-4"}),"Share"]})]})]}):null,n.jsxs("section",{className:"space-y-4 rounded-3xl border border-white/10 bg-white/5 p-6 shadow-lg shadow-slate-900/40 backdrop-blur",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[n.jsx("h2",{className:"text-lg font-semibold text-white",children:"Replies"}),n.jsxs("span",{className:"text-xs text-white/60",children:[i.length," contributed"]})]}),c?n.jsx("p",{className:"text-sm text-white/70",children:"Loading replies"}):i.length===0?n.jsx("p",{className:"text-sm text-white/70",children:"No replies yet. Be the first to nudge this conversation forward."}):n.jsx("ul",{className:"space-y-4",children:i.map(Z=>{const ce=E[Z._id]||{liked:!1,count:0},ge=j.includes(Z._id);return n.jsxs("li",{className:"rounded-2xl border border-white/10 bg-white/5 p-4 text-sm text-white/80",children:[n.jsxs("div",{className:"flex items-center justify-between text-xs text-white/50",children:[n.jsx("span",{className:"font-semibold text-white",children:Z.authorName||"Community member"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{children:Kh(Z.createdAt)}),n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>X(Z._id),className:`h-6 w-6 p-0 ${ge?"text-emerald-400":"text-slate-500 hover:text-red-400"}`,children:ge?n.jsx(Jo,{className:"h-3 w-3"}):n.jsx(lc,{className:"h-3 w-3"})})]})]}),n.jsx("p",{className:"mt-2 whitespace-pre-line leading-relaxed",children:Z.content}),n.jsx("div",{className:"mt-3 pt-2 border-t border-white/5",children:n.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>U(Z._id),className:`gap-1 text-xs ${ce.liked?"text-red-400":"text-slate-500 hover:text-red-400"}`,children:[n.jsx(yr,{className:`h-3 w-3 ${ce.liked?"fill-current":""}`}),ce.count," Thanks"]})})]},Z._id)})}),n.jsxs("form",{onSubmit:He,className:"space-y-3",children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/50",children:"Add your voice"}),n.jsx("textarea",{value:g,onChange:Z=>v(Z.target.value),rows:4,className:"w-full rounded-2xl border border-white/15 bg-white/90 px-4 py-3 text-sm text-slate-900 placeholder:text-slate-500 focus:border-rose-300 focus:outline-none focus:ring-2 focus:ring-rose-200/40",placeholder:te?"Share an insight, a resource, or encouragement":"Sign in to reply.",disabled:!te}),x&&n.jsx("div",{className:"rounded-2xl border border-rose-200 bg-rose-50 px-4 py-2 text-xs text-rose-700",children:x}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"submit",disabled:!te||b,className:"rounded-2xl bg-gradient-to-r from-red-500 via-rose-500 to-orange-500 px-4 py-2 text-sm font-semibold text-white shadow-lg shadow-rose-500/40 transition hover:-translate-y-0.5 disabled:cursor-not-allowed disabled:opacity-60",children:b?"Posting":"Post reply"})}),!te&&n.jsx("p",{className:"text-xs text-white/60",children:"You need to sign in to join the discussion."})]})]}),n.jsxs("div",{className:"text-center text-sm text-white/70",children:["Looking for more?"," ",n.jsx(ne,{to:"/forums",className:"font-semibold text-white underline decoration-rose-300/60",children:"Return to the forum feed"})]})]})]})}const q1=[{value:"retail",label:"Retail & Shopping"},{value:"restaurant",label:"Food & Hospitality"},{value:"services",label:"Services"},{value:"healthcare",label:"Healthcare"},{value:"education",label:"Education"},{value:"technology",label:"Technology"},{value:"finance",label:"Finance"},{value:"entertainment",label:"Entertainment"},{value:"other",label:"Other"}];function K1({onSuccess:e,onCancel:t,authToken:s}){const[r,i]=u.useState(!1),[a,o]=u.useState(null),[l,c]=u.useState(null),[d,m]=u.useState(null),[h,x]=u.useState({businessName:"",description:"",category:"retail",phone:"",email:"",address:""}),[w,g]=u.useState([]),[v,b]=u.useState([]),p=u.useRef(null),f=se.getToken(),y=(P={})=>s?{...P,Authorization:`Bearer ${s}`}:f?{...P,Authorization:`Bearer ${f}`}:P,N="w-full rounded-lg border border-white/25 bg-white text-gray-900 placeholder:text-gray-500 px-4 py-2 text-sm shadow-inner focus:border-rose-400 focus:outline-none focus:ring-2 focus:ring-rose-100",k=P=>{const{name:R,value:B}=P.target;x(A=>({...A,[R]:B}))},E=P=>{const R=Array.from(P.target.files||[]);g(B=>[...B,...R]),R.forEach(B=>{const A=new FileReader;A.onload=K=>{var ae;const te=(ae=K.target)==null?void 0:ae.result;te&&b(_=>[..._,te])},A.readAsDataURL(B)})},C=P=>{g(R=>R.filter((B,A)=>A!==P)),b(R=>R.filter((B,A)=>A!==P))},L=async P=>{var R,B;P.preventDefault(),o(null),c(null),i(!0);try{const K=(await Ye.post("/businesses",{...h},{headers:y()})).data.business._id;m(K),x({businessName:"",description:"",category:"retail",phone:"",email:"",address:""}),w.length>0?await D(K):c(`Business "${h.businessName}" created successfully! Click "Publish Now" to make it visible in the directory.`)}catch(A){o(((B=(R=A.response)==null?void 0:R.data)==null?void 0:B.error)||"Failed to create business")}finally{i(!1)}},D=async P=>{var R,B;try{const A=new FormData;w.forEach(K=>{A.append("images",K)}),await Ye.post(`/businesses/${P}/images`,A,{headers:y({"Content-Type":"multipart/form-data"})}),c('Business created and images uploaded successfully! Click "Publish Now" to make it visible in the directory.'),g([]),b([])}catch(A){o(((B=(R=A.response)==null?void 0:R.data)==null?void 0:B.error)||"Failed to upload images")}},j=async()=>{var P,R;if(d){i(!0);try{await Ye.put(`/businesses/${d}`,{status:"active"},{headers:y()}),c("Business published successfully! It's now visible in the directory."),m(null),e&&setTimeout(e,2e3)}catch(B){o(((R=(P=B.response)==null?void 0:P.data)==null?void 0:R.error)||"Failed to publish business")}finally{i(!1)}}};return n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"rounded-3xl border border-white/10 bg-slate-900/50 p-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Add New Business"}),a&&n.jsx("div",{className:"mb-6 rounded-2xl border border-rose-300/40 bg-rose-500/10 px-4 py-3 text-sm text-rose-100",children:a}),l&&d&&n.jsxs("div",{className:"mb-6 rounded-2xl border border-emerald-300/40 bg-emerald-500/10 px-4 py-4 text-sm text-emerald-100 space-y-3",children:[n.jsx("p",{children:l}),n.jsx("div",{className:"flex gap-2 pt-2",children:n.jsx("button",{type:"button",onClick:j,disabled:r,className:"rounded-lg bg-emerald-500 px-4 py-2 font-semibold text-white hover:bg-emerald-600 disabled:opacity-50 disabled:cursor-not-allowed transition",children:r?"Publishing...":" Publish Now"})})]}),l&&!d&&n.jsx("div",{className:"mb-6 rounded-2xl border border-emerald-300/40 bg-emerald-500/10 px-4 py-3 text-sm text-emerald-100",children:l}),n.jsxs("form",{onSubmit:L,className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Business Name *"}),n.jsx("input",{type:"text",name:"businessName",value:h.businessName,onChange:k,required:!0,className:N,placeholder:"e.g., Shega Caf & Bakery"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Category *"}),n.jsx("select",{name:"category",value:h.category,onChange:k,className:`${N} bg-white`,children:q1.map(P=>n.jsx("option",{value:P.value,className:"bg-slate-800 text-white",children:P.label},P.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Phone"}),n.jsx("input",{type:"tel",name:"phone",value:h.phone,onChange:k,className:N,placeholder:"(613) 555-0123"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Email"}),n.jsx("input",{type:"email",name:"email",value:h.email,onChange:k,className:N,placeholder:"contact@business.com"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Address"}),n.jsx("input",{type:"text",name:"address",value:h.address,onChange:k,className:N,placeholder:"123 Main St, Ottawa, ON"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Description *"}),n.jsx("textarea",{name:"description",value:h.description,onChange:k,required:!0,rows:4,className:`${N} min-h-[120px] resize-none`,placeholder:"Describe the business, products/services, and what makes it unique..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Business Photos"}),n.jsx("input",{ref:p,type:"file",multiple:!0,accept:"image/*",onChange:E,className:"hidden"}),n.jsxs("button",{type:"button",onClick:()=>{var P;return(P=p.current)==null?void 0:P.click()},className:"w-full rounded-lg border-2 border-dashed border-white/20 bg-white/5 px-4 py-8 text-center transition hover:border-white/40 hover:bg-white/10",children:[n.jsx("p",{className:"text-sm font-semibold text-white",children:"Click to upload or drag and drop"}),n.jsx("p",{className:"text-xs text-white/60",children:"PNG, JPG, or WebP (max 10MB each)"})]}),n.jsx("p",{className:"mt-2 text-xs text-white/60",children:"Attach up to 10 photos so members can see every detail."}),v.length>0&&n.jsx("div",{className:"mt-4 grid gap-4 sm:grid-cols-2 md:grid-cols-3",children:v.map((P,R)=>n.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden",children:[n.jsx("img",{src:P,alt:`Preview ${R+1}`,className:"h-full w-full object-cover"}),n.jsx("button",{type:"button",onClick:()=>C(R),className:"absolute top-2 right-2 rounded-full bg-rose-500 p-2 text-white hover:bg-rose-600",children:""})]},R))})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"submit",disabled:r||!h.businessName||!h.description,className:"flex-1 rounded-lg bg-gradient-to-r from-red-500 via-rose-500 to-orange-500 px-6 py-3 font-semibold text-white hover:shadow-lg hover:shadow-rose-500/40 disabled:opacity-50 disabled:cursor-not-allowed transition",children:r?"Creating...":"Create Business"}),t&&n.jsx("button",{type:"button",onClick:t,className:"px-6 py-3 rounded-lg border border-white/15 text-white font-semibold hover:bg-white/10 transition",children:"Cancel"})]})]})]})})}const J1=[{value:"cultural",label:"Cultural"},{value:"social",label:"Social"},{value:"educational",label:"Educational"},{value:"business",label:"Business"},{value:"sports",label:"Sports"},{value:"faith",label:"Faith & Spirituality"},{value:"other",label:"Other"}];function G1({onSuccess:e,onCancel:t}){const[s,r]=u.useState(!1),[i,a]=u.useState(null),[o,l]=u.useState(null),[c,d]=u.useState({title:"",description:"",location:"",date:"",startTime:"",endTime:"",category:"cultural",maxAttendees:"",price:"",ticketLink:"",socialMediaLink:""}),m=x=>{const{name:w,value:g}=x.target;d(v=>({...v,[w]:g}))},h=async x=>{var w,g;x.preventDefault(),a(null),l(null),r(!0);try{if(!c.title||!c.description||!c.location||!c.date||!c.startTime||!c.endTime){a("All fields are required"),r(!1);return}if(c.title.length<3){a("Title must be at least 3 characters"),r(!1);return}if(c.description.length<10){a("Description must be at least 10 characters"),r(!1);return}if(c.location.length<3){a("Location must be at least 3 characters"),r(!1);return}const v=new Date(c.date),b=new Date;if(b.setHours(0,0,0,0),v<b){a("Event date must be in the future"),r(!1);return}const p=await Ye.post("/events",{...c,maxAttendees:c.maxAttendees?parseInt(c.maxAttendees):void 0,price:c.price?parseFloat(c.price):void 0});l("Event created successfully and published immediately!"),d({title:"",description:"",location:"",date:"",startTime:"",endTime:"",category:"cultural",maxAttendees:"",price:"",ticketLink:"",socialMediaLink:""}),e&&setTimeout(e,2e3)}catch(v){a(((g=(w=v.response)==null?void 0:w.data)==null?void 0:g.error)||v.message||"Failed to create event")}finally{r(!1)}};return n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"rounded-3xl border border-white/10 bg-slate-900/50 p-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Create New Event"}),i&&n.jsx("div",{className:"mb-6 rounded-2xl border border-rose-300/40 bg-rose-500/10 px-4 py-3 text-sm text-rose-100",children:i}),o&&n.jsx("div",{className:"mb-6 rounded-2xl border border-emerald-300/40 bg-emerald-500/10 px-4 py-3 text-sm text-emerald-100",children:o}),n.jsxs("form",{onSubmit:h,className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Title *"}),n.jsx("input",{type:"text",name:"title",value:c.title,onChange:m,required:!0,className:"w-full rounded-lg border border-white/15 bg-white/5 px-4 py-2 text-white placeholder:text-white/40 focus:border-rose-300 focus:outline-none",placeholder:"e.g., Enkutatash Celebration 2025"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Category *"}),n.jsx("select",{name:"category",value:c.category,onChange:m,className:"w-full rounded-lg border border-white/15 bg-white/5 px-4 py-2 text-white focus:border-rose-300 focus:outline-none",children:J1.map(x=>n.jsx("option",{value:x.value,className:"bg-slate-800 text-white",children:x.label},x.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Date *"}),n.jsx("input",{type:"date",name:"date",value:c.date,onChange:m,required:!0,className:"w-full rounded-lg border border-white/15 bg-white/5 px-4 py-2 text-white focus:border-rose-300 focus:outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Location *"}),n.jsx("input",{type:"text",name:"location",value:c.location,onChange:m,required:!0,className:"w-full rounded-lg border border-white/15 bg-white/5 px-4 py-2 text-white placeholder:text-white/40 focus:border-rose-300 focus:outline-none",placeholder:"e.g., Parliament Hill, Ottawa"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Start Time *"}),n.jsx("input",{type:"time",name:"startTime",value:c.startTime,onChange:m,required:!0,className:"w-full rounded-lg border border-white/15 bg-white/5 px-4 py-2 text-white focus:border-rose-300 focus:outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"End Time *"}),n.jsx("input",{type:"time",name:"endTime",value:c.endTime,onChange:m,required:!0,className:"w-full rounded-lg border border-white/15 bg-white/5 px-4 py-2 text-white focus:border-rose-300 focus:outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Max Attendees"}),n.jsx("input",{type:"number",name:"maxAttendees",value:c.maxAttendees,onChange:m,className:"w-full rounded-lg border border-white/15 bg-white/5 px-4 py-2 text-white placeholder:text-white/40 focus:border-rose-300 focus:outline-none",placeholder:"Leave blank for unlimited",min:"1"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Ticket Link"}),n.jsx("input",{type:"url",name:"ticketLink",value:c.ticketLink,onChange:m,className:"w-full rounded-lg border border-white/15 bg-white/5 px-4 py-2 text-white placeholder:text-white/40 focus:border-rose-300 focus:outline-none",placeholder:"https://example.com/tickets"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Social Media Link"}),n.jsx("input",{type:"url",name:"socialMediaLink",value:c.socialMediaLink,onChange:m,className:"w-full rounded-lg border border-white/15 bg-white/5 px-4 py-2 text-white placeholder:text-white/40 focus:border-rose-300 focus:outline-none",placeholder:"https://instagram.com/event or https://facebook.com/event"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Description *"}),n.jsx("textarea",{name:"description",value:c.description,onChange:m,required:!0,rows:4,className:"w-full rounded-lg border border-white/15 bg-white/5 px-4 py-2 text-white placeholder:text-white/40 focus:border-rose-300 focus:outline-none",placeholder:"Tell the community what this event is about..."})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"submit",disabled:s,className:"flex-1 rounded-lg bg-gradient-to-r from-red-500 via-rose-500 to-orange-500 px-6 py-3 font-semibold text-white hover:shadow-lg hover:shadow-rose-500/40 disabled:opacity-50 disabled:cursor-not-allowed transition",children:s?"Creating...":"Create Event"}),t&&n.jsx("button",{type:"button",onClick:t,className:"px-6 py-3 rounded-lg border border-white/15 text-white font-semibold hover:bg-white/10 transition",children:"Cancel"})]})]})]})})}const Jh=()=>({overview:null,events:null,businesses:null,listings:null,users:null,messages:null}),kr=e=>e instanceof Error?e.message:typeof e=="string"?e:e&&typeof e=="object"&&"message"in e?String(e.message):"Unable to load this section. Please try again.",Q1=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`msg-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,Gh=e=>e.map(t=>{var s,r,i,a;return{id:((r=(s=t==null?void 0:t._id)==null?void 0:s.toString)==null?void 0:r.call(s))||(t==null?void 0:t.id)||Q1(),recipientId:((a=(i=t==null?void 0:t.recipientId)==null?void 0:i.toString)==null?void 0:a.call(i))||(t==null?void 0:t.recipientId)||null,recipientName:(t==null?void 0:t.recipientName)||"Community member",content:(t==null?void 0:t.content)||"",createdAt:(t==null?void 0:t.createdAt)||new Date().toISOString()}}),Y1=["draft","active","inactive"],Zs=e=>{if(!e)return"N/A";const t=typeof e=="string"?new Date(e):e;return Number.isNaN(t.getTime())?"N/A":t.toLocaleString("en-CA",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},X1=e=>e==null?"N/A":new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD"}).format(e),Z1=e=>{if(!e)return"Awaiting sync";const t=e instanceof Date?e:new Date(e);if(Number.isNaN(t.getTime()))return"Unknown";const s=Date.now()-t.getTime();if(s<6e4)return"Just now";if(s<36e5){const r=Math.floor(s/6e4);return`${r} minute${r===1?"":"s"} ago`}if(s<864e5){const r=Math.floor(s/36e5);return`${r} hour${r===1?"":"s"} ago`}return t.toLocaleString("en-CA",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})};function e2({token:e,onLogout:t,onBack:s}){const[r,i]=u.useState(null),[a,o]=u.useState([]),[l,c]=u.useState([]),[d,m]=u.useState([]),[h,x]=u.useState([]),[w,g]=u.useState([]),[v,b]=u.useState([]),[p,f]=u.useState(0),[y,N]=u.useState("overview"),[k,E]=u.useState(null),[C,L]=u.useState(!1),[D,j]=u.useState(null),[P,R]=u.useState(""),[B,A]=u.useState(!1),[K,te]=u.useState(!0),[ae,_]=u.useState(null),[M,U]=u.useState(Jh()),[V,X]=u.useState(null),[he,ie]=u.useState(null),[He,me]=u.useState(null),[Z,ce]=u.useState(null),[ge,ze]=u.useState(!1),[cs,Xt]=u.useState(!1),[Ot,F]=u.useState(!0),[Q,I]=u.useState(!0),[J,re]=u.useState(""),[Te,Pe]=u.useState(!1),[Ce,Ze]=u.useState(null),[q,Se]=u.useState(!1),[T,z]=u.useState({recipientId:"",content:""}),[Y,ee]=u.useState(""),[ke,ve]=u.useState(null),[Lt,ks]=u.useState(!1),[cn,Ld]=u.useState(null),[Dd,Id]=u.useState(!1),po=u.useMemo(()=>Ot?a.filter(S=>S.moderationStatus==="pending"):a,[a,Ot]),xo=u.useMemo(()=>Q?l.filter(S=>S.moderationStatus==="pending"):l,[l,Q]),St=async(S,H={})=>{const fe=await fetch(`${je}${S}`,{...H,headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`,...H.headers||{}}}),de=await fe.json().catch(()=>({}));if(!fe.ok)throw new Error(de.error||"Request failed");return de},Md=S=>{const H=S?`?search=${encodeURIComponent(S)}`:"";return St(`/admin/users${H}`)},Fd=()=>St("/admin/messages"),Bd=()=>St("/admin/messages/inbox"),dn=async()=>{var H,fe;te(!0),_(null),X(null);const S=Jh();try{const[de,_e,we,dt,be,xt,qd]=await Promise.allSettled([St("/admin/overview"),St("/admin/events"),St("/admin/businesses"),St("/admin/marketplace"),Md(),Fd(),Bd()]);if(de.status==="fulfilled"?i(de.value.metrics):(i(null),S.overview=kr(de.reason)),_e.status==="fulfilled"?o(_e.value.events||[]):(o([]),S.events=kr(_e.reason)),we.status==="fulfilled"?m(we.value.businesses||[]):(m([]),S.businesses=kr(we.reason)),dt.status==="fulfilled"?c(dt.value.listings||[]):(c([]),S.listings=kr(dt.reason)),be.status==="fulfilled"?(x(be.value.users||[]),Ze(((H=be.value.pagination)==null?void 0:H.total)??((fe=be.value.users)==null?void 0:fe.length)??null),Pe(!1)):(x([]),Ze(null),S.users=kr(be.reason)),xt.status==="fulfilled"?g(Gh(xt.value.data||[])):(g([]),S.messages=kr(xt.reason)),qd.status==="fulfilled"){const vi=qd.value.data||[];b(vi),f(vi.filter(w0=>!w0.isRead).length)}else b([]),f(0);Ld(new Date);const v0=Object.values(S).every(vi=>!!vi);_(v0?"Failed to load admin data. Please try again.":null)}finally{U(S),te(!1)}},zd=async S=>{var fe,de;const H=S==null?void 0:S.trim();Se(!0),U(_e=>({..._e,users:null}));try{const _e=await Md(H);x(_e.users||[]),Ze(((fe=_e.pagination)==null?void 0:fe.total)??((de=_e.users)==null?void 0:de.length)??null),Pe(!!H)}catch(_e){U(we=>({...we,users:_e.message||"Failed to load community members"}))}finally{Se(!1)}},c0=async S=>{S.preventDefault(),await zd(J)},d0=async()=>{re(""),await zd()},yi=async()=>{try{const H=(await Bd()).data||[];b(H),f(H.filter(fe=>!fe.isRead).length)}catch(S){U(H=>({...H,messages:S.message||"Failed to load admin messages"}))}},bi=async()=>{try{const S=await Fd();g(Gh(S.data||[])),U(H=>({...H,messages:null})),await yi()}catch(S){U(H=>({...H,messages:S.message||"Failed to load admin messages"}))}},$d=async(S,H)=>{L(!0),j(null);try{const fe=await fetch(`${je}/admin/messages/conversation/${S}`,{headers:{Authorization:`Bearer ${e}`}}),de=await fe.json().catch(()=>({}));if(!fe.ok)throw new Error(de.error||"Failed to load conversation");const _e=(de.data||[]).map(we=>{var dt;return{id:we._id||we.id,senderId:typeof we.senderId=="object"&&we.senderId!==null?we.senderId._id||we.senderId.id||"":we.senderId||"",senderName:we.senderName||((dt=we.senderId)==null?void 0:dt.username)||we.recipientName||"Member",content:we.content||"",createdAt:we.createdAt||new Date().toISOString()}});E({userId:S,username:H,messages:_e}),z(we=>({...we,recipientId:S})),await yi()}catch(fe){j(fe.message||"Failed to open conversation"),E(null)}finally{L(!1)}},u0=async S=>{if(S.preventDefault(),!T.recipientId||!T.content.trim()){ve({type:"error",message:"Select a recipient and write a message before sending."});return}ks(!0),ve(null);try{await St("/admin/messages",{method:"POST",body:JSON.stringify({recipientId:T.recipientId,content:T.content.trim()})}),ve({type:"success",message:"Message sent to the member."}),z({recipientId:"",content:""}),await bi()}catch(H){ve({type:"error",message:H.message||"Failed to send the message"})}finally{ks(!1)}},h0=async S=>{if(S.preventDefault(),!Y.trim()){ve({type:"error",message:"Write a message before broadcasting to the community."});return}ks(!0),ve(null);try{await St("/admin/messages/broadcast",{method:"POST",body:JSON.stringify({content:Y.trim()})}),ve({type:"success",message:"Broadcast queued for all community members."}),ee(""),await bi()}catch(H){ve({type:"error",message:H.message||"Failed to broadcast the message"})}finally{ks(!1)}},m0=async S=>{if(S.preventDefault(),!(!k||!P.trim())){A(!0),j(null);try{await St("/admin/messages",{method:"POST",body:JSON.stringify({recipientId:k.userId,content:P.trim()})}),R(""),await bi(),await $d(k.userId,k.username)}catch(H){j(H.message||"Failed to send reply")}finally{A(!1)}}};u.useEffect(()=>{dn()},[e]);const f0=()=>{try{Id(!0);const S={generatedAt:new Date().toISOString(),metrics:r,totals:{events:a.length,listings:l.length,businesses:d.length,members:Ce??h.length},queues:{pendingEvents:(r==null?void 0:r.pendingEvents)??0,pendingListings:(r==null?void 0:r.pendingListings)??0,pendingBusinesses:(r==null?void 0:r.pendingBusinesses)??0}},H=new Blob([JSON.stringify(S,null,2)],{type:"application/json"}),fe=URL.createObjectURL(H),de=document.createElement("a");de.href=fe,de.download=`pomi-admin-snapshot-${Date.now()}.json`,de.click(),URL.revokeObjectURL(fe),X("Snapshot downloaded successfully.")}catch(S){_((S==null?void 0:S.message)||"Failed to export snapshot")}finally{setTimeout(()=>Id(!1),400)}},p0=()=>{N("events"),Xt(!0)},x0=()=>{N("businesses"),ze(!0)},Ud=async(S,H)=>{ie(S),_(null);try{const fe=await St(`/admin/businesses/${S}/status`,{method:"PATCH",body:JSON.stringify(H)});m(de=>de.map(_e=>_e.id===S?{..._e,...fe.business}:_e)),X("Business details updated successfully.")}catch(fe){_(fe.message||"Failed to update business")}finally{ie(null)}},Vd=async(S,H)=>{var fe;me(S),_(null);try{const de=a.find(be=>be.id===S),_e=(de==null?void 0:de.moderationStatus)==="pending";let we;H==="rejected"&&(we=(fe=window.prompt("Share a short note for the organiser? (optional)",""))==null?void 0:fe.trim());const dt=await St(`/admin/events/${S}/status`,{method:"PATCH",body:JSON.stringify({status:H,rejectionReason:we})});o(be=>be.map(xt=>xt.id===S?{...xt,moderationStatus:H,rejectionReason:dt.event.rejectionReason??null,reviewedAt:dt.event.reviewedAt??new Date().toISOString()}:xt)),X(H==="approved"?"Event approved successfully.":"Event rejected successfully."),_e&&i(be=>be&&{...be,pendingEvents:Math.max(0,(be.pendingEvents??0)-1)})}catch(de){_(de.message||"Failed to update event status")}finally{me(null)}},Hd=async(S,H)=>{var fe;ce(S),_(null);try{const de=l.find(be=>be.id===S),_e=(de==null?void 0:de.moderationStatus)==="pending";let we;H==="rejected"&&(we=(fe=window.prompt("Share a short note for the seller? (optional)",""))==null?void 0:fe.trim());const dt=await St(`/admin/marketplace/${S}/status`,{method:"PATCH",body:JSON.stringify({status:H,rejectionReason:we})});c(be=>be.map(xt=>xt.id===S?{...xt,moderationStatus:H,rejectionReason:dt.listing.rejectionReason??null,status:dt.listing.status??xt.status}:xt)),X(H==="approved"?"Listing approved successfully.":"Listing rejected successfully."),_e&&i(be=>be&&{...be,pendingListings:Math.max(0,(be.pendingListings??0)-1)})}catch(de){_(de.message||"Failed to update listing status")}finally{ce(null)}},g0=((r==null?void 0:r.pendingEvents)??0)+((r==null?void 0:r.pendingBusinesses)??0)+((r==null?void 0:r.pendingListings)??0),y0=Z1(cn),b0=[{title:K?"Refreshing data":"Refresh console",description:"Pulls the newest approvals, messages, and metrics.",icon:"",action:dn,disabled:K},{title:"New event review",description:"Jump to approvals and open the event composer.",icon:"",action:p0},{title:"New business listing",description:"Guide entrepreneurs through the verification flow.",icon:"",action:x0},{title:Dd?"Exporting":"Export snapshot",description:"Download a JSON summary for reporting or audits.",icon:"",action:f0,disabled:Dd}],Wd=[{id:"overview",label:"Overview",icon:"",description:"Executive metrics & quick actions."},{id:"marketplace",label:"Marketplace",icon:"",description:"Approve listings & monitor status."},{id:"events",label:"Events",icon:"",description:"Review RSVPs and moderation status."},{id:"businesses",label:"Businesses",icon:"",description:"Create, verify, and publish business listings."},{id:"members",label:"Members",icon:"",description:"Search profiles and manage community roles."},{id:"messaging",label:"Messaging",icon:"",description:"Broadcast announcements and reply to members."}];return n.jsxs("div",{className:"flex min-h-screen bg-slate-950 text-slate-100",children:[n.jsxs("aside",{className:"hidden w-64 flex-col border-r border-white/10 bg-slate-900/80 px-4 py-6 lg:flex",children:[n.jsxs("div",{className:"flex items-center gap-3 px-2",children:[n.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-2xl bg-gradient-to-br from-red-500 via-rose-500 to-orange-500 text-2xl font-black text-white shadow-lg shadow-red-500/40",children:"P"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/60",children:"Admin Console"}),n.jsx("p",{className:"text-sm font-semibold text-white",children:"Pomi Community"})]})]}),n.jsx("nav",{className:"mt-8 flex flex-col gap-2",children:Wd.map(S=>n.jsx("button",{onClick:()=>N(S.id),className:`rounded-2xl border px-3 py-3 text-left transition ${y===S.id?"border-white/25 bg-white/10 text-white shadow-lg shadow-slate-900/30":"border-transparent text-white/70 hover:border-white/10 hover:bg-white/5 hover:text-white"}`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-semibold text-white",children:[S.icon," ",S.label]}),n.jsx("p",{className:"text-xs text-white/60",children:S.description})]}),S.id==="messaging"&&p>0&&n.jsx("span",{className:"rounded-full bg-rose-500/20 px-2 py-0.5 text-[11px] font-semibold text-rose-100",children:p})]})},S.id))}),n.jsxs("div",{className:"mt-auto space-y-3 border-t border-white/10 pt-4",children:[n.jsxs("button",{onClick:()=>{N("messaging"),yi()},className:`flex w-full items-center justify-between rounded-2xl px-3 py-2 text-sm font-semibold transition ${p>0?"bg-rose-500/20 text-rose-100 border border-rose-300/40 shadow-lg shadow-rose-900/20":"border border-white/15 text-white/70 hover:border-white/25 hover:text-white"}`,children:[n.jsx("span",{children:" Member inbox"}),n.jsx("span",{className:"rounded-full bg-white/10 px-2 py-0.5 text-[11px] text-white",children:p>0?`${p} new`:"All clear"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[s&&n.jsx("button",{onClick:s,className:"flex flex-1 items-center justify-center rounded-2xl border border-white/20 px-3 py-2 text-xs font-semibold text-white/80 transition hover:border-white/40 hover:text-white",children:" Back"}),n.jsx("button",{onClick:t,className:"flex flex-1 items-center justify-center rounded-2xl bg-gradient-to-r from-rose-500 via-red-500 to-orange-500 px-3 py-2 text-xs font-semibold text-white shadow-lg shadow-red-500/40 transition hover:-translate-y-0.5",children:"Log out"})]})]})]}),n.jsxs("div",{className:"flex flex-1 flex-col",children:[n.jsx("header",{className:"border-b border-white/10 bg-slate-900/60 px-4 py-4 backdrop-blur sm:px-6 lg:px-10",children:n.jsxs("div",{className:"flex flex-col gap-4",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/60",children:"Pomi Admin  Private"}),n.jsx("h1",{className:"text-2xl font-black text-white",children:"Community safety & marketplace intelligence"}),n.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-3 text-xs text-white/60",children:[n.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/15 px-3 py-1",children:[" Last sync: ",y0]}),n.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/15 px-3 py-1",children:[" Pending approvals: ",g0]})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsxs("label",{className:"flex min-w-[200px] items-center rounded-2xl border border-white/15 bg-white/5 px-3 py-2 text-sm text-white/70",children:[n.jsx("span",{className:"mr-2 text-white/50",children:""}),n.jsx("input",{type:"text",placeholder:"Search workspace",className:"w-full bg-transparent text-sm text-white placeholder:text-white/50 focus:outline-none"})]}),n.jsx("button",{onClick:dn,disabled:K,className:"inline-flex items-center gap-2 rounded-2xl border border-white/20 px-4 py-2 text-xs font-semibold text-white/80 transition hover:border-white/40 hover:text-white disabled:cursor-not-allowed disabled:opacity-60",children:" Refresh"})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-xs text-white/60",children:[n.jsxs("button",{onClick:()=>{N("messaging"),yi()},className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold transition ${p>0?"bg-rose-500/20 text-rose-100 border border-rose-300/40 shadow-lg shadow-rose-900/20":"border border-white/15 text-white/70 hover:border-white/25 hover:text-white"}`,children:[n.jsx("span",{children:" Member inbox"}),n.jsx("span",{className:"rounded-full bg-white/10 px-2 py-0.5 text-[11px] text-white",children:p>0?`${p} new`:"All clear"})]}),n.jsxs("div",{className:"flex gap-2",children:[s&&n.jsx("button",{onClick:s,className:"inline-flex items-center gap-2 rounded-full border border-white/20 px-4 py-2 text-xs font-semibold text-white/80 transition hover:border-white/40 hover:text-white lg:hidden",children:" Back"}),n.jsx("button",{onClick:t,className:"inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-rose-500 via-red-500 to-orange-500 px-4 py-2 text-xs font-semibold text-white shadow-lg shadow-red-500/40 transition hover:-translate-y-0.5 lg:hidden",children:"Log out"})]})]})]})}),n.jsx("div",{className:"border-b border-white/10 bg-slate-950/90 px-4 py-3 lg:hidden",children:n.jsx("div",{className:"flex gap-2 overflow-x-auto",children:Wd.map(S=>n.jsxs("button",{onClick:()=>N(S.id),className:`flex flex-col rounded-2xl px-3 py-2 text-left text-xs font-semibold transition ${y===S.id?"border border-white/20 bg-white/10 text-white":"border border-white/5 bg-transparent text-white/60"}`,children:[n.jsx("span",{children:S.icon}),n.jsx("span",{children:S.label})]},`mobile-${S.id}`))})}),n.jsxs("main",{className:"flex-1 bg-slate-950 px-4 py-8 sm:px-6 lg:px-10",children:[K&&n.jsxs("div",{className:"py-24 text-center text-white/70",children:[n.jsx("div",{className:"mb-6 text-5xl animate-spin",children:""}),"Loading the latest metrics"]}),!K&&ae&&n.jsx("div",{className:"rounded-3xl border border-red-200 bg-red-50/90 px-6 py-4 text-sm font-semibold text-red-700 shadow-lg shadow-red-500/30",children:ae}),!K&&!ae&&n.jsxs("div",{className:"space-y-12",children:[y==="overview"&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:b0.map(S=>n.jsxs("button",{onClick:S.action,disabled:S.disabled,className:"flex flex-col items-start rounded-3xl border border-white/10 bg-white/5 px-5 py-4 text-left shadow-lg shadow-slate-900/30 transition hover:-translate-y-1 hover:border-white/30 disabled:cursor-not-allowed disabled:opacity-70",children:[n.jsx("span",{className:"text-2xl",children:S.icon}),n.jsx("p",{className:"mt-3 text-sm font-semibold text-white",children:S.title}),n.jsx("p",{className:"mt-1 text-xs text-white/70",children:S.description})]},S.title))}),n.jsxs("section",{className:"space-y-6",children:[n.jsx("div",{className:"flex flex-wrap items-center justify-between gap-4",children:n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-black text-white",children:"Executive snapshot"}),n.jsx("p",{className:"text-sm text-white/60",children:"Key health metrics across the marketplace, events, and business directory."})]})}),V&&n.jsx("div",{className:"rounded-3xl border border-emerald-300/40 bg-emerald-500/10 px-6 py-4 text-sm font-semibold text-emerald-200 shadow-lg shadow-emerald-900/30 backdrop-blur",children:V}),M.overview?n.jsx("div",{className:"rounded-3xl border border-rose-300/40 bg-rose-500/10 px-6 py-4 text-sm text-rose-100",children:M.overview}):n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-7",children:[n.jsx(er,{title:"Community Members",value:(r==null?void 0:r.totalUsers)??0,icon:"",accent:"from-red-500 to-orange-500"}),n.jsx(er,{title:"Active Events",value:(r==null?void 0:r.totalEvents)??0,icon:"",accent:"from-orange-500 to-amber-500"}),n.jsx(er,{title:"Business Listings",value:(r==null?void 0:r.totalBusinesses)??0,icon:"",accent:"from-amber-500 to-yellow-500"}),n.jsx(er,{title:"Total RSVPs",value:(r==null?void 0:r.totalRegistrations)??0,icon:"",accent:"from-emerald-500 to-teal-500"}),n.jsx(er,{title:"Pending Businesses",value:(r==null?void 0:r.pendingBusinesses)??0,icon:"",accent:"from-blue-500 to-indigo-500"}),n.jsx(er,{title:"Pending Events",value:(r==null?void 0:r.pendingEvents)??0,icon:"",accent:"from-purple-500 to-violet-500"}),n.jsx(er,{title:"Pending Listings",value:(r==null?void 0:r.pendingListings)??0,icon:"",accent:"from-fuchsia-500 to-pink-500"})]})]})]}),y==="marketplace"&&n.jsxs("section",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"flex items-center gap-2 text-xl font-black text-white",children:[n.jsx("span",{className:"text-2xl",children:""})," Marketplace moderation"]}),n.jsx("p",{className:"text-sm text-white/60",children:"Approve community submissions before they appear in the marketplace feed."})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("label",{className:"inline-flex items-center gap-2 rounded-full border border-white/15 px-3 py-1 text-xs font-semibold text-white/70",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-white/30 bg-transparent text-rose-400 focus:ring-rose-400",checked:Q,onChange:()=>I(S=>!S)}),"Pending only"]}),n.jsx("span",{className:"rounded-full border border-white/15 px-3 py-1 text-xs font-semibold text-white/70",children:Q?`${xo.length} pending`:`${l.length} submissions`})]})]}),M.listings?n.jsx("div",{className:"rounded-3xl border border-rose-300/40 bg-rose-500/10 px-6 py-4 text-sm text-rose-100",children:M.listings}):xo.length===0?n.jsx("div",{className:"rounded-3xl border border-white/10 bg-white/5 px-6 py-10 text-center text-white/70 shadow-lg shadow-slate-900/30 backdrop-blur",children:Q&&l.length>0?"No pending marketplace submissions. Toggle the filter to review approved or rejected posts.":"No marketplace submissions yet. Encourage members to share their listings."}):n.jsx("div",{className:"grid gap-4",children:xo.map(S=>{const H=S.moderationStatus||"approved",fe=H==="rejected",de=H==="approved"?"Approved":H==="pending"?"Pending review":"Rejected",_e=H==="approved"?"bg-emerald-500/15 text-emerald-200 border border-emerald-400/40":H==="pending"?"bg-amber-500/15 text-amber-200 border border-amber-400/40":"bg-rose-500/15 text-rose-200 border border-rose-400/40";return n.jsxs("article",{className:"rounded-3xl border border-white/10 bg-white/5 p-6 shadow-lg shadow-slate-900/40 backdrop-blur transition hover:-translate-y-1",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-xs text-white/70",children:[n.jsx("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 font-semibold uppercase tracking-wide ${_e}`,children:de}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[H!=="approved"&&n.jsx("button",{onClick:()=>Hd(S.id,"approved"),disabled:Z===S.id,className:"inline-flex items-center gap-2 rounded-full border border-emerald-300/40 bg-emerald-500/20 px-3 py-1 text-[11px] font-semibold text-emerald-100 hover:bg-emerald-500/30 disabled:cursor-not-allowed disabled:opacity-60",children:" Approve"}),H!=="rejected"&&n.jsx("button",{onClick:()=>Hd(S.id,"rejected"),disabled:Z===S.id,className:"inline-flex items-center gap-2 rounded-full border border-rose-300/40 bg-rose-500/10 px-3 py-1 text-[11px] font-semibold text-rose-100 hover:bg-rose-500/20 disabled:cursor-not-allowed disabled:opacity-60",children:" Reject"})]})]}),fe&&S.rejectionReason&&n.jsxs("p",{className:"mt-3 rounded-2xl border border-rose-300/30 bg-rose-500/10 px-3 py-2 text-xs text-rose-100",children:["Rejection note: ",S.rejectionReason]}),n.jsxs("div",{className:"mt-4 grid gap-4 md:grid-cols-[1.2fr,1fr]",children:[n.jsxs("div",{className:"space-y-3 text-sm text-white/80",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-lg font-semibold text-white",children:S.title}),n.jsxs("p",{className:"text-sm text-white/60",children:[S.category.toUpperCase(),"  ",S.location]})]}),n.jsx("p",{className:"text-2xl font-black text-white",children:new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD",maximumFractionDigits:0}).format(S.price)}),n.jsxs("p",{className:"text-xs text-white/50",children:["Submitted ",Zs(S.createdAt)]})]}),n.jsxs("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-white/5 p-4 text-xs text-white/70",children:[n.jsx("p",{className:"font-semibold uppercase tracking-[0.3em] text-white/50",children:"Seller"}),S.seller?n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-white",children:S.seller.username||"Member"}),n.jsx("p",{children:S.seller.email||""}),n.jsx("p",{children:[S.seller.area,S.seller.workOrSchool].filter(Boolean).join("  ")||""})]}):n.jsx("p",{children:"No seller details available."})]})]})]},S.id)})})]}),y==="events"&&n.jsxs("section",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"flex items-center gap-2 text-xl font-black text-white",children:[n.jsx("span",{className:"text-2xl",children:""})," Event registrations"]}),n.jsx("p",{className:"text-sm text-white/60",children:"Upcoming gatherings curated by the community team."})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>Xt(!cs),className:"inline-flex items-center gap-2 rounded-full border border-rose-300/40 bg-rose-500/20 px-4 py-2 text-xs font-semibold text-rose-100 hover:bg-rose-500/30",children:cs?" Cancel":"+ Create Event"}),n.jsxs("label",{className:"inline-flex items-center gap-2 rounded-full border border-white/15 px-3 py-1 text-xs font-semibold text-white/70",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-white/30 bg-transparent text-rose-400 focus:ring-rose-400",checked:Ot,onChange:()=>F(S=>!S)}),"Pending only"]}),n.jsx("span",{className:"rounded-full border border-white/15 px-3 py-1 text-xs font-semibold text-white/70",children:Ot?`${po.length} pending`:`${a.length} tracked`})]})]}),cs&&n.jsx("div",{className:"rounded-3xl border border-white/10 bg-white/5 p-6 shadow-lg shadow-slate-900/40 backdrop-blur",children:n.jsx(G1,{onSuccess:()=>{Xt(!1),dn()},onCancel:()=>Xt(!1)})}),M.events?n.jsx("div",{className:"rounded-3xl border border-rose-300/40 bg-rose-500/10 px-6 py-4 text-sm text-rose-100",children:M.events}):po.length===0?n.jsx("div",{className:"rounded-3xl border border-white/10 bg-white/5 px-6 py-10 text-center text-white/70 shadow-lg shadow-slate-900/30 backdrop-blur",children:Ot&&a.length>0?"No pending events right now. Toggle the filter to review approved or rejected submissions.":"No events to review yet. Encourage organisers to submit upcoming meetups."}):n.jsx("div",{className:"grid gap-4",children:po.map(S=>{var we,dt;const H=S.moderationStatus||"approved",fe=H==="rejected",de=H==="approved"?"Approved":H==="pending"?"Pending review":"Rejected",_e=H==="approved"?"bg-emerald-500/15 text-emerald-200 border border-emerald-400/40":H==="pending"?"bg-amber-500/15 text-amber-200 border border-amber-400/40":"bg-rose-500/15 text-rose-200 border border-rose-400/40";return n.jsxs("article",{className:"rounded-3xl border border-white/10 bg-white/5 p-6 shadow-lg shadow-slate-900/40 backdrop-blur transition hover:-translate-y-1",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-xs text-white/70",children:[n.jsx("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 font-semibold uppercase tracking-wide ${_e}`,children:de}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[H!=="approved"&&n.jsx("button",{onClick:()=>Vd(S.id,"approved"),disabled:He===S.id,className:"inline-flex items-center gap-2 rounded-full border border-emerald-300/40 bg-emerald-500/20 px-3 py-1 text-[11px] font-semibold text-emerald-100 hover:bg-emerald-500/30 disabled:cursor-not-allowed disabled:opacity-60",children:" Approve"}),H!=="rejected"&&n.jsx("button",{onClick:()=>Vd(S.id,"rejected"),disabled:He===S.id,className:"inline-flex items-center gap-2 rounded-full border border-rose-300/40 bg-rose-500/10 px-3 py-1 text-[11px] font-semibold text-rose-100 hover:bg-rose-500/20 disabled:cursor-not-allowed disabled:opacity-60",children:" Reject"})]})]}),fe&&S.rejectionReason&&n.jsxs("p",{className:"mt-3 rounded-2xl border border-rose-300/30 bg-rose-500/10 px-3 py-2 text-xs text-rose-100",children:["Rejection note: ",S.rejectionReason]}),S.image&&n.jsx("div",{className:"mt-4 overflow-hidden rounded-2xl border border-white/10 bg-black/20",children:n.jsx("img",{src:S.image,alt:`${S.title} cover`,className:"h-56 w-full object-cover"})}),n.jsxs("div",{className:"mt-4 grid gap-6 lg:grid-cols-[1.2fr,1fr]",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("dl",{className:"grid gap-3 text-sm text-white/80",children:[n.jsxs("div",{children:[n.jsx("dt",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/50",children:"Title"}),n.jsx("dd",{className:"text-lg font-semibold text-white",children:S.title})]}),n.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-white/60",children:[n.jsx("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/20 px-3 py-1",children:S.category.toUpperCase()}),n.jsx("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/20 px-3 py-1",children:Zs(S.date)}),n.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/20 px-3 py-1",children:[" ",S.location]})]}),(S.startTime||S.endTime||S.maxAttendees)&&n.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-white/70",children:[(S.startTime||S.endTime)&&n.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/20 px-3 py-1",children:[" ",S.startTime??"TBD",S.endTime?`  ${S.endTime}`:""]}),S.maxAttendees?n.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/20 px-3 py-1",children:[" Max ",S.maxAttendees]}):null]}),n.jsxs("div",{children:[n.jsx("dt",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/50",children:"Organiser"}),n.jsxs("dd",{className:"text-sm text-white/80",children:[((we=S.organizerProfile)==null?void 0:we.username)||S.organizer,((dt=S.organizerProfile)==null?void 0:dt.email)&&n.jsxs("span",{className:"text-white/50",children:[" "," ",S.organizerProfile.email]})]})]}),S.description&&n.jsxs("div",{children:[n.jsx("dt",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/50",children:"Description"}),n.jsx("dd",{className:"text-sm text-white/70 whitespace-pre-line",children:S.description})]})]}),S.tags&&S.tags.length>0&&n.jsx("div",{className:"flex flex-wrap gap-2 text-[11px] text-white/60",children:S.tags.map(be=>n.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/20 px-3 py-1 uppercase tracking-wide",children:["#",be]},be))})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-white/5 p-4 text-sm text-white/80",children:[n.jsxs("div",{className:"flex items-center justify-between text-white",children:[n.jsx("span",{children:"Pricing"}),n.jsx("span",{className:"font-semibold",children:S.isFree||!S.price&&S.price!==0?"Free":X1(S.price)})]}),typeof S.maxAttendees=="number"&&n.jsxs("div",{className:"flex items-center justify-between text-xs text-white/70",children:[n.jsx("span",{children:"Capacity"}),n.jsx("span",{children:S.maxAttendees})]}),S.ticketLink&&n.jsx("a",{href:S.ticketLink,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white/80 hover:border-emerald-300/60 hover:text-emerald-100",children:" Ticket link"}),S.socialMediaLink&&n.jsx("a",{href:S.socialMediaLink,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-white/20 px-3 py-1 text-xs font-semibold text-white/80 hover:border-sky-300/60 hover:text-sky-100",children:" Promo link"})]}),n.jsxs("div",{className:"space-y-4 rounded-2xl border border-white/10 bg-white/5 p-4",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm font-semibold text-white",children:[n.jsxs("span",{children:[S.attendeeCount," RSVP"]}),S.attendeeCount===0&&n.jsx("span",{className:"text-xs text-white/60",children:"Encourage more promotion"})]}),S.attendees.length>0?n.jsx("div",{className:"max-h-40 overflow-y-auto rounded-xl border border-white/10 bg-white/5",children:n.jsx("table",{className:"w-full text-left text-xs text-white/80",children:n.jsx("tbody",{children:S.attendees.map((be,xt)=>n.jsxs("tr",{className:"border-b border-white/10 last:border-b-0",children:[n.jsx("td",{className:"px-4 py-2 font-semibold text-white",children:be.username||"Member"}),n.jsx("td",{className:"px-4 py-2 text-white/60",children:be.email||""}),n.jsx("td",{className:"px-4 py-2 text-white/60",children:[be.area,be.workOrSchool].filter(Boolean).join("  ")||""})]},`${be.id??xt}`))})})}):n.jsx("p",{className:"text-xs text-white/60",children:"No RSVP data yet."})]})]})]})]},S.id)})})]}),y==="businesses"&&n.jsxs("section",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"flex items-center gap-2 text-xl font-black text-white",children:[n.jsx("span",{className:"text-2xl",children:""})," Business directory management"]}),n.jsx("p",{className:"text-sm text-white/60",children:"Approve listings, verify ownership, and track traction."})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>ze(!ge),className:"inline-flex items-center gap-2 rounded-full border border-rose-300/40 bg-rose-500/20 px-4 py-2 text-xs font-semibold text-rose-100 hover:bg-rose-500/30",children:ge?" Cancel":"+ Add Business"}),n.jsxs("span",{className:"rounded-full border border-white/15 px-3 py-1 text-xs font-semibold text-white/70",children:[d.length," submissions"]})]})]}),ge&&n.jsx("div",{className:"rounded-3xl border border-white/10 bg-white/5 p-6 shadow-lg shadow-slate-900/40 backdrop-blur",children:n.jsx(K1,{authToken:e,onSuccess:()=>{ze(!1),dn()},onCancel:()=>ze(!1)})}),M.businesses?n.jsx("div",{className:"rounded-3xl border border-rose-300/40 bg-rose-500/10 px-6 py-4 text-sm text-rose-100",children:M.businesses}):d.length===0?n.jsx("div",{className:"rounded-3xl border border-white/10 bg-white/5 px-6 py-10 text-center text-white/70 shadow-lg shadow-slate-900/30 backdrop-blur",children:"No business listings yet. They will appear here once submitted."}):n.jsx("div",{className:"grid gap-4",children:d.map(S=>n.jsx("article",{className:"rounded-3xl border border-white/10 bg-white/5 p-6 shadow-lg shadow-slate-900/40 backdrop-blur transition hover:-translate-y-1",children:n.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.2fr,1fr,1fr]",children:[n.jsxs("dl",{className:"space-y-3 text-sm text-white/80",children:[n.jsxs("div",{children:[n.jsx("dt",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/50",children:"Business name"}),n.jsx("dd",{className:"text-lg font-semibold text-white",children:S.businessName})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-white/60",children:[n.jsx("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/20 px-3 py-1",children:S.category}),n.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/20 px-3 py-1",children:["Submitted ",Zs(S.createdAt||void 0)]})]}),S.owner&&n.jsxs("div",{children:[n.jsx("dt",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/50",children:"Owner"}),n.jsxs("dd",{className:"text-sm text-white/80",children:[S.owner.username,S.owner.email&&n.jsxs("span",{className:"text-white/50",children:["  ",S.owner.email]})]})]})]}),n.jsxs("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-white/5 p-4",children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/50",children:"Listing status"}),n.jsx("select",{value:S.status,onChange:H=>Ud(S.id,{status:H.target.value}),disabled:he===S.id||K,className:"w-full rounded-xl border border-white/20 bg-slate-950/40 px-3 py-2 text-sm font-semibold text-white/80 focus:border-rose-400 focus:outline-none focus:ring-2 focus:ring-rose-400/30",children:Y1.map(H=>n.jsx("option",{value:H,children:H.charAt(0).toUpperCase()+H.slice(1)},H))})]}),n.jsxs("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-white/5 p-4",children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/50",children:"Verification"}),n.jsx("button",{onClick:()=>Ud(S.id,{verified:!S.verified}),disabled:he===S.id||K,className:`w-full rounded-xl px-4 py-2 text-sm font-semibold transition ${S.verified?"bg-emerald-500/20 text-emerald-200 hover:bg-emerald-500/30":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:S.verified?"Verified":"Mark as verified"})]})]})},S.id))})]}),y==="members"&&n.jsxs("section",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"flex items-center gap-2 text-xl font-black text-white",children:[n.jsx("span",{className:"text-2xl",children:""})," Community members"]}),n.jsx("p",{className:"text-sm text-white/60",children:"Manage and view all registered community members."})]}),n.jsx("span",{className:"rounded-full border border-white/15 px-3 py-1 text-xs font-semibold text-white/70",children:Te?`${h.length} matching ${h.length===1?"member":"members"}`:Ce?`${h.length} of ${Ce} members`:`${h.length} members`})]}),n.jsxs("form",{onSubmit:c0,className:"flex flex-wrap items-center gap-3",children:[n.jsx("input",{type:"search",value:J,onChange:S=>re(S.target.value),placeholder:"Search by name, email, or area",className:"w-full max-w-sm rounded-2xl border border-white/15 bg-white/90 px-4 py-2 text-sm text-slate-900 placeholder:text-slate-500 focus:border-rose-300 focus:outline-none focus:ring-2 focus:ring-rose-200/40"}),n.jsx("button",{type:"submit",disabled:q,className:"rounded-2xl border border-white/20 px-4 py-2 text-xs font-semibold text-white/80 transition hover:border-white/40 hover:text-white disabled:cursor-not-allowed disabled:opacity-60",children:q?"Searching":"Search"}),n.jsx("button",{type:"button",disabled:q||!Te&&!J,onClick:()=>void d0(),className:"rounded-2xl border border-white/20 px-4 py-2 text-xs font-semibold text-white/80 transition hover:border-white/40 hover:text-white disabled:cursor-not-allowed disabled:opacity-60",children:"Reset"})]}),M.users?n.jsx("div",{className:"rounded-3xl border border-rose-300/40 bg-rose-500/10 px-6 py-4 text-sm text-rose-100",children:M.users}):h.length===0?n.jsx("div",{className:"rounded-3xl border border-white/10 bg-white/5 px-6 py-10 text-center text-white/70 shadow-lg shadow-slate-900/30 backdrop-blur",children:Te?"No members matched this search. Try another term or reset the filter.":"No community members yet."}):n.jsx("div",{className:"overflow-x-auto rounded-3xl border border-white/10 bg-white/5 shadow-lg shadow-slate-900/40 backdrop-blur",children:n.jsxs("table",{className:"w-full text-sm text-white/80",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-white/10",children:[n.jsx("th",{className:"px-6 py-4 text-left font-semibold text-white",children:"Username"}),n.jsx("th",{className:"px-6 py-4 text-left font-semibold text-white",children:"Email"}),n.jsx("th",{className:"px-6 py-4 text-left font-semibold text-white",children:"Area"}),n.jsx("th",{className:"px-6 py-4 text-left font-semibold text-white",children:"Work/School"}),n.jsx("th",{className:"px-6 py-4 text-left font-semibold text-white",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-left font-semibold text-white",children:"Joined"})]})}),n.jsx("tbody",{children:h.map((S,H)=>n.jsxs("tr",{className:`border-b border-white/10 last:border-b-0 ${H%2===0?"bg-white/2":""}`,children:[n.jsx("td",{className:"px-6 py-4 font-semibold text-white",children:S.username}),n.jsx("td",{className:"px-6 py-4",children:S.email}),n.jsx("td",{className:"px-6 py-4",children:S.area||""}),n.jsx("td",{className:"px-6 py-4",children:S.workOrSchool||""}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${S.isAdmin?"bg-purple-500/20 text-purple-200 border border-purple-400/40":"bg-emerald-500/20 text-emerald-200 border border-emerald-400/40"}`,children:S.isAdmin?" Admin":"Member"})}),n.jsx("td",{className:"px-6 py-4 text-white/60",children:Zs(S.joinedAt)})]},S.id))})]})})]}),y==="messaging"&&n.jsxs("section",{className:"space-y-5",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"flex items-center gap-2 text-xl font-black text-white",children:[n.jsx("span",{className:"text-2xl",children:""})," Admin messaging"]}),n.jsx("p",{className:"text-sm text-white/60",children:"Send quick updates to members or broadcast announcements to the entire community."})]}),n.jsx("button",{onClick:()=>void bi(),className:"inline-flex items-center gap-2 rounded-full border border-white/20 px-4 py-2 text-xs font-semibold text-white/80 transition hover:border-white/40 hover:text-white",children:" Refresh history"})]}),ke&&n.jsx("div",{className:`rounded-2xl border px-4 py-3 text-sm ${ke.type==="error"?"border-rose-300/40 bg-rose-500/10 text-rose-100":"border-emerald-300/40 bg-emerald-500/10 text-emerald-100"}`,children:ke.message}),M.messages&&n.jsx("div",{className:"rounded-2xl border border-rose-300/40 bg-rose-500/10 px-4 py-3 text-sm text-rose-100",children:M.messages}),n.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[n.jsxs("form",{onSubmit:u0,className:"space-y-4 rounded-3xl border border-white/10 bg-white/5 p-6 text-sm text-white/70 shadow-lg shadow-slate-900/40 backdrop-blur",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/50",children:"Direct message"}),n.jsx("p",{children:"Reach out to an individual member with guidance or reminders."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/50",children:"Recipient"}),n.jsxs("select",{value:T.recipientId,onChange:S=>z(H=>({...H,recipientId:S.target.value})),disabled:Lt||h.length===0,className:"w-full rounded-2xl border border-white/20 bg-slate-950/40 px-3 py-2 text-sm font-semibold text-white/80 focus:border-rose-400 focus:outline-none focus:ring-2 focus:ring-rose-400/30 disabled:cursor-not-allowed disabled:opacity-60",children:[n.jsx("option",{value:"",children:"Select community member"}),h.map(S=>n.jsxs("option",{value:S.id,children:[S.username,"  ",S.email]},S.id))]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/50",children:"Message"}),n.jsx("textarea",{value:T.content,onChange:S=>z(H=>({...H,content:S.target.value})),placeholder:"Share reminders, approvals, or follow-ups",rows:4,className:"w-full rounded-2xl border border-white/20 bg-white/90 px-4 py-3 text-sm text-slate-900 placeholder:text-slate-500 focus:border-rose-300 focus:outline-none focus:ring-2 focus:ring-rose-200/40"})]}),n.jsx("button",{type:"submit",disabled:Lt||h.length===0||!T.recipientId||!T.content.trim(),className:"w-full rounded-2xl bg-gradient-to-r from-red-500 via-rose-500 to-orange-500 px-4 py-2 text-sm font-semibold text-white shadow-lg shadow-rose-500/40 transition hover:-translate-y-0.5 disabled:cursor-not-allowed disabled:opacity-60",children:Lt?"Sending":"Send message"})]}),n.jsxs("form",{onSubmit:h0,className:"space-y-4 rounded-3xl border border-white/10 bg-white/5 p-6 text-sm text-white/70 shadow-lg shadow-slate-900/40 backdrop-blur",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/50",children:"Broadcast update"}),n.jsx("p",{children:"Send a short announcement to every member inbox."})]}),n.jsx("textarea",{value:Y,onChange:S=>ee(S.target.value),placeholder:"Example: Marketplace maintenance tonight at 8pm",rows:6,className:"w-full rounded-2xl border border-white/20 bg-white/90 px-4 py-3 text-sm text-slate-900 placeholder:text-slate-500 focus:border-rose-300 focus:outline-none focus:ring-2 focus:ring-rose-200/40"}),n.jsx("button",{type:"submit",disabled:Lt||!Y.trim(),className:"w-full rounded-2xl border border-white/20 px-4 py-2 text-sm font-semibold text-white/80 transition hover:border-white/40 hover:text-white disabled:cursor-not-allowed disabled:opacity-60",children:Lt?"Broadcasting":"Broadcast to all members"})]})]}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-[320px,1fr]",children:[n.jsxs("div",{className:"rounded-3xl border border-white/10 bg-white/5 p-6 text-white shadow-lg shadow-slate-900/40 backdrop-blur",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("h4",{className:"font-semibold text-white",children:"Messages from members"}),n.jsxs("span",{className:"text-xs text-white/60",children:[v.length," total"]})]}),v.length===0?n.jsx("p",{className:"mt-4 text-sm text-white/60",children:"No messages from users yet. Members can reach you through their home inbox."}):n.jsx("ul",{className:"mt-4 space-y-3",children:v.map(S=>{var de;const H=typeof S.senderId=="object"&&S.senderId!==null?S.senderId._id||S.senderId.id||"":S.senderId||"",fe=((de=S.senderId)==null?void 0:de.username)||S.senderName||"Community member";return n.jsxs("li",{className:`rounded-2xl border px-3 py-3 text-sm transition ${(k==null?void 0:k.userId)===H?"border-white/40 bg-white/10":"border-white/10 bg-white/0 hover:border-white/20 hover:bg-white/5"}`,children:[n.jsxs("div",{className:"flex items-center justify-between gap-2 text-xs text-white/60",children:[n.jsx("span",{className:"font-semibold text-white",children:fe}),n.jsx("span",{children:Zs(S.createdAt)})]}),n.jsx("p",{className:"mt-2 text-white/80 line-clamp-2",children:S.content}),n.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[n.jsx("button",{type:"button",onClick:()=>void $d(H,fe),className:"text-xs font-semibold text-white/80 transition hover:text-white",children:"View conversation "}),!S.isRead&&n.jsx("span",{className:"inline-flex items-center rounded-full bg-amber-500/20 px-2 py-1 text-[11px] font-semibold text-amber-200",children:"Unread"})]})]},S._id||S.id)})})]}),n.jsxs("div",{className:"rounded-3xl border border-white/10 bg-white/5 p-6 text-white shadow-lg shadow-slate-900/40 backdrop-blur",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("h4",{className:"font-semibold text-white",children:k?k.username:"Select a conversation"}),k&&n.jsxs("span",{className:"text-xs text-white/60",children:[k.messages.length," message",k.messages.length===1?"":"s"]})]}),D&&n.jsx("div",{className:"mt-4 rounded-2xl border border-rose-300/40 bg-rose-500/10 px-4 py-2 text-xs text-rose-100",children:D}),C?n.jsx("div",{className:"flex min-h-[200px] items-center justify-center text-white/70",children:"Loading conversation"}):k?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"mt-4 max-h-80 space-y-3 overflow-y-auto pr-2",children:k.messages.map(S=>{const H=S.senderId===k.userId;return n.jsx("div",{className:`flex ${H?"justify-start":"justify-end"}`,children:n.jsxs("div",{className:`max-w-[85%] rounded-2xl border px-4 py-3 text-sm ${H?"border-white/10 bg-white/10 text-white":"border-emerald-400/30 bg-emerald-500/20 text-emerald-50"}`,children:[n.jsx("div",{className:"text-xs font-semibold",children:H?k.username:"Admin team"}),n.jsx("p",{className:"mt-1 whitespace-pre-line text-white/90",children:S.content}),n.jsx("p",{className:"mt-2 text-[11px] text-white/60",children:Zs(S.createdAt)})]})},S.id)})}),n.jsxs("form",{onSubmit:m0,className:"mt-4 space-y-2",children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/50",children:"Quick reply"}),n.jsx("textarea",{value:P,onChange:S=>R(S.target.value),rows:3,placeholder:`Reply to ${k.username}`,className:"w-full rounded-2xl border border-white/20 bg-slate-950/40 px-3 py-2 text-sm text-white placeholder:text-white/50 focus:border-rose-400 focus:outline-none focus:ring-2 focus:ring-rose-300/40"}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"submit",disabled:B||!P.trim(),className:"inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-red-500 via-rose-500 to-orange-500 px-4 py-2 text-xs font-semibold text-white shadow-lg shadow-rose-500/40 transition hover:-translate-y-0.5 disabled:cursor-not-allowed disabled:opacity-60",children:B?"Sending":"Send reply"})})]})]}):n.jsx("p",{className:"mt-4 text-sm text-white/60",children:"Select a member from the list to view the conversation history and respond."})]})]}),n.jsxs("div",{className:"rounded-3xl border border-white/10 bg-white/5 p-6 shadow-lg shadow-slate-900/40 backdrop-blur",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[n.jsx("h4",{className:"text-lg font-semibold text-white",children:"Recent admin messages"}),n.jsxs("span",{className:"text-xs text-white/60",children:["Showing ",Math.min(w.length,8)," of ",w.length]})]}),w.length===0?n.jsx("p",{className:"mt-4 text-sm text-white/60",children:"No admin messages yet. Use the tools above to send your first update."}):n.jsx("ul",{className:"mt-4 space-y-3",children:w.slice(0,8).map(S=>n.jsxs("li",{className:"rounded-2xl border border-white/10 bg-white/5 p-3 text-white/80",children:[n.jsxs("div",{className:"flex items-center justify-between text-xs text-white/60",children:[n.jsx("span",{children:S.recipientName||"Community member"}),n.jsx("span",{children:Zs(S.createdAt)})]}),n.jsx("p",{className:"mt-2 text-sm text-white/80",children:S.content})]},S.id))})]})]})]})]})]})]})}function er({title:e,value:t,icon:s,accent:r}){return n.jsxs("div",{className:`rounded-3xl border border-white/15 bg-gradient-to-br ${r} p-5 text-white shadow-lg shadow-slate-900/40`,children:[n.jsx("div",{className:"inline-flex h-12 w-12 items-center justify-center rounded-2xl bg-white/15 text-2xl",children:s}),n.jsx("p",{className:"mt-4 text-xs font-semibold uppercase tracking-[0.3em] text-white/70",children:e}),n.jsx("p",{className:"text-3xl font-black",children:t})]})}const t2="bg-gradient-to-br from-rose-50 via-white to-amber-50 text-slate-900 min-h-screen flex flex-col",Nn="support@pomi.community",kn="adminAuthToken",Sr="adminUserData";function s2(){const[e,t]=u.useState(!1),[s,r]=u.useState(null),[i,a]=u.useState(null),[o,l]=u.useState(()=>typeof window>"u"?null:localStorage.getItem(kn)),[c,d]=u.useState(()=>{if(typeof window>"u")return null;try{const k=localStorage.getItem(Sr);return k?JSON.parse(k):null}catch{return null}}),[m,h]=u.useState(!!(o&&(c!=null&&c.isAdmin))),[x,w]=u.useState({email:"",password:""}),g=u.useMemo(()=>o,[o]),v=[{icon:"",title:"Single credential control",body:"Only one admin identity is active at a time. Every action is traceable."},{icon:"",title:"Audit-ready logging",body:"Marketplace approvals, messages, and deletions are stored for compliance reviews."},{icon:"",title:"Operations handbook",body:"Credential rotation and escalation steps live in the internal handbook."},{icon:"",title:"Two-person integrity",body:"Credential resets require the community lead plus one core maintainer."}],b=["Always log out after moderating from a shared machine.","Rotate the admin password immediately after large campaigns or incidents.","Use the admin inbox to notify membersavoid personal email threads.",`Escalate suspicious access attempts to ${Nn}.`],p=[{step:"01",title:"Credential rotation",detail:"Planned quarterly. Emergency rotations can be triggered sooner."},{step:"02",title:"Marketplace audit",detail:"Weekly review of pending listings, businesses, and events."},{step:"03",title:"Comms sync",detail:"Broadcast safety or celebration notes via the admin messaging hub."}];u.useEffect(()=>{if(!o){d(null),h(!1);return}const k=new AbortController;return fetch(`${je}/auth/me`,{headers:{Authorization:`Bearer ${o}`},signal:k.signal}).then(async E=>{var L;if(!E.ok)throw new Error("Session expired");const C=await E.json();d(C.user),h(!!((L=C.user)!=null&&L.isAdmin)),localStorage.setItem(Sr,JSON.stringify(C.user))}).catch(()=>{localStorage.removeItem(kn),localStorage.removeItem(Sr),l(null),d(null),h(!1)}),()=>k.abort()},[o]);const f=()=>{r(null),a(null)},y=()=>{localStorage.removeItem(kn),localStorage.removeItem(Sr),l(null),d(null),h(!1),a("You have been signed out of the admin console.")},N=async k=>{k.preventDefault(),f(),t(!0);try{const E=await se.adminLogin({email:x.email.trim(),password:x.password});if(localStorage.setItem(kn,E.token),localStorage.setItem(Sr,JSON.stringify(E.user)),l(E.token),d(E.user),!E.user.isAdmin){r("Access denied. Only the designated admin credential can open the console. Please contact the community lead if you need assistance."),localStorage.removeItem(kn),localStorage.removeItem(Sr),l(null),d(null);return}h(!0),a("Welcome back! Launching the admin console")}catch(E){r(E.message||"Admin login failed. Confirm you are using the shared credential from the operations handbook.")}finally{t(!1)}};return m&&g?n.jsx(e2,{token:g,onBack:()=>{h(!1),a("Admin console closed. You can reopen it anytime.")},onLogout:y}):n.jsxs("div",{className:`${t2} relative overflow-hidden`,children:[n.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[n.jsx("div",{className:"absolute -left-12 top-6 h-60 w-60 rounded-full bg-rose-500/25 blur-3xl"}),n.jsx("div",{className:"absolute bottom-0 right-0 h-72 w-72 rounded-full bg-orange-500/15 blur-3xl"})]}),n.jsx("header",{className:"relative border-b border-slate-200/70 bg-white/80 backdrop-blur",children:n.jsxs("div",{className:"mx-auto flex max-w-6xl items-center justify-between gap-4 px-6 py-5 text-slate-900",children:[n.jsx(ne,{to:"/",className:"inline-flex items-center gap-2 rounded-full border border-slate-200/70 bg-white px-4 py-2 text-sm font-semibold text-slate-700 transition hover:border-slate-300 hover:bg-white",children:" Back to Pomi"}),n.jsxs("div",{className:"text-xs text-slate-500",children:["Operations desk:"," ",n.jsx("a",{href:`mailto:${Nn}`,className:"font-semibold text-rose-600 underline decoration-rose-200 underline-offset-4",children:Nn})]})]})}),n.jsx("main",{className:"relative mx-auto flex-1 px-6 py-12 text-slate-900",children:n.jsxs("div",{className:"mx-auto grid w-full max-w-6xl gap-8 lg:grid-cols-[1.15fr,0.85fr]",children:[n.jsxs("section",{className:"space-y-8 rounded-[32px] border border-slate-200 bg-white/95 p-8 shadow-2xl",children:[n.jsxs("div",{children:[n.jsx("p",{className:"inline-flex items-center gap-2 rounded-full border border-rose-100 bg-rose-50 px-4 py-1 text-[11px] font-semibold uppercase tracking-[0.4em] text-rose-500",children:"Admin cockpit  Trusted access only"}),n.jsx("h1",{className:"mt-4 text-3xl font-black md:text-4xl",children:"Professional-grade console for Pomi operations."}),n.jsx("p",{className:"mt-3 text-sm text-slate-600 md:text-base",children:"Approvals, escalations, and community broadcasts are all handled within this secure interface. The credential is distributed via the operations handbook and rotates every quarteror sooner if a security incident occurs."})]}),n.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:v.map(k=>n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 text-sm text-slate-600 shadow-lg shadow-slate-200",children:[n.jsx("div",{className:"text-2xl",children:k.icon}),n.jsx("p",{className:"mt-3 text-base font-semibold text-slate-900",children:k.title}),n.jsx("p",{className:"mt-2 text-xs leading-relaxed text-slate-600",children:k.body})]},k.title))}),n.jsxs("div",{className:"space-y-4 rounded-3xl border border-slate-200 bg-white p-6 shadow-lg shadow-slate-200",children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.4em] text-slate-500",children:"Operations rhythm"}),n.jsx("div",{className:"space-y-4",children:p.map(k=>n.jsxs("div",{className:"flex gap-4 rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3",children:[n.jsx("div",{className:"text-2xl font-black text-slate-400",children:k.step}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-slate-900",children:k.title}),n.jsx("p",{className:"text-xs text-slate-600",children:k.detail})]})]},k.step))})]})]}),n.jsxs("section",{className:"space-y-6",children:[n.jsxs("div",{className:"rounded-[32px] border border-white/10 bg-white/95 p-8 text-slate-900 shadow-2xl",children:[n.jsxs("div",{className:"space-y-1 text-center",children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.4em] text-slate-500",children:"Secure login"}),n.jsx("h2",{className:"text-2xl font-black text-slate-900",children:"Unlock the admin console"}),n.jsx("p",{className:"text-sm text-slate-500",children:"Use the credential from the operations handbook. Sessions automatically expire after inactivity."})]}),s&&n.jsx("div",{className:"mt-4 rounded-2xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700",children:s}),i&&n.jsx("div",{className:"mt-4 rounded-2xl border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm text-emerald-700",children:i}),n.jsxs("form",{onSubmit:N,className:"mt-6 space-y-5",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-slate-500",children:"Admin email"}),n.jsx("input",{type:"email",autoComplete:"username",required:!0,value:x.email,onChange:k=>w(E=>({...E,email:k.target.value})),placeholder:"admin@pomi.community",className:"mt-2 w-full rounded-2xl border border-slate-200 px-4 py-3 text-sm shadow-inner focus:border-rose-400 focus:outline-none focus:ring-2 focus:ring-rose-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-slate-500",children:"Password"}),n.jsx("input",{type:"password",autoComplete:"current-password",required:!0,value:x.password,onChange:k=>w(E=>({...E,password:k.target.value})),placeholder:"Enter admin password",className:"mt-2 w-full rounded-2xl border border-slate-200 px-4 py-3 text-sm shadow-inner focus:border-rose-400 focus:outline-none focus:ring-2 focus:ring-rose-100"})]}),n.jsx("button",{type:"submit",disabled:e,className:"w-full rounded-2xl bg-gradient-to-r from-red-500 via-rose-500 to-orange-500 px-6 py-3 text-sm font-semibold text-white shadow-lg shadow-rose-500/40 transition hover:-translate-y-0.5 disabled:cursor-not-allowed disabled:opacity-60",children:e?"Signing in":"Access admin console"}),n.jsxs("p",{className:"text-center text-xs text-slate-500",children:["Problems signing in? Email"," ",n.jsx("a",{href:`mailto:${Nn}`,className:"font-semibold text-rose-500 underline decoration-rose-200 underline-offset-4",children:Nn})]})]})]}),n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white/95 p-6 shadow-xl",children:[n.jsx("h3",{className:"text-sm font-semibold uppercase tracking-[0.3em] text-slate-600",children:"Security reminders"}),n.jsx("ul",{className:"mt-4 space-y-3 text-sm text-slate-600",children:b.map(k=>n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"text-lg",children:""}),n.jsx("span",{children:k})]},k))})]})]})]})})]})}const r2=e=>e.map(t=>({...t,status:"sent"})),n2=e=>e==null?"":new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD"}).format(e),Qh=e=>{if(!e)return"";const t=typeof e=="string"?new Date(e):e;if(!t||Number.isNaN(t.getTime()))return"";const s=Date.now()-t.getTime();return s<6e4?"just now":s<36e5?`${Math.floor(s/6e4)}m ago`:s<864e5?`${Math.floor(s/36e5)}h ago`:t.toLocaleDateString(void 0,{month:"short",day:"numeric"})};function i2({currentUserId:e,currentUserName:t}){var Q;const[s,r]=u.useState([]),[i,a]=u.useState(""),[o,l]=u.useState(null),[c,d]=u.useState([]),[m,h]=u.useState(""),[x,w]=u.useState(!1),[g,v]=u.useState(""),[b,p]=u.useState(!1),[f,y]=u.useState(new Set),[N,k]=u.useState(!0),[E,C]=u.useState(""),[L,D]=u.useState(null),[j,P]=u.useState([]),[R,B]=u.useState(0),[A,K]=u.useState(null),[te,ae]=u.useState(!1),[_,M]=u.useState(""),U=u.useRef(null),V=u.useRef(),X=u.useRef(null),he=u.useMemo(()=>{if(j.length===0)return null;const J=[...j].sort((re,Te)=>new Date(Te.createdAt).getTime()-new Date(re.createdAt).getTime())[0];return{userId:"admin-team",userName:"Admin Team",lastMessage:(J==null?void 0:J.content)||"Welcome to Pomi!",lastMessageTime:(J==null?void 0:J.createdAt)||new Date().toISOString(),unreadCount:R,hasListing:!1,lastListingId:null,isAdminConversation:!0}},[j,R]),ie=u.useMemo(()=>{const I=i.trim().toLowerCase();let J=he?[he,...s]:s;return I?J.filter(re=>{var Ce,Ze;const Te=((Ce=re.userName)==null?void 0:Ce.toLowerCase())||"",Pe=((Ze=re.lastMessage)==null?void 0:Ze.toLowerCase())||"";return Te.includes(I)||Pe.includes(I)}):J},[i,s,he]),He=u.useCallback(async()=>{try{const J=(await Ye.get("/messages/admin/inbox")).data.data||[];P(J);const re=J.filter(Te=>!Te.isRead&&Te.isAdminMessage).length;B(re)}catch(I){console.error("Failed to fetch admin messages:",I),P([]),B(0)}},[]),me=u.useCallback(async()=>{try{k(!0);const[I]=await Promise.all([Ye.get("/messages"),He()]);r(I.data.data),C("")}catch(I){console.error("Failed to fetch conversations:",I),C("Failed to load conversations")}finally{k(!1)}},[He]),Z=u.useCallback(async(I,J)=>{try{ae(!0),M(""),K({conversationId:J,listingId:I});const re=await Ye.get(`/marketplace/listings/${I}`);if(X.current!==J)return;D(re.data.data)}catch(re){console.error("Failed to fetch listing details:",re),X.current===J&&(M("Unable to load listing details right now"),D(null),K(null))}finally{X.current===J&&ae(!1)}},[]);u.useEffect(()=>{Le.connect(e);const I=q=>{const Se=q==null?void 0:q.senderId,T=(q==null?void 0:q.timestamp)||new Date().toISOString(),z=!!o&&Se===(o==null?void 0:o.userId);if(z&&Se&&o){const ee=o.userName;d(ke=>{const ve=((q==null?void 0:q._id)||(q==null?void 0:q.id)||jc()).toString(),Lt=(q==null?void 0:q.clientMessageId)||null;return ke.some(cn=>cn._id===ve||!!Lt&&cn.clientMessageId===Lt)?ke:[...ke,{_id:ve,clientMessageId:Lt,senderId:Se,senderName:ee,content:(q==null?void 0:q.content)??"",createdAt:T,isRead:!0,listingId:q==null?void 0:q.listingId,status:"sent"}]})}let Y=!1;r(ee=>{const ke=ee.some(ve=>ve.userId===Se);return Y=ke,!ke||!Se?ee:ee.map(ve=>ve.userId===Se?{...ve,lastMessage:(q==null?void 0:q.content)??"",lastMessageTime:T,unreadCount:z?0:ve.unreadCount+1,hasListing:ve.hasListing||!!(q!=null&&q.listingId),lastListingId:(q==null?void 0:q.listingId)||ve.lastListingId}:ve)}),Y||me(),z&&(q!=null&&q.listingId)&&o&&(!A||A.conversationId!==o.userId||A.listingId!==q.listingId)&&Z(q.listingId,o.userId)},J=q=>{o&&q.userId===o.userId&&p(!0)},re=q=>{o&&q.userId===o.userId&&p(!1)},Te=q=>{q!=null&&q.userId&&y(Se=>new Set([...Se,q.userId]))},Pe=q=>{q!=null&&q.userId&&y(Se=>{const T=new Set(Se);return T.delete(q.userId),T})},Ce=q=>{!q||!Array.isArray(q.userIds)||y(new Set(q.userIds))},Ze=q=>{q!=null&&q.clientMessageId&&(!o||q.recipientId!==o.userId||d(Se=>Se.map(T=>{var z;return T.clientMessageId===q.clientMessageId?{...T,_id:(z=(q==null?void 0:q._id)||T._id)==null?void 0:z.toString(),createdAt:(q==null?void 0:q.timestamp)||T.createdAt,status:"sent"}:T})))};return Le.on("message:receive",I),Le.on("message:sent",Ze),Le.on("typing:start",J),Le.on("typing:stop",re),Le.on("user:online",Te),Le.on("user:offline",Pe),Le.on("user:presence",Ce),me(),()=>{Le.off("message:receive",I),Le.off("message:sent",Ze),Le.off("typing:start",J),Le.off("typing:stop",re),Le.off("user:online",Te),Le.off("user:offline",Pe),Le.off("user:presence",Ce),V.current&&clearTimeout(V.current)}},[o,e,me,Z,A==null?void 0:A.conversationId,A==null?void 0:A.listingId]),u.useEffect(()=>{var I;(I=U.current)==null||I.scrollIntoView({behavior:"smooth"})},[c]);const ce=u.useCallback(async I=>{try{w(!0);const J=await Ye.get(`/messages/${I}`),re=r2(J.data.data);return d(re),v(""),re}catch(J){return console.error("Failed to fetch messages:",J),v("Failed to load messages"),null}finally{w(!1)}},[]),ge=u.useCallback(()=>{if(!o)return null;const I=c.find(J=>!!J.listingId);return(I==null?void 0:I.listingId)||o.lastListingId||null},[c,o]),ze=async I=>{var Te;if(l(I),X.current=I.userId,h(""),p(!1),D(null),K(null),M(""),ae(!1),I.isAdminConversation){const Pe=j.map(Ce=>({_id:Ce.id,senderId:Ce.senderId,senderName:Ce.senderName,content:Ce.content,createdAt:Ce.createdAt,isRead:Ce.isRead,status:"sent"}));Pe.sort((Ce,Ze)=>new Date(Ce.createdAt).getTime()-new Date(Ze.createdAt).getTime()),d(Pe),B(0),w(!1);return}const J=await ce(I.userId),re=((Te=J==null?void 0:J.find(Pe=>!!Pe.listingId))==null?void 0:Te.listingId)||I.lastListingId||null;re&&Z(re,I.userId),r(Pe=>Pe.map(Ce=>Ce.userId===I.userId?{...Ce,unreadCount:0}:Ce))},cs=()=>{me()},Xt=async I=>{var Ze,q;if(I.preventDefault(),!m.trim()||!o)return;const J=m.trim();v("");const re=jc(),Te=new Date().toISOString();if(o.isAdminConversation){const Se={_id:re,clientMessageId:re,senderId:e,senderName:t,content:J,createdAt:Te,isRead:!0,status:"sending"};d(T=>[...T,Se]);try{const z=(Ze=(await Ye.post("/messages/admin/reply",{content:J})).data)==null?void 0:Ze.data;z!=null&&z._id&&d(Y=>Y.map(ee=>ee.clientMessageId===re?{...ee,_id:z._id,createdAt:z.createdAt,status:"sent"}:ee)),h(""),He()}catch(T){console.error("Failed to send message to admin:",T),v("Failed to send message to admin team"),d(z=>z.filter(Y=>Y.clientMessageId!==re))}return}const Pe=ge(),Ce={_id:re,clientMessageId:re,senderId:e,senderName:t,content:J,createdAt:Te,isRead:!0,listingId:Pe||void 0,status:Le.isConnected()?"sending":"sent"};d(Se=>[...Se,Ce]);try{if(Le.isConnected())Le.sendMessage(o.userId,J,Pe||void 0,re);else{const T=(q=(await Ye.post("/messages",{recipientId:o.userId,content:J,listingId:Pe||void 0,clientMessageId:re})).data)==null?void 0:q.data;T!=null&&T._id&&d(z=>z.map(Y=>Y.clientMessageId===re?{...Y,_id:T._id,createdAt:T.createdAt,isRead:T.isRead,status:"sent"}:Y))}h(""),r(Se=>Se.map(T=>T.userId===o.userId?{...T,lastMessage:J,lastMessageTime:Te,hasListing:T.hasListing||!!Pe,lastListingId:Pe||T.lastListingId}:T))}catch(Se){console.error("Failed to send message:",Se),v("Failed to send message"),d(T=>T.filter(z=>z.clientMessageId!==re))}finally{o&&Le.stopTyping(o.userId)}},Ot=I=>{const J=I.target.value;h(J),o&&(Le.startTyping(o.userId),V.current&&clearTimeout(V.current),V.current=setTimeout(()=>{Le.stopTyping(o.userId)},3e3))},F=o?f.has(o.userId):!1;return N&&s.length===0?n.jsx("div",{className:"flex flex-col items-center justify-center h-96 text-center",children:n.jsx("span",{className:"text-gray-400 text-sm",children:"Loading conversations..."})}):E&&s.length===0?n.jsx("div",{className:"flex flex-col items-center justify-center h-96 text-center",children:n.jsx("span",{className:"text-sm text-rose-500",children:E})}):s.length===0&&j.length===0&&!x&&!E?n.jsxs("div",{className:"flex flex-col items-center justify-center h-96 text-center",children:[n.jsx("span",{className:"text-6xl mb-4",children:""}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No conversations yet"}),n.jsx("p",{className:"text-gray-500",children:"Start a conversation by messaging a seller or community member"})]}):n.jsxs("div",{className:"flex gap-6 h-[520px] lg:h-[600px] bg-white rounded-3xl border border-gray-100 shadow-xl",children:[n.jsxs("div",{className:"w-80 border-r border-gray-100 flex flex-col",children:[n.jsxs("div",{className:"p-4 border-b border-gray-100 space-y-3",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Messages"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Direct conversations"}),E&&n.jsx("p",{className:"mt-2 text-xs text-red-600",children:E})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-[11px] uppercase tracking-[0.3em] text-gray-400",children:"Search inbox"}),n.jsxs("div",{className:"mt-1 relative",children:[n.jsx("input",{value:i,onChange:I=>a(I.target.value),placeholder:"Find a neighbour or listing",className:"w-full rounded-2xl border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-400 focus:border-rose-400 focus:outline-none focus:ring-2 focus:ring-rose-100 selection:bg-rose-100 selection:text-gray-900"}),i&&n.jsx("button",{type:"button",onClick:()=>a(""),className:"absolute inset-y-0 right-0 px-3 text-xs text-gray-400 hover:text-gray-600",children:"Clear"})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[n.jsxs("span",{children:["Showing ",ie.length," of ",s.length," chats"]}),n.jsx("button",{type:"button",onClick:cs,className:"rounded-full border border-gray-200 px-3 py-1 text-[11px] font-semibold text-gray-600 hover:text-gray-900",children:"Refresh"})]})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto",children:[ie.map(I=>n.jsx("button",{onClick:()=>void ze(I),className:`w-full p-4 border-b border-gray-50 text-left transition ${(o==null?void 0:o.userId)===I.userId?"bg-red-50 border-l-4 border-l-red-500":"hover:bg-gray-50"}`,children:n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"font-semibold text-gray-900 truncate",children:I.userName}),I.isAdminConversation?n.jsx("span",{className:"inline-flex items-center rounded-full bg-emerald-100 px-2 py-0.5 text-[10px] font-bold text-emerald-700",children:"ADMIN"}):n.jsx("div",{className:`w-2 h-2 rounded-full ${f.has(I.userId)?"bg-emerald-500":"bg-gray-300"}`})]}),n.jsx("p",{className:"text-xs text-gray-500 line-clamp-1",children:I.lastMessage}),I.isAdminConversation&&n.jsx("p",{className:"text-[11px] font-semibold text-emerald-600",children:"Support & announcements"}),I.hasListing&&!I.isAdminConversation&&n.jsx("p",{className:"text-[11px] font-semibold text-amber-600",children:"Listing inquiry"}),n.jsx("p",{className:"text-[11px] text-gray-400 mt-1",children:Qh(I.lastMessageTime)})]}),n.jsxs("div",{className:"flex flex-col items-end gap-1",children:[I.unreadCount>0&&n.jsx("span",{className:"inline-flex items-center justify-center rounded-full bg-rose-50 px-2 py-0.5 text-xs font-semibold text-rose-600",children:I.unreadCount}),n.jsx("span",{className:"text-[10px] text-gray-400",children:I.lastMessageTime?new Date(I.lastMessageTime).toLocaleDateString():""})]})]})},I.userId)),!ie.length&&n.jsx("div",{className:"p-6 text-center text-sm text-gray-400",children:i.trim()?`No conversations match ${i.trim()}.`:"Start a chat by messaging a listing or community member."})]})]}),n.jsx("div",{className:"flex-1 flex flex-col",children:o?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:o.userName}),o.isAdminConversation?n.jsx("span",{className:"inline-flex items-center rounded-full bg-emerald-100 px-2 py-0.5 text-xs font-bold text-emerald-700",children:"ADMIN TEAM"}):n.jsxs("span",{className:`text-xs font-semibold ${F?"text-emerald-600":"text-gray-400"}`,children:[" ",F?"Online now":"Offline"]})]}),n.jsx("p",{className:"text-xs text-gray-500",children:o.isAdminConversation?"Support & community announcements":`Last active ${Qh(o.lastMessageTime)}`})]}),n.jsxs("div",{className:"text-right",children:[o.isAdminConversation&&n.jsx("span",{className:"inline-flex items-center gap-1 rounded-full border border-emerald-200 bg-emerald-50 px-3 py-1 text-xs font-semibold text-emerald-700",children:" Official support"}),o.hasListing&&!o.isAdminConversation&&n.jsx("span",{className:"inline-flex items-center gap-1 rounded-full border border-amber-200 bg-amber-50 px-3 py-1 text-xs font-semibold text-amber-700",children:" Listing chat"})]})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[(A==null?void 0:A.conversationId)===o.userId&&n.jsx(n.Fragment,{children:te?n.jsx("div",{className:"rounded-2xl border border-white/60 bg-white p-4 text-sm text-gray-500 shadow",children:"Loading listing details..."}):_?n.jsx("div",{className:"rounded-2xl border border-rose-200 bg-rose-50 p-4 text-xs text-rose-600 shadow",children:_}):L?n.jsxs("div",{className:"flex items-center gap-4 rounded-2xl border border-white/80 bg-white p-4 shadow",children:[(Q=L.images)!=null&&Q.length?n.jsx("img",{src:L.images[0],alt:L.title,className:"h-16 w-16 rounded-xl object-cover"}):n.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-xl bg-gray-100 text-2xl",children:""}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900",children:L.title}),n.jsx("p",{className:"text-xs text-gray-500",children:L.location||"Location TBD"}),n.jsx("p",{className:"text-sm font-bold text-gray-900",children:n2(L.price)}),L.status&&n.jsxs("p",{className:"text-xs text-gray-500 capitalize",children:["Status: ",L.status.toLowerCase()]})]})]}):null}),x?n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsx("span",{className:"text-gray-400",children:"Loading messages..."})}):c.length===0?n.jsx("div",{className:"flex items-center justify-center h-full text-center",children:n.jsx("span",{className:"text-gray-400",children:"No messages yet. Start the conversation!"})}):c.map(I=>n.jsx("div",{className:`flex ${I.senderId===e?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`max-w-xs px-4 py-2 rounded-2xl ${I.senderId===e?"bg-rose-50 border border-rose-100 text-gray-900 shadow-sm":"bg-white border border-gray-200 text-gray-900"}`,children:[n.jsx("p",{className:"text-sm break-words",children:I.content}),n.jsx("p",{className:`text-xs mt-1 ${I.senderId===e?"text-gray-500":"text-gray-400"}`,children:new Date(I.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),I.senderId===e&&I.status==="sending"&&n.jsx("p",{className:"text-[11px] font-semibold text-amber-600 text-right mt-0.5",children:"Sending..."})]})},I._id)),b&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-xs text-gray-500",children:[o.userName," is typing"]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),n.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),n.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]}),n.jsx("div",{ref:U})]}),n.jsxs("form",{onSubmit:Xt,className:"p-4 border-t border-gray-100",children:[g&&n.jsx("div",{className:"mb-3 text-xs text-red-600 bg-red-50 p-2 rounded-lg",children:g}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("textarea",{value:m,onChange:Ot,placeholder:o!=null&&o.isAdminConversation?"Send a message to the admin team...":"Type a message...",className:"flex-1 rounded-2xl border border-gray-200 bg-white px-4 py-2 text-sm text-gray-900 placeholder-gray-400 focus:border-red-400 focus:outline-none focus:ring-2 focus:ring-red-100 resize-none selection:bg-red-100 selection:text-gray-900",rows:3}),n.jsx("button",{type:"submit",disabled:!m.trim(),className:"self-end rounded-2xl bg-red-600 hover:bg-red-700 disabled:bg-gray-300 text-white px-4 py-2 font-semibold transition",children:"Send "})]}),n.jsx("p",{className:"mt-2 text-xs text-gray-400",children:"Heads-up: recipients also get a short email alert so they never miss your note."})]})]}):n.jsx("div",{className:"flex-1 flex items-center justify-center text-center",children:n.jsxs("div",{children:[n.jsx("span",{className:"text-5xl mb-4 block",children:""}),n.jsx("p",{className:"text-gray-500",children:"Select a conversation to start messaging"})]})})})]})}function a2(){const e=pt(),t=se.getUserData(),s=se.getToken();u.useEffect(()=>{if(!s||!t){e("/",{replace:!0,state:{requireAuth:!0}});return}if(t!=null&&t.isAdmin){e("/admin",{replace:!0});return}},[s,t,e]);const r=u.useCallback(()=>{typeof window<"u"&&window.history.length>1?e(-1):e("/")},[e]);return t?n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950",children:[n.jsx("nav",{className:"sticky top-0 z-40 border-b border-white/10 bg-slate-950/70 backdrop-blur-xl",children:n.jsxs("div",{className:"mx-auto flex max-w-7xl items-center justify-between gap-6 px-6 py-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("button",{onClick:r,className:"inline-flex items-center gap-2 rounded-full border border-white/20 px-4 py-2 text-xs font-semibold text-white/80 transition hover:border-white/40 hover:text-white","aria-label":"Go back",children:[n.jsx("span",{className:"text-base",children:""}),n.jsx("span",{className:"hidden sm:inline",children:"Back"})]}),n.jsxs("button",{onClick:()=>e("/"),className:"group flex items-center gap-3 hover:opacity-80 transition",children:[n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-red-500 via-rose-500 to-orange-400 text-2xl font-black text-white shadow-lg shadow-red-500/40",children:"P"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.4em] text-white/60",children:"Pomi"}),n.jsx("p",{className:"text-lg font-black text-white",children:"Messages"})]})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("span",{className:"text-sm text-white/70",children:["Welcome, ",n.jsx("span",{className:"font-semibold text-white",children:t.username})]}),n.jsx("button",{onClick:()=>{se.removeToken(),se.clearUserData(),e("/")},className:"rounded-full bg-white/10 border border-white/20 px-4 py-2 text-sm font-semibold text-white/80 hover:text-white hover:bg-white/20 transition",children:"Sign out"})]})]})}),n.jsx("div",{className:"mx-auto max-w-7xl px-6 py-8",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-black text-white",children:"Direct Messages"}),n.jsx("p",{className:"mt-2 text-lg text-white/70",children:"Stay connected with community members and sellers"})]}),n.jsx(i2,{currentUserId:t._id||"",currentUserName:t.username})]})}),n.jsxs("div",{className:"pointer-events-none fixed inset-0",children:[n.jsx("div",{className:"absolute -top-24 -right-32 h-[420px] w-[420px] rounded-full bg-red-500/30 blur-3xl"}),n.jsx("div",{className:"absolute -bottom-32 -left-24 h-[400px] w-[400px] rounded-full bg-orange-500/20 blur-3xl"})]})]}):n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx("span",{className:"text-gray-500",children:"Loading..."})})}const Yh=[{name:"Gena (Ethiopian Christmas)",date:"Jan 7, 2026",description:"Community liturgy, family gatherings, and post-service feasts."},{name:"Timkat (Epiphany)",date:"Jan 19, 2026",description:"Processions, water blessing, cultural dances, and shared meals."},{name:"Fasika (Easter)",date:"May 3, 2026",description:"Breaking the fast together with doro wot, kitfo, and music."},{name:"Enkutatash (Ethiopian New Year)",date:"Sep 11, 2026",description:"New year blessings, yellow adey flowers, and community brunches."},{name:"Meskel (Finding of the True Cross)",date:"Sep 27, 2026",description:"Demera bonfire, family reunions, and neighborhood festivities."}],o2=["All Events","Cultural","Networking","Workshop","Religious","Social","Sports"],al=9,l2=e=>{if(!e)return"Date coming soon";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},c2=e=>e?e.charAt(0).toUpperCase()+e.slice(1):"General";function d2(){const e=pt(),[t,s]=u.useState([]),[r,i]=u.useState(""),[a,o]=u.useState("All Events"),[l,c]=u.useState([]),[d,m]=u.useState(!1),[h,x]=u.useState(!0),[w,g]=u.useState(null),[v,b]=u.useState({featuredOnly:!1,rsvpOpenOnly:!1}),[p,f]=u.useState(!1),[y,N]=u.useState(1);u.useEffect(()=>{const j=localStorage.getItem("pomi-rsvp");if(j)try{c(JSON.parse(j))}catch{c([])}},[]),u.useEffect(()=>{(async()=>{x(!0),g(null);try{const P=await fetch(`${je}/events`);if(!P.ok)throw new Error("Unable to load events");const R=await P.json(),B=(R.events||R.data||[]).map((A,K)=>({id:A._id||A.id||`event-${K}`,title:A.title??"Community gathering",dateLabel:l2(A.date),timeLabel:A.startTime&&A.endTime?`${A.startTime} - ${A.endTime}`:A.startTime||A.endTime||"Time announced soon",location:A.location||"Location coming soon",attendees:Array.isArray(A.attendees)?A.attendees.length:Number(A.attendees)||0,image:A.image||"/placeholder.jpg",category:c2(A.category),description:A.description,isFeatured:!!A.isFeatured||K===0,rsvpOpen:A.moderationStatus?A.moderationStatus==="approved":!0}));s(B)}catch(P){console.error(P),g("We could not reach the events backend."),s([])}finally{x(!1)}})()},[]);const k=u.useMemo(()=>t.filter(j=>{const P=j.title.toLowerCase().includes(r.toLowerCase()),R=a==="All Events"||j.category===a,B=v.featuredOnly?j.isFeatured:!0,A=v.rsvpOpenOnly?j.rsvpOpen!==!1:!0;return P&&R&&B&&A}),[a,t,v,r]);u.useEffect(()=>{N(1)},[r,a,v]);const E=Math.ceil(k.length/al),C=u.useMemo(()=>{const j=(y-1)*al;return k.slice(j,j+al)},[k,y]),L=async j=>{const P=se.getToken();if(!P){g("Please log in to RSVP for events.");return}const R=l.includes(j);c(B=>{const A=R?B.filter(K=>K!==j):[...B,j];return localStorage.setItem("pomi-rsvp",JSON.stringify(A)),A}),s(B=>B.map(A=>A.id===j?{...A,attendees:Math.max(0,A.attendees+(R?-1:1))}:A));try{const B=R?"DELETE":"POST";await fetch(`${je}/events/${j}/rsvp`,{method:B,headers:{Authorization:`Bearer ${P}`}})}catch(B){console.error(B)}},D=k.find(j=>j.isFeatured)||k[0];return n.jsxs("div",{className:"min-h-screen bg-slate-950 text-white",children:[n.jsx("header",{className:"sticky top-0 z-50 border-b border-slate-800 bg-slate-950/90 backdrop-blur-lg",children:n.jsxs("div",{className:"mx-auto flex h-16 max-w-7xl items-center justify-between px-4 sm:px-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(W,{variant:"ghost",size:"sm",className:"gap-2 text-slate-300 hover:text-white hover:bg-slate-800",onClick:()=>e(-1),children:[n.jsx(js,{className:"h-4 w-4"}),"Back"]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-orange-500 to-rose-600",children:n.jsx("span",{className:"text-lg font-bold text-white",children:"P"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] font-medium uppercase tracking-wider text-slate-400",children:"Pomi"}),n.jsx("p",{className:"text-sm font-semibold text-white",children:"Events"})]})]})]}),n.jsx(ne,{to:"/events/new",children:n.jsxs(W,{size:"sm",className:"gap-2 bg-orange-500 hover:bg-orange-600 text-white",children:[n.jsx(dx,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Create Event"})]})})]})}),n.jsxs("main",{className:"mx-auto max-w-7xl px-4 py-8 sm:px-6",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Community Events"}),n.jsx("p",{className:"text-slate-400",children:"Find cultural celebrations, community gatherings, and networking meetups near you."}),w&&n.jsx("p",{className:"text-sm text-rose-300 mt-2",children:w})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(ux,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),n.jsx(ot,{placeholder:"Search events...",value:r,onChange:j=>i(j.target.value),className:"pl-11 h-12 bg-slate-800 border-slate-700 text-white placeholder:text-slate-400 focus-visible:ring-orange-500"})]}),n.jsxs(W,{variant:d?"default":"outline",className:"h-12 gap-2 border-slate-700 text-slate-50 bg-slate-800/60 hover:bg-slate-800",onClick:()=>m(j=>!j),children:[n.jsx(ow,{className:"h-4 w-4"}),"Filters"]}),n.jsxs(W,{variant:"secondary",className:"h-12 gap-2 bg-emerald-600/80 hover:bg-emerald-600 text-white",onClick:()=>f(j=>!j),children:[n.jsx(dr,{className:"h-4 w-4"}),"Habesha calendar"]})]}),d&&n.jsxs("div",{className:"mb-8 grid gap-4 rounded-2xl border border-slate-800 bg-slate-900/60 p-4 sm:grid-cols-3",children:[n.jsxs("label",{className:"flex items-center gap-3 text-sm text-slate-200",children:[n.jsx("input",{type:"checkbox",checked:v.featuredOnly,onChange:j=>b(P=>({...P,featuredOnly:j.target.checked})),className:"h-4 w-4 rounded border-slate-700 bg-slate-800"}),"Show featured spotlights only"]}),n.jsxs("label",{className:"flex items-center gap-3 text-sm text-slate-200",children:[n.jsx("input",{type:"checkbox",checked:v.rsvpOpenOnly,onChange:j=>b(P=>({...P,rsvpOpenOnly:j.target.checked})),className:"h-4 w-4 rounded border-slate-700 bg-slate-800"}),"Accepting RSVPs now"]}),n.jsx(W,{variant:"ghost",className:"justify-start text-slate-300 hover:text-white",onClick:()=>b({featuredOnly:!1,rsvpOpenOnly:!1}),children:"Reset filters"})]}),p&&n.jsxs("div",{className:"mb-8 rounded-2xl border border-slate-800 bg-slate-900/70 p-5 space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-white",children:"Key Ethiopian holidays"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Upcoming faith and cultural celebrations to mark on your calendar."})]}),n.jsxs("span",{className:"text-xs text-slate-500",children:[Yh.length," dates"]})]}),n.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:Yh.map(j=>n.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-900/60 p-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h4",{className:"font-semibold text-white",children:j.name}),n.jsx("span",{className:"text-xs text-emerald-300",children:j.date})]}),n.jsx("p",{className:"text-sm text-slate-400 mt-1",children:j.description})]},j.name))})]}),n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-4 mb-8 scrollbar-hide",children:o2.map(j=>n.jsx("button",{onClick:()=>o(j),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${a===j?"bg-orange-500 text-white":"bg-slate-800 text-slate-400 hover:text-white"}`,children:j},j))}),h?n.jsx("div",{className:"mb-8 h-72 rounded-2xl border border-slate-800 bg-slate-900/60 animate-pulse"}):D&&n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Featured Event"}),n.jsxs("div",{className:"relative rounded-2xl overflow-hidden",children:[n.jsx("img",{src:D.image||"/placeholder.svg",alt:D.title,className:"h-72 w-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-950/90 to-transparent"}),n.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white",children:[n.jsx("span",{className:"mb-2 inline-flex items-center rounded-full bg-white/20 px-3 py-1 text-xs font-semibold",children:D.category}),n.jsx("h3",{className:"text-3xl font-bold",children:D.title}),n.jsx("p",{className:"mt-2 text-sm text-white/80",children:D.description}),n.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 text-sm text-white/80",children:[n.jsxs("span",{className:"inline-flex items-center gap-2",children:[n.jsx(dr,{className:"h-4 w-4"}),D.dateLabel]}),n.jsxs("span",{className:"inline-flex items-center gap-2",children:[n.jsx(Ma,{className:"h-4 w-4"}),D.timeLabel]}),n.jsxs("span",{className:"inline-flex items-center gap-2",children:[n.jsx(oi,{className:"h-4 w-4"}),D.location]})]})]})]})]}),h?n.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((j,P)=>n.jsx("div",{className:"h-64 rounded-2xl border border-slate-800 bg-slate-900/50 animate-pulse"},P))}):k.length===0?n.jsx("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-10 text-center text-slate-400",children:"No events match your filters right now. Try adjusting categories or check back soon."}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsxs("p",{className:"text-sm text-slate-400",children:["Showing ",C.length," of ",k.length," events"]})}),n.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:C.map(j=>n.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6 flex flex-col gap-4 hover:border-slate-700 transition-colors",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-slate-400",children:j.category}),n.jsx("h3",{className:"text-xl font-bold text-white",children:j.title})]}),n.jsx("p",{className:"text-sm text-slate-400 line-clamp-3 flex-1",children:j.description||"Details coming soon."}),n.jsxs("div",{className:"space-y-2 text-sm text-slate-300",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(dr,{className:"h-4 w-4 text-slate-500"}),j.dateLabel]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ma,{className:"h-4 w-4 text-slate-500"}),j.timeLabel]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(oi,{className:"h-4 w-4 text-slate-500"}),j.location]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(mx,{className:"h-4 w-4 text-slate-500"}),j.attendees," attending"]})]}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsx(W,{variant:l.includes(j.id)?"secondary":"default",className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white",onClick:()=>L(j.id),disabled:j.rsvpOpen===!1,children:l.includes(j.id)?"RSVP'd":"RSVP"}),n.jsx(ne,{to:`/events/${j.id}`,children:n.jsx(W,{variant:"outline",className:"border-slate-700 text-slate-300 hover:bg-slate-800",children:"Details"})})]})]},j.id))}),E>1&&n.jsxs("div",{className:"mt-8 flex items-center justify-center gap-2",children:[n.jsxs(W,{variant:"outline",size:"sm",className:"border-slate-700 text-slate-300 hover:bg-slate-800",disabled:y===1,onClick:()=>N(j=>j-1),children:[n.jsx(Nd,{className:"h-4 w-4"}),"Previous"]}),n.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:E}).map((j,P)=>n.jsx("button",{onClick:()=>N(P+1),className:`h-8 w-8 rounded-lg text-sm font-medium transition-colors ${y===P+1?"bg-orange-500 text-white":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:P+1},P))}),n.jsxs(W,{variant:"outline",size:"sm",className:"border-slate-700 text-slate-300 hover:bg-slate-800",disabled:y===E,onClick:()=>N(j=>j+1),children:["Next",n.jsx(kd,{className:"h-4 w-4"})]})]})]})]})]})}const u2=e=>{if(!e)return"Date coming soon";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})},h2=e=>e?e.charAt(0).toUpperCase()+e.slice(1):"General";function m2(){const{id:e}=ro();pt();const[t,s]=u.useState(null),[r,i]=u.useState(!0),[a,o]=u.useState(null),[l,c]=u.useState(!1),[d,m]=u.useState(!1),[h,x]=u.useState(0);u.useEffect(()=>{(async()=>{var p,f;if(e){i(!0),o(null);try{const y=await fetch(`${je}/events/${e}`);if(!y.ok)throw new Error("Event not found");const N=await y.json(),k=N.event||N.data||N,E={id:k._id||k.id||e,title:k.title??"Community gathering",dateLabel:u2(k.date),timeLabel:k.startTime&&k.endTime?`${k.startTime} - ${k.endTime}`:k.startTime||k.endTime||"Time announced soon",location:k.location||"Location coming soon",attendees:Array.isArray(k.attendees)?k.attendees.length:Number(k.attendees)||0,image:k.image||"/placeholder.jpg",category:h2(k.category),description:k.description,organizer:((p=k.organizer)==null?void 0:p.name)||((f=k.organizer)==null?void 0:f.email)||"Community member"};s(E),x(E.attendees);const C=localStorage.getItem("pomi-rsvp");if(C)try{const D=JSON.parse(C);c(D.includes(e))}catch{c(!1)}const L=localStorage.getItem("pomi-liked-events");if(L)try{const D=JSON.parse(L);m(D.includes(e))}catch{m(!1)}}catch(y){console.error(y),o("We could not load this event.")}finally{i(!1)}}})()},[e]);const w=async()=>{const b=se.getToken();if(!b){o("Please log in to RSVP for events.");return}const p=!l;c(p),x(N=>N+(p?1:-1));const f=localStorage.getItem("pomi-rsvp");let y=[];if(f)try{y=JSON.parse(f)}catch{y=[]}p?y.push(e):y=y.filter(N=>N!==e),localStorage.setItem("pomi-rsvp",JSON.stringify(y));try{const N=p?"POST":"DELETE";await fetch(`${je}/events/${e}/rsvp`,{method:N,headers:{Authorization:`Bearer ${b}`}})}catch(N){console.error(N)}},g=()=>{const b=!d;m(b);const p=localStorage.getItem("pomi-liked-events");let f=[];if(p)try{f=JSON.parse(p)}catch{f=[]}b?f.push(e):f=f.filter(y=>y!==e),localStorage.setItem("pomi-liked-events",JSON.stringify(f))},v=async()=>{if(navigator.share)try{await navigator.share({title:(t==null?void 0:t.title)||"Check out this event",text:(t==null?void 0:t.description)||"Join us at this community event!",url:window.location.href})}catch{}else await navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!")};return r?n.jsxs("div",{className:"min-h-screen bg-slate-950",children:[n.jsx("header",{className:"sticky top-0 z-50 border-b border-slate-800 bg-slate-950/90 backdrop-blur-lg",children:n.jsx("div",{className:"mx-auto flex h-16 max-w-7xl items-center gap-4 px-4 sm:px-6",children:n.jsx(ne,{to:"/events",children:n.jsxs(W,{variant:"ghost",size:"sm",className:"gap-2 text-slate-300 hover:text-white hover:bg-slate-800",children:[n.jsx(js,{className:"h-4 w-4"}),"Back"]})})})}),n.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8 sm:px-6",children:[n.jsx("div",{className:"h-96 rounded-2xl border border-slate-800 bg-slate-900/60 animate-pulse mb-6"}),n.jsx("div",{className:"h-48 rounded-2xl border border-slate-800 bg-slate-900/60 animate-pulse"})]})]}):a||!t?n.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:n.jsxs("div",{className:"text-center space-y-4",children:[n.jsx("h2",{className:"text-2xl font-bold text-white",children:"Event not found"}),n.jsx("p",{className:"text-slate-400",children:a||"This event may have been removed."}),n.jsx(ne,{to:"/events",children:n.jsx(W,{className:"bg-orange-500 hover:bg-orange-600 text-white",children:"Back to Events"})})]})}):n.jsxs("div",{className:"min-h-screen bg-slate-950 text-white",children:[n.jsx("header",{className:"sticky top-0 z-50 border-b border-slate-800 bg-slate-950/90 backdrop-blur-lg",children:n.jsxs("div",{className:"mx-auto flex h-16 max-w-7xl items-center justify-between px-4 sm:px-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ne,{to:"/events",children:n.jsxs(W,{variant:"ghost",size:"sm",className:"gap-2 text-slate-300 hover:text-white hover:bg-slate-800",children:[n.jsx(js,{className:"h-4 w-4"}),"Back"]})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ne,{to:"/",className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-orange-500 to-rose-600 hover:scale-[1.02] transition",children:n.jsx("span",{className:"text-lg font-bold text-white",children:"P"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] font-medium uppercase tracking-wider text-slate-400",children:"POMI"}),n.jsx("p",{className:"text-sm font-semibold text-white",children:"Event Details"})]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(W,{size:"sm",variant:"ghost",className:"text-slate-300 hover:text-white hover:bg-slate-800",onClick:v,children:n.jsx(ar,{className:"h-4 w-4"})}),n.jsx(W,{size:"sm",variant:"ghost",className:"text-slate-300 hover:text-white hover:bg-slate-800",children:n.jsx(lc,{className:"h-4 w-4"})})]})]})}),n.jsx("main",{className:"max-w-5xl mx-auto px-4 py-8 sm:px-6",children:n.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs("div",{className:"relative rounded-2xl overflow-hidden border border-slate-800 bg-slate-900 h-80 sm:h-96",children:[n.jsx("img",{src:t.image||"/placeholder.jpg",alt:t.title,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute top-4 left-4",children:n.jsx("span",{className:"inline-flex items-center rounded-full bg-white/20 backdrop-blur px-3 py-1 text-xs font-semibold text-white",children:t.category})})]}),n.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-white",children:t.title}),t.organizer&&n.jsxs("p",{className:"text-sm text-slate-400 mt-2",children:["Hosted by ",t.organizer]})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 border-t border-slate-800 pt-6",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(dr,{className:"h-5 w-5 text-emerald-400 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-400",children:"Date"}),n.jsx("p",{className:"text-white font-medium",children:t.dateLabel})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Ma,{className:"h-5 w-5 text-emerald-400 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-400",children:"Time"}),n.jsx("p",{className:"text-white font-medium",children:t.timeLabel})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(oi,{className:"h-5 w-5 text-emerald-400 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-400",children:"Location"}),n.jsx("p",{className:"text-white font-medium",children:t.location})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(mx,{className:"h-5 w-5 text-emerald-400 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-400",children:"Attendees"}),n.jsxs("p",{className:"text-white font-medium",children:[h," going"]})]})]})]}),t.description&&n.jsxs("div",{className:"border-t border-slate-800 pt-6",children:[n.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wide mb-2",children:"About this event"}),n.jsx("p",{className:"text-slate-300 leading-relaxed",children:t.description})]}),n.jsxs("div",{className:"flex flex-wrap gap-3 pt-4 border-t border-slate-800",children:[n.jsx(W,{onClick:w,className:`gap-2 ${l?"bg-emerald-600 hover:bg-emerald-700":"bg-orange-500 hover:bg-orange-600"} text-white`,children:l?"RSVP'd":"RSVP Now"}),n.jsxs(W,{onClick:g,variant:"outline",className:`gap-2 ${d?"border-rose-500/50 bg-rose-950/30 text-rose-400":"border-slate-700 text-slate-300 hover:bg-slate-800"}`,children:[n.jsx(yr,{className:`h-4 w-4 ${d?"fill-current":""}`}),d?"Liked":"Like"]}),n.jsx(ne,{to:`/messages?topic=Event: ${encodeURIComponent(t.title)}`,children:n.jsxs(W,{variant:"outline",className:"gap-2 border-slate-700 text-slate-300 hover:bg-slate-800",children:[n.jsx(Ks,{className:"h-4 w-4"}),"Discuss"]})})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6",children:[n.jsxs("div",{className:"mb-4 text-center",children:[n.jsx("p",{className:"text-4xl font-bold text-white",children:h}),n.jsx("p",{className:"text-sm text-slate-400",children:"People going"})]}),n.jsx(W,{onClick:w,className:`w-full gap-2 ${l?"bg-emerald-600 hover:bg-emerald-700":"bg-orange-500 hover:bg-orange-600"} text-white`,children:l?"Going":"RSVP Now"}),n.jsxs("div",{className:"mt-4 p-3 rounded-lg bg-slate-800/50 border border-slate-700",children:[n.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wide",children:"Category"}),n.jsx("p",{className:"text-sm text-white mt-1",children:t.category})]})]}),n.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6",children:[n.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wide mb-3",children:"Share event"}),n.jsxs(W,{variant:"outline",className:"w-full gap-2 border-slate-700 text-slate-300 hover:bg-slate-800",onClick:v,children:[n.jsx(ar,{className:"h-4 w-4"}),"Share link"]})]}),n.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6",children:[n.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wide mb-3",children:"Safety"}),n.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:"All events are community-hosted. Meet in public places and share your plans with someone you trust."})]})]})]})})]})}const f2=["Cultural","Networking","Workshop","Religious","Social","Sports","Other"];function p2(){const e=pt(),[t,s]=u.useState(!1),[r,i]=u.useState(!1),[a,o]=u.useState(null),[l,c]=u.useState({title:"",description:"",date:"",startTime:"",endTime:"",location:"",category:"",image:""}),d=u.useRef(null),m=async h=>{h.preventDefault(),s(!0),o(null);const x=se.getToken();if(!x){o("Please log in to create an event."),s(!1);return}if(!l.title||!l.description||!l.date||!l.startTime||!l.location){o("Please complete all required fields."),s(!1);return}try{if(!(await fetch(`${je}/events`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${x}`},body:JSON.stringify({title:l.title,description:l.description,location:l.location,date:l.date,startTime:l.startTime,endTime:l.endTime,category:l.category||"other",image:l.image||void 0})})).ok)throw new Error("Could not create event");i(!0),setTimeout(()=>e("/events"),1400)}catch(w){console.error(w),o("Unable to create the event right now. Please try again.")}finally{s(!1)}};return r?n.jsx("div",{className:"min-h-screen bg-slate-950 text-white flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-emerald-500 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(ix,{className:"h-8 w-8 text-white"})}),n.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Event submitted!"}),n.jsx("p",{className:"text-slate-400 mb-4",children:"We'll add it to the feed as soon as it's approved."}),n.jsx("p",{className:"text-sm text-slate-500",children:"Redirecting to events..."})]})}):n.jsxs("div",{className:"min-h-screen bg-slate-950 text-white",children:[n.jsx("header",{className:"sticky top-0 z-50 border-b border-slate-800 bg-slate-950/90 backdrop-blur-lg",children:n.jsx("div",{className:"mx-auto flex h-16 max-w-7xl items-center justify-between px-4 sm:px-6",children:n.jsx("div",{className:"flex items-center gap-4",children:n.jsx(ne,{to:"/events",children:n.jsxs(W,{variant:"ghost",size:"sm",className:"gap-2 text-slate-300 hover:text-white hover:bg-slate-800",children:[n.jsx(js,{className:"h-4 w-4"}),"Back to Events"]})})})})}),n.jsxs("main",{className:"mx-auto max-w-2xl px-4 py-8 sm:px-6",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Create an Event"}),n.jsx("p",{className:"text-slate-400",children:"Invite the community to your celebration, meetup, or workshop."}),a&&n.jsx("p",{className:"text-sm text-rose-300 mt-2",children:a})]}),n.jsxs("form",{onSubmit:m,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx(De,{htmlFor:"title",className:"text-white",children:"Title"}),n.jsx(ot,{id:"title",placeholder:"Traditional Coffee Ceremony Workshop",value:l.title,onChange:h=>c({...l,title:h.target.value}),className:"mt-2 bg-slate-800 border-slate-700 text-white placeholder:text-slate-400",required:!0})]}),n.jsxs("div",{children:[n.jsx(De,{htmlFor:"description",className:"text-white",children:"Description"}),n.jsx(fo,{id:"description",placeholder:"Share what attendees can expect, who should come, and any costs.",value:l.description,onChange:h=>c({...l,description:h.target.value}),className:"mt-2 bg-slate-800 border-slate-700 text-white placeholder:text-slate-400 min-h-32",required:!0})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(De,{htmlFor:"date",className:"text-white",children:"Date"}),n.jsx(ot,{id:"date",type:"date",value:l.date,onChange:h=>c({...l,date:h.target.value}),className:"mt-2 bg-slate-800 border-slate-700 text-white placeholder:text-slate-400",required:!0})]}),n.jsxs("div",{children:[n.jsx(De,{htmlFor:"startTime",className:"text-white",children:"Start time"}),n.jsx(ot,{id:"startTime",type:"time",value:l.startTime,onChange:h=>c({...l,startTime:h.target.value}),className:"mt-2 bg-slate-800 border-slate-700 text-white placeholder:text-slate-400",required:!0})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(De,{htmlFor:"endTime",className:"text-white",children:"End time"}),n.jsx(ot,{id:"endTime",type:"time",value:l.endTime,onChange:h=>c({...l,endTime:h.target.value}),className:"mt-2 bg-slate-800 border-slate-700 text-white placeholder:text-slate-400"})]}),n.jsxs("div",{children:[n.jsx(De,{htmlFor:"category",className:"text-white",children:"Category"}),n.jsxs("select",{id:"category",value:l.category,onChange:h=>c({...l,category:h.target.value}),className:"mt-2 w-full h-10 px-3 rounded-md bg-slate-800 border border-slate-700 text-white",required:!0,children:[n.jsx("option",{value:"",children:"Select category"}),f2.map(h=>n.jsx("option",{value:h.toLowerCase(),children:h},h))]})]})]}),n.jsxs("div",{children:[n.jsx(De,{htmlFor:"location",className:"text-white",children:"Location"}),n.jsx(ot,{id:"location",placeholder:"Ottawa Community Centre",value:l.location,onChange:h=>c({...l,location:h.target.value}),className:"mt-2 bg-slate-800 border-slate-700 text-white placeholder:text-slate-400",required:!0})]}),n.jsxs("div",{children:[n.jsx(De,{htmlFor:"image",className:"text-white",children:"Cover image URL (optional)"}),n.jsx(ot,{id:"image",placeholder:"https://example.com/cover.jpg",value:l.image,onChange:h=>c({...l,image:h.target.value}),className:"mt-2 bg-slate-800 border-slate-700 text-white placeholder:text-slate-400",ref:d})]}),n.jsx(W,{type:"submit",size:"lg",className:"w-full bg-orange-500 hover:bg-orange-600 text-white",disabled:t,children:t?"Submitting...":"Submit event"})]})]})]})}function x2(){const e=pt(),[t,s]=u.useState(""),[r,i]=u.useState(!1),[a,o]=u.useState(""),[l,c]=u.useState(""),d=se.getUserData(),m=se.getToken(),h=!!(m&&d),x=[{q:"How do I contact a seller safely?",a:"Use the in-app messages and keep all payments in-person or through trusted methods. Report anything suspicious via the report menu inside Messages."},{q:"What if I see inappropriate content?",a:"Flag the listing or message and choose a reason. Our moderators review reports within 48 hours."},{q:"How do I reset my login?",a:"Use the email code flow on the sign-in page. If you are locked out, reach out to support@pomi.community with a screenshot."},{q:"How do I list an item for sale?",a:'Go to the Marketplace, click "Create Listing", fill out the form with title, description, price, and photos, then submit for review.'},{q:"How do I RSVP to an event?",a:"Browse events, find one you like, and click the RSVP button. You'll receive a confirmation and reminders via email."}],w=async g=>{if(g.preventDefault(),!(!t.trim()||!h)){o(""),c(""),i(!0);try{const v=await fetch(`${je}/messages/admin/reply`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},body:JSON.stringify({content:t.trim()})});if(!v.ok){const b=await v.json();throw new Error(b.error||"Failed to send message")}s(""),c("Message sent! Our team will respond within 48 hours.")}catch(v){console.error("Failed to send message:",v),o(v.message||"Failed to send message. Please try again.")}finally{i(!1)}}};return n.jsxs("main",{className:"min-h-screen bg-slate-950 text-slate-50",children:[n.jsx("header",{className:"sticky top-0 z-40 border-b border-slate-800 bg-slate-950/85 backdrop-blur",children:n.jsxs("div",{className:"mx-auto flex h-16 max-w-5xl items-center justify-between gap-3 px-4 sm:px-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("button",{onClick:()=>e(-1),className:"inline-flex items-center gap-2 rounded-full border border-white/20 px-4 py-2 text-xs font-semibold text-white/80 transition hover:border-white/40 hover:text-white",children:[n.jsx("span",{className:"text-base",children:""}),n.jsx("span",{className:"hidden sm:inline",children:"Back"})]}),n.jsxs(ne,{to:"/",className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-orange-500 to-rose-600 hover:scale-[1.02] transition",children:n.jsx("span",{className:"text-lg font-bold text-white",children:"P"})}),n.jsxs("div",{className:"hidden sm:block",children:[n.jsx("p",{className:"text-[10px] font-medium uppercase tracking-wider text-slate-400",children:"Pomi"}),n.jsx("p",{className:"text-sm font-semibold text-white",children:"Support Centre"})]})]})]}),h&&n.jsxs("span",{className:"text-sm text-white/70",children:["Logged in as ",n.jsx("span",{className:"font-semibold text-white",children:d==null?void 0:d.username})]})]})}),n.jsxs("div",{className:"mx-auto max-w-5xl px-4 py-12 sm:px-6",children:[n.jsxs("div",{className:"mb-10 space-y-3",children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-emerald-300",children:"Resources"}),n.jsx("h1",{className:"text-3xl font-bold text-white",children:"Support Centre"}),n.jsx("p",{className:"text-slate-400",children:"Get help with messaging, listings, events, and safety. Our team responds within 48 hours for all tickets."})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6 space-y-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-white",children:"Contact us"}),n.jsx("p",{className:"text-slate-400 text-sm",children:"Reach the Pomi support team for account issues or content moderation."}),n.jsxs("div",{className:"space-y-2 text-sm text-slate-300",children:[n.jsxs("p",{children:["Email: ",n.jsx("a",{className:"text-emerald-300 hover:underline",href:"mailto:support@pomi.community",children:"support@pomi.community"})]}),n.jsx("p",{children:"Response time: within 48 hours"}),n.jsx("p",{children:"Hours: 9am - 6pm EST, Monday to Saturday"})]})]}),n.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6 space-y-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-white",children:"Quick actions"}),n.jsxs("ul",{className:"space-y-2 text-sm text-slate-300 list-disc list-inside",children:[n.jsx("li",{children:"Report a message: open the 3-dot menu on a message and pick a reason"}),n.jsx("li",{children:"Report a listing: use the flag on listing detail and choose a reason"}),n.jsx("li",{children:"Reset login: request a new email code from the sign-in page"}),n.jsx("li",{children:"Safety tips: meet in public, verify payments, and keep chats on Pomi"})]})]})]}),n.jsxs("div",{className:"mt-10 rounded-2xl border border-slate-800 bg-slate-900/70 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Send us a message"}),h?n.jsxs("form",{onSubmit:w,className:"space-y-4",children:[a&&n.jsx("div",{className:"rounded-lg bg-red-500/10 border border-red-500/30 p-3 text-sm text-red-300",children:a}),l&&n.jsx("div",{className:"rounded-lg bg-emerald-500/10 border border-emerald-500/30 p-3 text-sm text-emerald-300",children:l}),n.jsx("textarea",{value:t,onChange:g=>s(g.target.value),className:"w-full min-h-[120px] rounded-xl border border-slate-700 bg-slate-800 p-4 text-sm text-white placeholder-slate-400 focus:border-emerald-400 focus:outline-none focus:ring-2 focus:ring-emerald-400/20 resize-none selection:bg-emerald-400/30 selection:text-white",placeholder:"Describe your issue or question...",disabled:r}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-xs text-slate-400",children:"We'll respond to your message within 48 hours."}),n.jsx("button",{type:"submit",disabled:!t.trim()||r,className:"inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-emerald-500 to-teal-500 px-5 py-2 text-sm font-semibold text-white shadow-lg shadow-emerald-500/30 transition hover:-translate-y-0.5 disabled:cursor-not-allowed disabled:opacity-50",children:r?"Sending...":"Send message"})]})]}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx("p",{className:"text-slate-400 mb-4",children:"Please log in to send a message to our support team."}),n.jsx(ne,{to:"/",className:"inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-emerald-500 to-teal-500 px-5 py-2 text-sm font-semibold text-white shadow-lg shadow-emerald-500/30 transition hover:-translate-y-0.5",children:"Log in to continue"})]})]}),n.jsxs("div",{className:"mt-10 rounded-2xl border border-slate-800 bg-slate-900/70 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Frequently Asked Questions"}),n.jsx("div",{className:"space-y-4",children:x.map(g=>n.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-900/60 p-4",children:[n.jsx("p",{className:"font-semibold text-white",children:g.q}),n.jsx("p",{className:"text-sm text-slate-300 mt-1 leading-relaxed",children:g.a})]},g.q))})]}),n.jsxs("div",{className:"mt-10 grid gap-4 sm:grid-cols-3",children:[n.jsxs(ne,{to:"/marketplace",className:"rounded-xl border border-slate-800 bg-slate-900/60 p-4 text-center hover:border-slate-700 transition",children:[n.jsx("p",{className:"text-2xl mb-2",children:""}),n.jsx("p",{className:"font-semibold text-white",children:"Marketplace"}),n.jsx("p",{className:"text-xs text-slate-400",children:"Browse listings"})]}),n.jsxs(ne,{to:"/events",className:"rounded-xl border border-slate-800 bg-slate-900/60 p-4 text-center hover:border-slate-700 transition",children:[n.jsx("p",{className:"text-2xl mb-2",children:""}),n.jsx("p",{className:"font-semibold text-white",children:"Events"}),n.jsx("p",{className:"text-xs text-slate-400",children:"Community gatherings"})]}),n.jsxs(ne,{to:"/forums",className:"rounded-xl border border-slate-800 bg-slate-900/60 p-4 text-center hover:border-slate-700 transition",children:[n.jsx("p",{className:"text-2xl mb-2",children:""}),n.jsx("p",{className:"font-semibold text-white",children:"Forums"}),n.jsx("p",{className:"text-xs text-slate-400",children:"Discussions"})]})]})]})]})}ol.createRoot(document.getElementById("root")).render(n.jsx(us.StrictMode,{children:n.jsxs(iv,{attribute:"class",defaultTheme:"dark",enableSystem:!1,children:[n.jsx(Kb,{children:n.jsxs(zb,{children:[n.jsx(it,{path:"/admin/*",element:n.jsx(s2,{})}),n.jsx(it,{path:"/marketplace",element:n.jsx(_1,{})}),n.jsx(it,{path:"/marketplace/new",element:n.jsx(I1,{})}),n.jsx(it,{path:"/marketplace/:id",element:n.jsx(R1,{})}),n.jsx(it,{path:"/forums",element:n.jsx(V1,{})}),n.jsx(it,{path:"/forums/:postId",element:n.jsx(W1,{})}),n.jsx(it,{path:"/business",element:n.jsx(F1,{})}),n.jsx(it,{path:"/business/new",element:n.jsx($1,{})}),n.jsx(it,{path:"/business/:id",element:n.jsx(B1,{})}),n.jsx(it,{path:"/messages",element:n.jsx(a2,{})}),n.jsx(it,{path:"/events",element:n.jsx(d2,{})}),n.jsx(it,{path:"/events/new",element:n.jsx(p2,{})}),n.jsx(it,{path:"/events/:id",element:n.jsx(m2,{})}),n.jsx(it,{path:"/support",element:n.jsx(x2,{})}),n.jsx(it,{path:"/*",element:n.jsx(_N,{})})]})}),n.jsx(qw,{})]})}));
//# sourceMappingURL=index-CAe36igv.js.map
